const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/IronSnappPage-DXr9labc.js","assets/IronSnappPage-Dgihpmma.css","assets/PricesPage-BmVkg86j.js","assets/priceService-mbjv3pkS.js","assets/MapFinderPage-DkoPJCwg.js"])))=>i.map(i=>d[i]);
var Qg=Object.defineProperty;var Yu=t=>{throw TypeError(t)};var Zg=(t,e,r)=>e in t?Qg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Q=(t,e,r)=>Zg(t,typeof e!="symbol"?e+"":e,r),Xg=(t,e,r)=>e.has(t)||Yu("Cannot "+r);var Ju=(t,e,r)=>e.has(t)?Yu("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r);var Fs=(t,e,r)=>(Xg(t,e,"access private method"),r);function e0(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Kr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Cs(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var $h={exports:{}},vo={},Bh={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rs=Symbol.for("react.element"),t0=Symbol.for("react.portal"),r0=Symbol.for("react.fragment"),n0=Symbol.for("react.strict_mode"),s0=Symbol.for("react.profiler"),i0=Symbol.for("react.provider"),o0=Symbol.for("react.context"),a0=Symbol.for("react.forward_ref"),l0=Symbol.for("react.suspense"),u0=Symbol.for("react.memo"),c0=Symbol.for("react.lazy"),Qu=Symbol.iterator;function d0(t){return t===null||typeof t!="object"?null:(t=Qu&&t[Qu]||t["@@iterator"],typeof t=="function"?t:null)}var Fh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zh=Object.assign,Hh={};function Rn(t,e,r){this.props=t,this.context=e,this.refs=Hh,this.updater=r||Fh}Rn.prototype.isReactComponent={};Rn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Gh(){}Gh.prototype=Rn.prototype;function Cl(t,e,r){this.props=t,this.context=e,this.refs=Hh,this.updater=r||Fh}var Rl=Cl.prototype=new Gh;Rl.constructor=Cl;zh(Rl,Rn.prototype);Rl.isPureReactComponent=!0;var Zu=Array.isArray,Vh=Object.prototype.hasOwnProperty,jl={current:null},Wh={key:!0,ref:!0,__self:!0,__source:!0};function qh(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Vh.call(e,n)&&!Wh.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Rs,type:t,key:i,ref:o,props:s,_owner:jl.current}}function h0(t,e){return{$$typeof:Rs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rs}function f0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Xu=/\/+/g;function Fo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?f0(""+t.key):e.toString(36)}function vi(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Rs:case t0:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Fo(o,0):n,Zu(s)?(r="",t!=null&&(r=t.replace(Xu,"$&/")+"/"),vi(s,e,r,"",function(c){return c})):s!=null&&(Pl(s)&&(s=h0(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Xu,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Zu(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+Fo(i,a);o+=vi(i,e,r,l,s)}else if(l=d0(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+Fo(i,a++),o+=vi(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function zs(t,e,r){if(t==null)return t;var n=[],s=0;return vi(t,n,"","",function(i){return e.call(r,i,s++)}),n}function p0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pe={current:null},yi={transition:null},m0={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:yi,ReactCurrentOwner:jl};function Kh(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:zs,forEach:function(t,e,r){zs(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return zs(t,function(){e++}),e},toArray:function(t){return zs(t,function(e){return e})||[]},only:function(t){if(!Pl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};z.Component=Rn;z.Fragment=r0;z.Profiler=s0;z.PureComponent=Cl;z.StrictMode=n0;z.Suspense=l0;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m0;z.act=Kh;z.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=zh({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=jl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Vh.call(e,l)&&!Wh.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Rs,type:t.type,key:s,ref:i,props:n,_owner:o}};z.createContext=function(t){return t={$$typeof:o0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:i0,_context:t},t.Consumer=t};z.createElement=qh;z.createFactory=function(t){var e=qh.bind(null,t);return e.type=t,e};z.createRef=function(){return{current:null}};z.forwardRef=function(t){return{$$typeof:a0,render:t}};z.isValidElement=Pl;z.lazy=function(t){return{$$typeof:c0,_payload:{_status:-1,_result:t},_init:p0}};z.memo=function(t,e){return{$$typeof:u0,type:t,compare:e===void 0?null:e}};z.startTransition=function(t){var e=yi.transition;yi.transition={};try{t()}finally{yi.transition=e}};z.unstable_act=Kh;z.useCallback=function(t,e){return Pe.current.useCallback(t,e)};z.useContext=function(t){return Pe.current.useContext(t)};z.useDebugValue=function(){};z.useDeferredValue=function(t){return Pe.current.useDeferredValue(t)};z.useEffect=function(t,e){return Pe.current.useEffect(t,e)};z.useId=function(){return Pe.current.useId()};z.useImperativeHandle=function(t,e,r){return Pe.current.useImperativeHandle(t,e,r)};z.useInsertionEffect=function(t,e){return Pe.current.useInsertionEffect(t,e)};z.useLayoutEffect=function(t,e){return Pe.current.useLayoutEffect(t,e)};z.useMemo=function(t,e){return Pe.current.useMemo(t,e)};z.useReducer=function(t,e,r){return Pe.current.useReducer(t,e,r)};z.useRef=function(t){return Pe.current.useRef(t)};z.useState=function(t){return Pe.current.useState(t)};z.useSyncExternalStore=function(t,e,r){return Pe.current.useSyncExternalStore(t,e,r)};z.useTransition=function(){return Pe.current.useTransition()};z.version="18.3.1";Bh.exports=z;var N=Bh.exports;const yo=Mh(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0=N,v0=Symbol.for("react.element"),y0=Symbol.for("react.fragment"),w0=Object.prototype.hasOwnProperty,_0=g0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,E0={key:!0,ref:!0,__self:!0,__source:!0};function Yh(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)w0.call(e,n)&&!E0.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:v0,type:t,key:i,ref:o,props:s,_owner:_0.current}}vo.Fragment=y0;vo.jsx=Yh;vo.jsxs=Yh;$h.exports=vo;var u=$h.exports,wa={},Jh={exports:{}},Xe={},Qh={exports:{}},Zh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,j){var F=T.length;T.push(j);e:for(;0<F;){var ee=F-1>>>1,ue=T[ee];if(0<s(ue,j))T[ee]=j,T[F]=ue,F=ee;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var j=T[0],F=T.pop();if(F!==j){T[0]=F;e:for(var ee=0,ue=T.length,Et=ue>>>1;ee<Et;){var Rt=2*(ee+1)-1,Hr=T[Rt],jt=Rt+1,Pt=T[jt];if(0>s(Hr,F))jt<ue&&0>s(Pt,Hr)?(T[ee]=Pt,T[jt]=F,ee=jt):(T[ee]=Hr,T[Rt]=F,ee=Rt);else if(jt<ue&&0>s(Pt,F))T[ee]=Pt,T[jt]=F,ee=jt;else break e}}return j}function s(T,j){var F=T.sortIndex-j.sortIndex;return F!==0?F:T.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,m=!1,y=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(T){for(var j=r(c);j!==null;){if(j.callback===null)n(c);else if(j.startTime<=T)n(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=r(c)}}function _(T){if(w=!1,p(T),!y)if(r(l)!==null)y=!0,M(x);else{var j=r(c);j!==null&&L(_,j.startTime-T)}}function x(T,j){y=!1,w&&(w=!1,v(A),A=-1),m=!0;var F=f;try{for(p(j),h=r(l);h!==null&&(!(h.expirationTime>j)||T&&!H());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,f=h.priorityLevel;var ue=ee(h.expirationTime<=j);j=t.unstable_now(),typeof ue=="function"?h.callback=ue:h===r(l)&&n(l),p(j)}else n(l);h=r(l)}if(h!==null)var Et=!0;else{var Rt=r(c);Rt!==null&&L(_,Rt.startTime-j),Et=!1}return Et}finally{h=null,f=F,m=!1}}var b=!1,S=null,A=-1,$=5,P=-1;function H(){return!(t.unstable_now()-P<$)}function tt(){if(S!==null){var T=t.unstable_now();P=T;var j=!0;try{j=S(!0,T)}finally{j?Ie():(b=!1,S=null)}}else b=!1}var Ie;if(typeof g=="function")Ie=function(){g(tt)};else if(typeof MessageChannel<"u"){var _t=new MessageChannel,Oe=_t.port2;_t.port1.onmessage=tt,Ie=function(){Oe.postMessage(null)}}else Ie=function(){E(tt,0)};function M(T){S=T,b||(b=!0,Ie())}function L(T,j){A=E(function(){T(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,M(x))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(T){switch(f){case 1:case 2:case 3:var j=3;break;default:j=f}var F=f;f=j;try{return T()}finally{f=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,j){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var F=f;f=T;try{return j()}finally{f=F}},t.unstable_scheduleCallback=function(T,j,F){var ee=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ee+F:ee):F=ee,T){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=F+ue,T={id:d++,callback:j,priorityLevel:T,startTime:F,expirationTime:ue,sortIndex:-1},F>ee?(T.sortIndex=F,e(c,T),r(l)===null&&T===r(c)&&(w?(v(A),A=-1):w=!0,L(_,F-ee))):(T.sortIndex=ue,e(l,T),y||m||(y=!0,M(x))),T},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(T){var j=f;return function(){var F=f;f=j;try{return T.apply(this,arguments)}finally{f=F}}}})(Zh);Qh.exports=Zh;var x0=Qh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0=N,Ze=x0;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xh=new Set,hs={};function Br(t,e){bn(t,e),bn(t+"Capture",e)}function bn(t,e){for(hs[t]=e,t=0;t<e.length;t++)Xh.add(e[t])}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_a=Object.prototype.hasOwnProperty,S0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ec={},tc={};function k0(t){return _a.call(tc,t)?!0:_a.call(ec,t)?!1:S0.test(t)?tc[t]=!0:(ec[t]=!0,!1)}function T0(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function N0(t,e,r,n){if(e===null||typeof e>"u"||T0(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Le(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xe[t]=new Le(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xe[e]=new Le(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xe[t]=new Le(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xe[t]=new Le(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xe[t]=new Le(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xe[t]=new Le(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xe[t]=new Le(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xe[t]=new Le(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xe[t]=new Le(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ll=/[\-:]([a-z])/g;function Dl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ll,Dl);xe[e]=new Le(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ll,Dl);xe[e]=new Le(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ll,Dl);xe[e]=new Le(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xe[t]=new Le(t,1,!1,t.toLowerCase(),null,!1,!1)});xe.xlinkHref=new Le("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xe[t]=new Le(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ul(t,e,r,n){var s=xe.hasOwnProperty(e)?xe[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(N0(e,r,s,n)&&(r=null),n||s===null?k0(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Gt=b0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hs=Symbol.for("react.element"),rn=Symbol.for("react.portal"),nn=Symbol.for("react.fragment"),Ml=Symbol.for("react.strict_mode"),Ea=Symbol.for("react.profiler"),ef=Symbol.for("react.provider"),tf=Symbol.for("react.context"),$l=Symbol.for("react.forward_ref"),xa=Symbol.for("react.suspense"),ba=Symbol.for("react.suspense_list"),Bl=Symbol.for("react.memo"),Yt=Symbol.for("react.lazy"),rf=Symbol.for("react.offscreen"),rc=Symbol.iterator;function Bn(t){return t===null||typeof t!="object"?null:(t=rc&&t[rc]||t["@@iterator"],typeof t=="function"?t:null)}var ie=Object.assign,zo;function Yn(t){if(zo===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);zo=e&&e[1]||""}return`
`+zo+t}var Ho=!1;function Go(t,e){if(!t||Ho)return"";Ho=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ho=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Yn(t):""}function A0(t){switch(t.tag){case 5:return Yn(t.type);case 16:return Yn("Lazy");case 13:return Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 2:case 15:return t=Go(t.type,!1),t;case 11:return t=Go(t.type.render,!1),t;case 1:return t=Go(t.type,!0),t;default:return""}}function Sa(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nn:return"Fragment";case rn:return"Portal";case Ea:return"Profiler";case Ml:return"StrictMode";case xa:return"Suspense";case ba:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tf:return(t.displayName||"Context")+".Consumer";case ef:return(t._context.displayName||"Context")+".Provider";case $l:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bl:return e=t.displayName||null,e!==null?e:Sa(t.type)||"Memo";case Yt:e=t._payload,t=t._init;try{return Sa(t(e))}catch{}}return null}function I0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sa(e);case 8:return e===Ml?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function dr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function O0(t){var e=nf(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gs(t){t._valueTracker||(t._valueTracker=O0(t))}function sf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=nf(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ji(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ka(t,e){var r=e.checked;return ie({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function nc(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=dr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function of(t,e){e=e.checked,e!=null&&Ul(t,"checked",e,!1)}function Ta(t,e){of(t,e);var r=dr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Na(t,e.type,r):e.hasOwnProperty("defaultValue")&&Na(t,e.type,dr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sc(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Na(t,e,r){(e!=="number"||ji(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Jn=Array.isArray;function mn(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+dr(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Aa(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return ie({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ic(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(k(92));if(Jn(r)){if(1<r.length)throw Error(k(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:dr(r)}}function af(t,e){var r=dr(e.value),n=dr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function oc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function lf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ia(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?lf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Vs,uf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Vs=Vs||document.createElement("div"),Vs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Vs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fs(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ts={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C0=["Webkit","ms","Moz","O"];Object.keys(ts).forEach(function(t){C0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ts[e]=ts[t]})});function cf(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ts.hasOwnProperty(t)&&ts[t]?(""+e).trim():e+"px"}function df(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=cf(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var R0=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oa(t,e){if(e){if(R0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function Ca(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ra=null;function Fl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ja=null,gn=null,vn=null;function ac(t){if(t=Ls(t)){if(typeof ja!="function")throw Error(k(280));var e=t.stateNode;e&&(e=bo(e),ja(t.stateNode,t.type,e))}}function hf(t){gn?vn?vn.push(t):vn=[t]:gn=t}function ff(){if(gn){var t=gn,e=vn;if(vn=gn=null,ac(t),e)for(t=0;t<e.length;t++)ac(e[t])}}function pf(t,e){return t(e)}function mf(){}var Vo=!1;function gf(t,e,r){if(Vo)return t(e,r);Vo=!0;try{return pf(t,e,r)}finally{Vo=!1,(gn!==null||vn!==null)&&(mf(),ff())}}function ps(t,e){var r=t.stateNode;if(r===null)return null;var n=bo(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(k(231,e,typeof r));return r}var Pa=!1;if(Bt)try{var Fn={};Object.defineProperty(Fn,"passive",{get:function(){Pa=!0}}),window.addEventListener("test",Fn,Fn),window.removeEventListener("test",Fn,Fn)}catch{Pa=!1}function j0(t,e,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var rs=!1,Pi=null,Li=!1,La=null,P0={onError:function(t){rs=!0,Pi=t}};function L0(t,e,r,n,s,i,o,a,l){rs=!1,Pi=null,j0.apply(P0,arguments)}function D0(t,e,r,n,s,i,o,a,l){if(L0.apply(this,arguments),rs){if(rs){var c=Pi;rs=!1,Pi=null}else throw Error(k(198));Li||(Li=!0,La=c)}}function Fr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function vf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lc(t){if(Fr(t)!==t)throw Error(k(188))}function U0(t){var e=t.alternate;if(!e){if(e=Fr(t),e===null)throw Error(k(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return lc(s),t;if(i===n)return lc(s),e;i=i.sibling}throw Error(k(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(k(189))}}if(r.alternate!==n)throw Error(k(190))}if(r.tag!==3)throw Error(k(188));return r.stateNode.current===r?t:e}function yf(t){return t=U0(t),t!==null?wf(t):null}function wf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wf(t);if(e!==null)return e;t=t.sibling}return null}var _f=Ze.unstable_scheduleCallback,uc=Ze.unstable_cancelCallback,M0=Ze.unstable_shouldYield,$0=Ze.unstable_requestPaint,ae=Ze.unstable_now,B0=Ze.unstable_getCurrentPriorityLevel,zl=Ze.unstable_ImmediatePriority,Ef=Ze.unstable_UserBlockingPriority,Di=Ze.unstable_NormalPriority,F0=Ze.unstable_LowPriority,xf=Ze.unstable_IdlePriority,wo=null,It=null;function z0(t){if(It&&typeof It.onCommitFiberRoot=="function")try{It.onCommitFiberRoot(wo,t,void 0,(t.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:V0,H0=Math.log,G0=Math.LN2;function V0(t){return t>>>=0,t===0?32:31-(H0(t)/G0|0)|0}var Ws=64,qs=4194304;function Qn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ui(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Qn(a):(i&=o,i!==0&&(n=Qn(i)))}else o=r&~s,o!==0?n=Qn(o):i!==0&&(n=Qn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-vt(e),s=1<<r,n|=t[r],e&=~s;return n}function W0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q0(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-vt(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=W0(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Da(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function bf(){var t=Ws;return Ws<<=1,!(Ws&4194240)&&(Ws=64),t}function Wo(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function js(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vt(e),t[e]=r}function K0(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-vt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Hl(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-vt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var q=0;function Sf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kf,Gl,Tf,Nf,Af,Ua=!1,Ks=[],nr=null,sr=null,ir=null,ms=new Map,gs=new Map,Qt=[],Y0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cc(t,e){switch(t){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":ms.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(e.pointerId)}}function zn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ls(e),e!==null&&Gl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function J0(t,e,r,n,s){switch(e){case"focusin":return nr=zn(nr,t,e,r,n,s),!0;case"dragenter":return sr=zn(sr,t,e,r,n,s),!0;case"mouseover":return ir=zn(ir,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return ms.set(i,zn(ms.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,gs.set(i,zn(gs.get(i)||null,t,e,r,n,s)),!0}return!1}function If(t){var e=Nr(t.target);if(e!==null){var r=Fr(e);if(r!==null){if(e=r.tag,e===13){if(e=vf(r),e!==null){t.blockedOn=e,Af(t.priority,function(){Tf(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wi(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ma(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Ra=n,r.target.dispatchEvent(n),Ra=null}else return e=Ls(r),e!==null&&Gl(e),t.blockedOn=r,!1;e.shift()}return!0}function dc(t,e,r){wi(t)&&r.delete(e)}function Q0(){Ua=!1,nr!==null&&wi(nr)&&(nr=null),sr!==null&&wi(sr)&&(sr=null),ir!==null&&wi(ir)&&(ir=null),ms.forEach(dc),gs.forEach(dc)}function Hn(t,e){t.blockedOn===e&&(t.blockedOn=null,Ua||(Ua=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,Q0)))}function vs(t){function e(s){return Hn(s,t)}if(0<Ks.length){Hn(Ks[0],t);for(var r=1;r<Ks.length;r++){var n=Ks[r];n.blockedOn===t&&(n.blockedOn=null)}}for(nr!==null&&Hn(nr,t),sr!==null&&Hn(sr,t),ir!==null&&Hn(ir,t),ms.forEach(e),gs.forEach(e),r=0;r<Qt.length;r++)n=Qt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Qt.length&&(r=Qt[0],r.blockedOn===null);)If(r),r.blockedOn===null&&Qt.shift()}var yn=Gt.ReactCurrentBatchConfig,Mi=!0;function Z0(t,e,r,n){var s=q,i=yn.transition;yn.transition=null;try{q=1,Vl(t,e,r,n)}finally{q=s,yn.transition=i}}function X0(t,e,r,n){var s=q,i=yn.transition;yn.transition=null;try{q=4,Vl(t,e,r,n)}finally{q=s,yn.transition=i}}function Vl(t,e,r,n){if(Mi){var s=Ma(t,e,r,n);if(s===null)ra(t,e,n,$i,r),cc(t,n);else if(J0(s,t,e,r,n))n.stopPropagation();else if(cc(t,n),e&4&&-1<Y0.indexOf(t)){for(;s!==null;){var i=Ls(s);if(i!==null&&kf(i),i=Ma(t,e,r,n),i===null&&ra(t,e,n,$i,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else ra(t,e,n,null,r)}}var $i=null;function Ma(t,e,r,n){if($i=null,t=Fl(n),t=Nr(t),t!==null)if(e=Fr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=vf(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $i=t,null}function Of(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(B0()){case zl:return 1;case Ef:return 4;case Di:case F0:return 16;case xf:return 536870912;default:return 16}default:return 16}}var tr=null,Wl=null,_i=null;function Cf(){if(_i)return _i;var t,e=Wl,r=e.length,n,s="value"in tr?tr.value:tr.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return _i=s.slice(t,1<n?1-n:void 0)}function Ei(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ys(){return!0}function hc(){return!1}function et(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ys:hc,this.isPropagationStopped=hc,this}return ie(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ys)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ys)},persist:function(){},isPersistent:Ys}),e}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ql=et(jn),Ps=ie({},jn,{view:0,detail:0}),ev=et(Ps),qo,Ko,Gn,_o=ie({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gn&&(Gn&&t.type==="mousemove"?(qo=t.screenX-Gn.screenX,Ko=t.screenY-Gn.screenY):Ko=qo=0,Gn=t),qo)},movementY:function(t){return"movementY"in t?t.movementY:Ko}}),fc=et(_o),tv=ie({},_o,{dataTransfer:0}),rv=et(tv),nv=ie({},Ps,{relatedTarget:0}),Yo=et(nv),sv=ie({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),iv=et(sv),ov=ie({},jn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),av=et(ov),lv=ie({},jn,{data:0}),pc=et(lv),uv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dv[t])?!!e[t]:!1}function Kl(){return hv}var fv=ie({},Ps,{key:function(t){if(t.key){var e=uv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ei(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kl,charCode:function(t){return t.type==="keypress"?Ei(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ei(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pv=et(fv),mv=ie({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mc=et(mv),gv=ie({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kl}),vv=et(gv),yv=ie({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),wv=et(yv),_v=ie({},_o,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ev=et(_v),xv=[9,13,27,32],Yl=Bt&&"CompositionEvent"in window,ns=null;Bt&&"documentMode"in document&&(ns=document.documentMode);var bv=Bt&&"TextEvent"in window&&!ns,Rf=Bt&&(!Yl||ns&&8<ns&&11>=ns),gc=" ",vc=!1;function jf(t,e){switch(t){case"keyup":return xv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sn=!1;function Sv(t,e){switch(t){case"compositionend":return Pf(e);case"keypress":return e.which!==32?null:(vc=!0,gc);case"textInput":return t=e.data,t===gc&&vc?null:t;default:return null}}function kv(t,e){if(sn)return t==="compositionend"||!Yl&&jf(t,e)?(t=Cf(),_i=Wl=tr=null,sn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rf&&e.locale!=="ko"?null:e.data;default:return null}}var Tv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Tv[t.type]:e==="textarea"}function Lf(t,e,r,n){hf(n),e=Bi(e,"onChange"),0<e.length&&(r=new ql("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ss=null,ys=null;function Nv(t){Wf(t,0)}function Eo(t){var e=ln(t);if(sf(e))return t}function Av(t,e){if(t==="change")return e}var Df=!1;if(Bt){var Jo;if(Bt){var Qo="oninput"in document;if(!Qo){var wc=document.createElement("div");wc.setAttribute("oninput","return;"),Qo=typeof wc.oninput=="function"}Jo=Qo}else Jo=!1;Df=Jo&&(!document.documentMode||9<document.documentMode)}function _c(){ss&&(ss.detachEvent("onpropertychange",Uf),ys=ss=null)}function Uf(t){if(t.propertyName==="value"&&Eo(ys)){var e=[];Lf(e,ys,t,Fl(t)),gf(Nv,e)}}function Iv(t,e,r){t==="focusin"?(_c(),ss=e,ys=r,ss.attachEvent("onpropertychange",Uf)):t==="focusout"&&_c()}function Ov(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eo(ys)}function Cv(t,e){if(t==="click")return Eo(e)}function Rv(t,e){if(t==="input"||t==="change")return Eo(e)}function jv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wt=typeof Object.is=="function"?Object.is:jv;function ws(t,e){if(wt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!_a.call(e,s)||!wt(t[s],e[s]))return!1}return!0}function Ec(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xc(t,e){var r=Ec(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ec(r)}}function Mf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Mf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $f(){for(var t=window,e=ji();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ji(t.document)}return e}function Jl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Pv(t){var e=$f(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Mf(r.ownerDocument.documentElement,r)){if(n!==null&&Jl(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=xc(r,i);var o=xc(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Lv=Bt&&"documentMode"in document&&11>=document.documentMode,on=null,$a=null,is=null,Ba=!1;function bc(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ba||on==null||on!==ji(n)||(n=on,"selectionStart"in n&&Jl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),is&&ws(is,n)||(is=n,n=Bi($a,"onSelect"),0<n.length&&(e=new ql("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=on)))}function Js(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var an={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionend:Js("Transition","TransitionEnd")},Zo={},Bf={};Bt&&(Bf=document.createElement("div").style,"AnimationEvent"in window||(delete an.animationend.animation,delete an.animationiteration.animation,delete an.animationstart.animation),"TransitionEvent"in window||delete an.transitionend.transition);function xo(t){if(Zo[t])return Zo[t];if(!an[t])return t;var e=an[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Bf)return Zo[t]=e[r];return t}var Ff=xo("animationend"),zf=xo("animationiteration"),Hf=xo("animationstart"),Gf=xo("transitionend"),Vf=new Map,Sc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fr(t,e){Vf.set(t,e),Br(e,[t])}for(var Xo=0;Xo<Sc.length;Xo++){var ea=Sc[Xo],Dv=ea.toLowerCase(),Uv=ea[0].toUpperCase()+ea.slice(1);fr(Dv,"on"+Uv)}fr(Ff,"onAnimationEnd");fr(zf,"onAnimationIteration");fr(Hf,"onAnimationStart");fr("dblclick","onDoubleClick");fr("focusin","onFocus");fr("focusout","onBlur");fr(Gf,"onTransitionEnd");bn("onMouseEnter",["mouseout","mouseover"]);bn("onMouseLeave",["mouseout","mouseover"]);bn("onPointerEnter",["pointerout","pointerover"]);bn("onPointerLeave",["pointerout","pointerover"]);Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Br("onBeforeInput",["compositionend","keypress","textInput","paste"]);Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zn));function kc(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,D0(n,e,void 0,t),t.currentTarget=null}function Wf(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;kc(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;kc(s,a,c),i=l}}}if(Li)throw t=La,Li=!1,La=null,t}function Z(t,e){var r=e[Va];r===void 0&&(r=e[Va]=new Set);var n=t+"__bubble";r.has(n)||(qf(e,t,2,!1),r.add(n))}function ta(t,e,r){var n=0;e&&(n|=4),qf(r,t,n,e)}var Qs="_reactListening"+Math.random().toString(36).slice(2);function _s(t){if(!t[Qs]){t[Qs]=!0,Xh.forEach(function(r){r!=="selectionchange"&&(Mv.has(r)||ta(r,!1,t),ta(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qs]||(e[Qs]=!0,ta("selectionchange",!1,e))}}function qf(t,e,r,n){switch(Of(e)){case 1:var s=Z0;break;case 4:s=X0;break;default:s=Vl}r=s.bind(null,e,r,t),s=void 0,!Pa||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function ra(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Nr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}gf(function(){var c=i,d=Fl(r),h=[];e:{var f=Vf.get(t);if(f!==void 0){var m=ql,y=t;switch(t){case"keypress":if(Ei(r)===0)break e;case"keydown":case"keyup":m=pv;break;case"focusin":y="focus",m=Yo;break;case"focusout":y="blur",m=Yo;break;case"beforeblur":case"afterblur":m=Yo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=rv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=vv;break;case Ff:case zf:case Hf:m=iv;break;case Gf:m=wv;break;case"scroll":m=ev;break;case"wheel":m=Ev;break;case"copy":case"cut":case"paste":m=av;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=mc}var w=(e&4)!==0,E=!w&&t==="scroll",v=w?f!==null?f+"Capture":null:f;w=[];for(var g=c,p;g!==null;){p=g;var _=p.stateNode;if(p.tag===5&&_!==null&&(p=_,v!==null&&(_=ps(g,v),_!=null&&w.push(Es(g,_,p)))),E)break;g=g.return}0<w.length&&(f=new m(f,y,null,r,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&r!==Ra&&(y=r.relatedTarget||r.fromElement)&&(Nr(y)||y[Ft]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=c,y=y?Nr(y):null,y!==null&&(E=Fr(y),y!==E||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(w=fc,_="onMouseLeave",v="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(w=mc,_="onPointerLeave",v="onPointerEnter",g="pointer"),E=m==null?f:ln(m),p=y==null?f:ln(y),f=new w(_,g+"leave",m,r,d),f.target=E,f.relatedTarget=p,_=null,Nr(d)===c&&(w=new w(v,g+"enter",y,r,d),w.target=p,w.relatedTarget=E,_=w),E=_,m&&y)t:{for(w=m,v=y,g=0,p=w;p;p=Yr(p))g++;for(p=0,_=v;_;_=Yr(_))p++;for(;0<g-p;)w=Yr(w),g--;for(;0<p-g;)v=Yr(v),p--;for(;g--;){if(w===v||v!==null&&w===v.alternate)break t;w=Yr(w),v=Yr(v)}w=null}else w=null;m!==null&&Tc(h,f,m,w,!1),y!==null&&E!==null&&Tc(h,E,y,w,!0)}}e:{if(f=c?ln(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var x=Av;else if(yc(f))if(Df)x=Rv;else{x=Ov;var b=Iv}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=Cv);if(x&&(x=x(t,c))){Lf(h,x,r,d);break e}b&&b(t,f,c),t==="focusout"&&(b=f._wrapperState)&&b.controlled&&f.type==="number"&&Na(f,"number",f.value)}switch(b=c?ln(c):window,t){case"focusin":(yc(b)||b.contentEditable==="true")&&(on=b,$a=c,is=null);break;case"focusout":is=$a=on=null;break;case"mousedown":Ba=!0;break;case"contextmenu":case"mouseup":case"dragend":Ba=!1,bc(h,r,d);break;case"selectionchange":if(Lv)break;case"keydown":case"keyup":bc(h,r,d)}var S;if(Yl)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else sn?jf(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(Rf&&r.locale!=="ko"&&(sn||A!=="onCompositionStart"?A==="onCompositionEnd"&&sn&&(S=Cf()):(tr=d,Wl="value"in tr?tr.value:tr.textContent,sn=!0)),b=Bi(c,A),0<b.length&&(A=new pc(A,t,null,r,d),h.push({event:A,listeners:b}),S?A.data=S:(S=Pf(r),S!==null&&(A.data=S)))),(S=bv?Sv(t,r):kv(t,r))&&(c=Bi(c,"onBeforeInput"),0<c.length&&(d=new pc("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=S))}Wf(h,e)})}function Es(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Bi(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ps(t,r),i!=null&&n.unshift(Es(t,i,s)),i=ps(t,e),i!=null&&n.push(Es(t,i,s))),t=t.return}return n}function Yr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Tc(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=ps(r,i),l!=null&&o.unshift(Es(r,l,a))):s||(l=ps(r,i),l!=null&&o.push(Es(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var $v=/\r\n?/g,Bv=/\u0000|\uFFFD/g;function Nc(t){return(typeof t=="string"?t:""+t).replace($v,`
`).replace(Bv,"")}function Zs(t,e,r){if(e=Nc(e),Nc(t)!==e&&r)throw Error(k(425))}function Fi(){}var Fa=null,za=null;function Ha(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ga=typeof setTimeout=="function"?setTimeout:void 0,Fv=typeof clearTimeout=="function"?clearTimeout:void 0,Ac=typeof Promise=="function"?Promise:void 0,zv=typeof queueMicrotask=="function"?queueMicrotask:typeof Ac<"u"?function(t){return Ac.resolve(null).then(t).catch(Hv)}:Ga;function Hv(t){setTimeout(function(){throw t})}function na(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),vs(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);vs(e)}function or(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ic(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Pn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Pn,xs="__reactProps$"+Pn,Ft="__reactContainer$"+Pn,Va="__reactEvents$"+Pn,Gv="__reactListeners$"+Pn,Vv="__reactHandles$"+Pn;function Nr(t){var e=t[Tt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ft]||r[Tt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Ic(t);t!==null;){if(r=t[Tt])return r;t=Ic(t)}return e}t=r,r=t.parentNode}return null}function Ls(t){return t=t[Tt]||t[Ft],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ln(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function bo(t){return t[xs]||null}var Wa=[],un=-1;function pr(t){return{current:t}}function X(t){0>un||(t.current=Wa[un],Wa[un]=null,un--)}function J(t,e){un++,Wa[un]=t.current,t.current=e}var hr={},Ae=pr(hr),He=pr(!1),jr=hr;function Sn(t,e){var r=t.type.contextTypes;if(!r)return hr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ge(t){return t=t.childContextTypes,t!=null}function zi(){X(He),X(Ae)}function Oc(t,e,r){if(Ae.current!==hr)throw Error(k(168));J(Ae,e),J(He,r)}function Kf(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(k(108,I0(t)||"Unknown",s));return ie({},r,n)}function Hi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hr,jr=Ae.current,J(Ae,t),J(He,He.current),!0}function Cc(t,e,r){var n=t.stateNode;if(!n)throw Error(k(169));r?(t=Kf(t,e,jr),n.__reactInternalMemoizedMergedChildContext=t,X(He),X(Ae),J(Ae,t)):X(He),J(He,r)}var Dt=null,So=!1,sa=!1;function Yf(t){Dt===null?Dt=[t]:Dt.push(t)}function Wv(t){So=!0,Yf(t)}function mr(){if(!sa&&Dt!==null){sa=!0;var t=0,e=q;try{var r=Dt;for(q=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Dt=null,So=!1}catch(s){throw Dt!==null&&(Dt=Dt.slice(t+1)),_f(zl,mr),s}finally{q=e,sa=!1}}return null}var cn=[],dn=0,Gi=null,Vi=0,rt=[],nt=0,Pr=null,Ut=1,Mt="";function _r(t,e){cn[dn++]=Vi,cn[dn++]=Gi,Gi=t,Vi=e}function Jf(t,e,r){rt[nt++]=Ut,rt[nt++]=Mt,rt[nt++]=Pr,Pr=t;var n=Ut;t=Mt;var s=32-vt(n)-1;n&=~(1<<s),r+=1;var i=32-vt(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Ut=1<<32-vt(e)+s|r<<s|n,Mt=i+t}else Ut=1<<i|r<<s|n,Mt=t}function Ql(t){t.return!==null&&(_r(t,1),Jf(t,1,0))}function Zl(t){for(;t===Gi;)Gi=cn[--dn],cn[dn]=null,Vi=cn[--dn],cn[dn]=null;for(;t===Pr;)Pr=rt[--nt],rt[nt]=null,Mt=rt[--nt],rt[nt]=null,Ut=rt[--nt],rt[nt]=null}var Qe=null,Je=null,re=!1,gt=null;function Qf(t,e){var r=st(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Rc(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Qe=t,Je=or(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Qe=t,Je=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Pr!==null?{id:Ut,overflow:Mt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=st(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Qe=t,Je=null,!0):!1;default:return!1}}function qa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ka(t){if(re){var e=Je;if(e){var r=e;if(!Rc(t,e)){if(qa(t))throw Error(k(418));e=or(r.nextSibling);var n=Qe;e&&Rc(t,e)?Qf(n,r):(t.flags=t.flags&-4097|2,re=!1,Qe=t)}}else{if(qa(t))throw Error(k(418));t.flags=t.flags&-4097|2,re=!1,Qe=t}}}function jc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Qe=t}function Xs(t){if(t!==Qe)return!1;if(!re)return jc(t),re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ha(t.type,t.memoizedProps)),e&&(e=Je)){if(qa(t))throw Zf(),Error(k(418));for(;e;)Qf(t,e),e=or(e.nextSibling)}if(jc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Je=or(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Je=null}}else Je=Qe?or(t.stateNode.nextSibling):null;return!0}function Zf(){for(var t=Je;t;)t=or(t.nextSibling)}function kn(){Je=Qe=null,re=!1}function Xl(t){gt===null?gt=[t]:gt.push(t)}var qv=Gt.ReactCurrentBatchConfig;function Vn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(k(309));var n=r.stateNode}if(!n)throw Error(k(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(k(284));if(!r._owner)throw Error(k(290,t))}return t}function ei(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Pc(t){var e=t._init;return e(t._payload)}function Xf(t){function e(v,g){if(t){var p=v.deletions;p===null?(v.deletions=[g],v.flags|=16):p.push(g)}}function r(v,g){if(!t)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(v,g){return v=cr(v,g),v.index=0,v.sibling=null,v}function i(v,g,p){return v.index=p,t?(p=v.alternate,p!==null?(p=p.index,p<g?(v.flags|=2,g):p):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,g,p,_){return g===null||g.tag!==6?(g=da(p,v.mode,_),g.return=v,g):(g=s(g,p),g.return=v,g)}function l(v,g,p,_){var x=p.type;return x===nn?d(v,g,p.props.children,_,p.key):g!==null&&(g.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Yt&&Pc(x)===g.type)?(_=s(g,p.props),_.ref=Vn(v,g,p),_.return=v,_):(_=Ai(p.type,p.key,p.props,null,v.mode,_),_.ref=Vn(v,g,p),_.return=v,_)}function c(v,g,p,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==p.containerInfo||g.stateNode.implementation!==p.implementation?(g=ha(p,v.mode,_),g.return=v,g):(g=s(g,p.children||[]),g.return=v,g)}function d(v,g,p,_,x){return g===null||g.tag!==7?(g=Rr(p,v.mode,_,x),g.return=v,g):(g=s(g,p),g.return=v,g)}function h(v,g,p){if(typeof g=="string"&&g!==""||typeof g=="number")return g=da(""+g,v.mode,p),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Hs:return p=Ai(g.type,g.key,g.props,null,v.mode,p),p.ref=Vn(v,null,g),p.return=v,p;case rn:return g=ha(g,v.mode,p),g.return=v,g;case Yt:var _=g._init;return h(v,_(g._payload),p)}if(Jn(g)||Bn(g))return g=Rr(g,v.mode,p,null),g.return=v,g;ei(v,g)}return null}function f(v,g,p,_){var x=g!==null?g.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return x!==null?null:a(v,g,""+p,_);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Hs:return p.key===x?l(v,g,p,_):null;case rn:return p.key===x?c(v,g,p,_):null;case Yt:return x=p._init,f(v,g,x(p._payload),_)}if(Jn(p)||Bn(p))return x!==null?null:d(v,g,p,_,null);ei(v,p)}return null}function m(v,g,p,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return v=v.get(p)||null,a(g,v,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Hs:return v=v.get(_.key===null?p:_.key)||null,l(g,v,_,x);case rn:return v=v.get(_.key===null?p:_.key)||null,c(g,v,_,x);case Yt:var b=_._init;return m(v,g,p,b(_._payload),x)}if(Jn(_)||Bn(_))return v=v.get(p)||null,d(g,v,_,x,null);ei(g,_)}return null}function y(v,g,p,_){for(var x=null,b=null,S=g,A=g=0,$=null;S!==null&&A<p.length;A++){S.index>A?($=S,S=null):$=S.sibling;var P=f(v,S,p[A],_);if(P===null){S===null&&(S=$);break}t&&S&&P.alternate===null&&e(v,S),g=i(P,g,A),b===null?x=P:b.sibling=P,b=P,S=$}if(A===p.length)return r(v,S),re&&_r(v,A),x;if(S===null){for(;A<p.length;A++)S=h(v,p[A],_),S!==null&&(g=i(S,g,A),b===null?x=S:b.sibling=S,b=S);return re&&_r(v,A),x}for(S=n(v,S);A<p.length;A++)$=m(S,v,A,p[A],_),$!==null&&(t&&$.alternate!==null&&S.delete($.key===null?A:$.key),g=i($,g,A),b===null?x=$:b.sibling=$,b=$);return t&&S.forEach(function(H){return e(v,H)}),re&&_r(v,A),x}function w(v,g,p,_){var x=Bn(p);if(typeof x!="function")throw Error(k(150));if(p=x.call(p),p==null)throw Error(k(151));for(var b=x=null,S=g,A=g=0,$=null,P=p.next();S!==null&&!P.done;A++,P=p.next()){S.index>A?($=S,S=null):$=S.sibling;var H=f(v,S,P.value,_);if(H===null){S===null&&(S=$);break}t&&S&&H.alternate===null&&e(v,S),g=i(H,g,A),b===null?x=H:b.sibling=H,b=H,S=$}if(P.done)return r(v,S),re&&_r(v,A),x;if(S===null){for(;!P.done;A++,P=p.next())P=h(v,P.value,_),P!==null&&(g=i(P,g,A),b===null?x=P:b.sibling=P,b=P);return re&&_r(v,A),x}for(S=n(v,S);!P.done;A++,P=p.next())P=m(S,v,A,P.value,_),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?A:P.key),g=i(P,g,A),b===null?x=P:b.sibling=P,b=P);return t&&S.forEach(function(tt){return e(v,tt)}),re&&_r(v,A),x}function E(v,g,p,_){if(typeof p=="object"&&p!==null&&p.type===nn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Hs:e:{for(var x=p.key,b=g;b!==null;){if(b.key===x){if(x=p.type,x===nn){if(b.tag===7){r(v,b.sibling),g=s(b,p.props.children),g.return=v,v=g;break e}}else if(b.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Yt&&Pc(x)===b.type){r(v,b.sibling),g=s(b,p.props),g.ref=Vn(v,b,p),g.return=v,v=g;break e}r(v,b);break}else e(v,b);b=b.sibling}p.type===nn?(g=Rr(p.props.children,v.mode,_,p.key),g.return=v,v=g):(_=Ai(p.type,p.key,p.props,null,v.mode,_),_.ref=Vn(v,g,p),_.return=v,v=_)}return o(v);case rn:e:{for(b=p.key;g!==null;){if(g.key===b)if(g.tag===4&&g.stateNode.containerInfo===p.containerInfo&&g.stateNode.implementation===p.implementation){r(v,g.sibling),g=s(g,p.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else e(v,g);g=g.sibling}g=ha(p,v.mode,_),g.return=v,v=g}return o(v);case Yt:return b=p._init,E(v,g,b(p._payload),_)}if(Jn(p))return y(v,g,p,_);if(Bn(p))return w(v,g,p,_);ei(v,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,g!==null&&g.tag===6?(r(v,g.sibling),g=s(g,p),g.return=v,v=g):(r(v,g),g=da(p,v.mode,_),g.return=v,v=g),o(v)):r(v,g)}return E}var Tn=Xf(!0),ep=Xf(!1),Wi=pr(null),qi=null,hn=null,eu=null;function tu(){eu=hn=qi=null}function ru(t){var e=Wi.current;X(Wi),t._currentValue=e}function Ya(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function wn(t,e){qi=t,eu=hn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ze=!0),t.firstContext=null)}function ot(t){var e=t._currentValue;if(eu!==t)if(t={context:t,memoizedValue:e,next:null},hn===null){if(qi===null)throw Error(k(308));hn=t,qi.dependencies={lanes:0,firstContext:t}}else hn=hn.next=t;return e}var Ar=null;function nu(t){Ar===null?Ar=[t]:Ar.push(t)}function tp(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,nu(e)):(r.next=s.next,s.next=r),e.interleaved=r,zt(t,n)}function zt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Jt=!1;function su(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $t(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ar(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,G&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,zt(t,r)}return s=n.interleaved,s===null?(e.next=e,nu(n)):(e.next=s.next,s.next=e),n.interleaved=e,zt(t,r)}function xi(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Hl(t,r)}}function Lc(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ki(t,e,r,n){var s=t.updateQueue;Jt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(f=e,m=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(m,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(m,h,f):y,f==null)break e;h=ie({},h,f);break e;case 2:Jt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Dr|=o,t.lanes=o,t.memoizedState=h}}function Dc(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(k(191,s));s.call(n)}}}var Ds={},Ot=pr(Ds),bs=pr(Ds),Ss=pr(Ds);function Ir(t){if(t===Ds)throw Error(k(174));return t}function iu(t,e){switch(J(Ss,e),J(bs,t),J(Ot,Ds),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ia(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ia(e,t)}X(Ot),J(Ot,e)}function Nn(){X(Ot),X(bs),X(Ss)}function np(t){Ir(Ss.current);var e=Ir(Ot.current),r=Ia(e,t.type);e!==r&&(J(bs,t),J(Ot,r))}function ou(t){bs.current===t&&(X(Ot),X(bs))}var ne=pr(0);function Yi(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ia=[];function au(){for(var t=0;t<ia.length;t++)ia[t]._workInProgressVersionPrimary=null;ia.length=0}var bi=Gt.ReactCurrentDispatcher,oa=Gt.ReactCurrentBatchConfig,Lr=0,se=null,pe=null,ge=null,Ji=!1,os=!1,ks=0,Kv=0;function Se(){throw Error(k(321))}function lu(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!wt(t[r],e[r]))return!1;return!0}function uu(t,e,r,n,s,i){if(Lr=i,se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bi.current=t===null||t.memoizedState===null?Zv:Xv,t=r(n,s),os){i=0;do{if(os=!1,ks=0,25<=i)throw Error(k(301));i+=1,ge=pe=null,e.updateQueue=null,bi.current=ey,t=r(n,s)}while(os)}if(bi.current=Qi,e=pe!==null&&pe.next!==null,Lr=0,ge=pe=se=null,Ji=!1,e)throw Error(k(300));return t}function cu(){var t=ks!==0;return ks=0,t}function St(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?se.memoizedState=ge=t:ge=ge.next=t,ge}function at(){if(pe===null){var t=se.alternate;t=t!==null?t.memoizedState:null}else t=pe.next;var e=ge===null?se.memoizedState:ge.next;if(e!==null)ge=e,pe=t;else{if(t===null)throw Error(k(310));pe=t,t={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},ge===null?se.memoizedState=ge=t:ge=ge.next=t}return ge}function Ts(t,e){return typeof e=="function"?e(t):e}function aa(t){var e=at(),r=e.queue;if(r===null)throw Error(k(311));r.lastRenderedReducer=t;var n=pe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((Lr&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,se.lanes|=d,Dr|=d}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,wt(n,e.memoizedState)||(ze=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,se.lanes|=i,Dr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function la(t){var e=at(),r=e.queue;if(r===null)throw Error(k(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);wt(i,e.memoizedState)||(ze=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function sp(){}function ip(t,e){var r=se,n=at(),s=e(),i=!wt(n.memoizedState,s);if(i&&(n.memoizedState=s,ze=!0),n=n.queue,du(lp.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ge!==null&&ge.memoizedState.tag&1){if(r.flags|=2048,Ns(9,ap.bind(null,r,n,s,e),void 0,null),ve===null)throw Error(k(349));Lr&30||op(r,e,s)}return s}function op(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=se.updateQueue,e===null?(e={lastEffect:null,stores:null},se.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function ap(t,e,r,n){e.value=r,e.getSnapshot=n,up(e)&&cp(t)}function lp(t,e,r){return r(function(){up(e)&&cp(t)})}function up(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!wt(t,r)}catch{return!0}}function cp(t){var e=zt(t,1);e!==null&&yt(e,t,1,-1)}function Uc(t){var e=St();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:t},e.queue=t,t=t.dispatch=Qv.bind(null,se,t),[e.memoizedState,t]}function Ns(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=se.updateQueue,e===null?(e={lastEffect:null,stores:null},se.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function dp(){return at().memoizedState}function Si(t,e,r,n){var s=St();se.flags|=t,s.memoizedState=Ns(1|e,r,void 0,n===void 0?null:n)}function ko(t,e,r,n){var s=at();n=n===void 0?null:n;var i=void 0;if(pe!==null){var o=pe.memoizedState;if(i=o.destroy,n!==null&&lu(n,o.deps)){s.memoizedState=Ns(e,r,i,n);return}}se.flags|=t,s.memoizedState=Ns(1|e,r,i,n)}function Mc(t,e){return Si(8390656,8,t,e)}function du(t,e){return ko(2048,8,t,e)}function hp(t,e){return ko(4,2,t,e)}function fp(t,e){return ko(4,4,t,e)}function pp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mp(t,e,r){return r=r!=null?r.concat([t]):null,ko(4,4,pp.bind(null,e,t),r)}function hu(){}function gp(t,e){var r=at();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&lu(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function vp(t,e){var r=at();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&lu(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function yp(t,e,r){return Lr&21?(wt(r,e)||(r=bf(),se.lanes|=r,Dr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ze=!0),t.memoizedState=r)}function Yv(t,e){var r=q;q=r!==0&&4>r?r:4,t(!0);var n=oa.transition;oa.transition={};try{t(!1),e()}finally{q=r,oa.transition=n}}function wp(){return at().memoizedState}function Jv(t,e,r){var n=ur(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},_p(t))Ep(e,r);else if(r=tp(t,e,r,n),r!==null){var s=je();yt(r,t,n,s),xp(r,e,n)}}function Qv(t,e,r){var n=ur(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(_p(t))Ep(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,wt(a,o)){var l=e.interleaved;l===null?(s.next=s,nu(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=tp(t,e,s,n),r!==null&&(s=je(),yt(r,t,n,s),xp(r,e,n))}}function _p(t){var e=t.alternate;return t===se||e!==null&&e===se}function Ep(t,e){os=Ji=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function xp(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Hl(t,r)}}var Qi={readContext:ot,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},Zv={readContext:ot,useCallback:function(t,e){return St().memoizedState=[t,e===void 0?null:e],t},useContext:ot,useEffect:Mc,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Si(4194308,4,pp.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Si(4194308,4,t,e)},useInsertionEffect:function(t,e){return Si(4,2,t,e)},useMemo:function(t,e){var r=St();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=St();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Jv.bind(null,se,t),[n.memoizedState,t]},useRef:function(t){var e=St();return t={current:t},e.memoizedState=t},useState:Uc,useDebugValue:hu,useDeferredValue:function(t){return St().memoizedState=t},useTransition:function(){var t=Uc(!1),e=t[0];return t=Yv.bind(null,t[1]),St().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=se,s=St();if(re){if(r===void 0)throw Error(k(407));r=r()}else{if(r=e(),ve===null)throw Error(k(349));Lr&30||op(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Mc(lp.bind(null,n,i,t),[t]),n.flags|=2048,Ns(9,ap.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=St(),e=ve.identifierPrefix;if(re){var r=Mt,n=Ut;r=(n&~(1<<32-vt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ks++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Kv++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Xv={readContext:ot,useCallback:gp,useContext:ot,useEffect:du,useImperativeHandle:mp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:vp,useReducer:aa,useRef:dp,useState:function(){return aa(Ts)},useDebugValue:hu,useDeferredValue:function(t){var e=at();return yp(e,pe.memoizedState,t)},useTransition:function(){var t=aa(Ts)[0],e=at().memoizedState;return[t,e]},useMutableSource:sp,useSyncExternalStore:ip,useId:wp,unstable_isNewReconciler:!1},ey={readContext:ot,useCallback:gp,useContext:ot,useEffect:du,useImperativeHandle:mp,useInsertionEffect:hp,useLayoutEffect:fp,useMemo:vp,useReducer:la,useRef:dp,useState:function(){return la(Ts)},useDebugValue:hu,useDeferredValue:function(t){var e=at();return pe===null?e.memoizedState=t:yp(e,pe.memoizedState,t)},useTransition:function(){var t=la(Ts)[0],e=at().memoizedState;return[t,e]},useMutableSource:sp,useSyncExternalStore:ip,useId:wp,unstable_isNewReconciler:!1};function ht(t,e){if(t&&t.defaultProps){e=ie({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Ja(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ie({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var To={isMounted:function(t){return(t=t._reactInternals)?Fr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=je(),s=ur(t),i=$t(n,s);i.payload=e,r!=null&&(i.callback=r),e=ar(t,i,s),e!==null&&(yt(e,t,s,n),xi(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=je(),s=ur(t),i=$t(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=ar(t,i,s),e!==null&&(yt(e,t,s,n),xi(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=je(),n=ur(t),s=$t(r,n);s.tag=2,e!=null&&(s.callback=e),e=ar(t,s,n),e!==null&&(yt(e,t,n,r),xi(e,t,n))}};function $c(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!ws(r,n)||!ws(s,i):!0}function bp(t,e,r){var n=!1,s=hr,i=e.contextType;return typeof i=="object"&&i!==null?i=ot(i):(s=Ge(e)?jr:Ae.current,n=e.contextTypes,i=(n=n!=null)?Sn(t,s):hr),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=To,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Bc(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&To.enqueueReplaceState(e,e.state,null)}function Qa(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},su(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ot(i):(i=Ge(e)?jr:Ae.current,s.context=Sn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ja(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&To.enqueueReplaceState(s,s.state,null),Ki(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function An(t,e){try{var r="",n=e;do r+=A0(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ua(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Za(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var ty=typeof WeakMap=="function"?WeakMap:Map;function Sp(t,e,r){r=$t(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Xi||(Xi=!0,ll=n),Za(t,e)},r}function kp(t,e,r){r=$t(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Za(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Za(t,e),typeof n!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Fc(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new ty;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=my.bind(null,t,e,r),e.then(t,t))}function zc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Hc(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=$t(-1,1),e.tag=2,ar(r,e,1))),r.lanes|=1),t)}var ry=Gt.ReactCurrentOwner,ze=!1;function Re(t,e,r,n){e.child=t===null?ep(e,null,r,n):Tn(e,t.child,r,n)}function Gc(t,e,r,n,s){r=r.render;var i=e.ref;return wn(e,s),n=uu(t,e,r,n,i,s),r=cu(),t!==null&&!ze?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ht(t,e,s)):(re&&r&&Ql(e),e.flags|=1,Re(t,e,n,s),e.child)}function Vc(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!_u(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Tp(t,e,i,n,s)):(t=Ai(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ws,r(o,n)&&t.ref===e.ref)return Ht(t,e,s)}return e.flags|=1,t=cr(i,n),t.ref=e.ref,t.return=e,e.child=t}function Tp(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(ws(i,n)&&t.ref===e.ref)if(ze=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(ze=!0);else return e.lanes=t.lanes,Ht(t,e,s)}return Xa(t,e,r,n,s)}function Np(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(pn,qe),qe|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,J(pn,qe),qe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,J(pn,qe),qe|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,J(pn,qe),qe|=n;return Re(t,e,s,r),e.child}function Ap(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Xa(t,e,r,n,s){var i=Ge(r)?jr:Ae.current;return i=Sn(e,i),wn(e,s),r=uu(t,e,r,n,i,s),n=cu(),t!==null&&!ze?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ht(t,e,s)):(re&&n&&Ql(e),e.flags|=1,Re(t,e,r,s),e.child)}function Wc(t,e,r,n,s){if(Ge(r)){var i=!0;Hi(e)}else i=!1;if(wn(e,s),e.stateNode===null)ki(t,e),bp(e,r,n),Qa(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=ot(c):(c=Ge(r)?jr:Ae.current,c=Sn(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&Bc(e,o,n,c),Jt=!1;var f=e.memoizedState;o.state=f,Ki(e,n,o,s),l=e.memoizedState,a!==n||f!==l||He.current||Jt?(typeof d=="function"&&(Ja(e,r,d,n),l=e.memoizedState),(a=Jt||$c(e,r,a,n,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,rp(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ht(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=ot(l):(l=Ge(r)?jr:Ae.current,l=Sn(e,l));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Bc(e,o,n,l),Jt=!1,f=e.memoizedState,o.state=f,Ki(e,n,o,s);var y=e.memoizedState;a!==h||f!==y||He.current||Jt?(typeof m=="function"&&(Ja(e,r,m,n),y=e.memoizedState),(c=Jt||$c(e,r,c,n,f,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return el(t,e,r,n,i,s)}function el(t,e,r,n,s,i){Ap(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Cc(e,r,!1),Ht(t,e,i);n=e.stateNode,ry.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Tn(e,t.child,null,i),e.child=Tn(e,null,a,i)):Re(t,e,a,i),e.memoizedState=n.state,s&&Cc(e,r,!0),e.child}function Ip(t){var e=t.stateNode;e.pendingContext?Oc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Oc(t,e.context,!1),iu(t,e.containerInfo)}function qc(t,e,r,n,s){return kn(),Xl(s),e.flags|=256,Re(t,e,r,n),e.child}var tl={dehydrated:null,treeContext:null,retryLane:0};function rl(t){return{baseLanes:t,cachePool:null,transitions:null}}function Op(t,e,r){var n=e.pendingProps,s=ne.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),J(ne,s&1),t===null)return Ka(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Io(o,n,0,null),t=Rr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=rl(r),e.memoizedState=tl,t):fu(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ny(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=cr(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=cr(a,i):(i=Rr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?rl(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=tl,n}return i=t.child,t=i.sibling,n=cr(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function fu(t,e){return e=Io({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ti(t,e,r,n){return n!==null&&Xl(n),Tn(e,t.child,null,r),t=fu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ny(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=ua(Error(k(422))),ti(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Io({mode:"visible",children:n.children},s,0,null),i=Rr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Tn(e,t.child,null,o),e.child.memoizedState=rl(o),e.memoizedState=tl,i);if(!(e.mode&1))return ti(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(k(419)),n=ua(i,n,void 0),ti(t,e,o,n)}if(a=(o&t.childLanes)!==0,ze||a){if(n=ve,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,zt(t,s),yt(n,t,s,-1))}return wu(),n=ua(Error(k(421))),ti(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=gy.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Je=or(s.nextSibling),Qe=e,re=!0,gt=null,t!==null&&(rt[nt++]=Ut,rt[nt++]=Mt,rt[nt++]=Pr,Ut=t.id,Mt=t.overflow,Pr=e),e=fu(e,n.children),e.flags|=4096,e)}function Kc(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ya(t.return,e,r)}function ca(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Cp(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Re(t,e,n.children,r),n=ne.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Kc(t,r,e);else if(t.tag===19)Kc(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(J(ne,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Yi(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),ca(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Yi(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}ca(e,!0,r,null,i);break;case"together":ca(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ki(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ht(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Dr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,r=cr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=cr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function sy(t,e,r){switch(e.tag){case 3:Ip(e),kn();break;case 5:np(e);break;case 1:Ge(e.type)&&Hi(e);break;case 4:iu(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;J(Wi,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(J(ne,ne.current&1),e.flags|=128,null):r&e.child.childLanes?Op(t,e,r):(J(ne,ne.current&1),t=Ht(t,e,r),t!==null?t.sibling:null);J(ne,ne.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Cp(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),J(ne,ne.current),n)break;return null;case 22:case 23:return e.lanes=0,Np(t,e,r)}return Ht(t,e,r)}var Rp,nl,jp,Pp;Rp=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};nl=function(){};jp=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Ir(Ot.current);var i=null;switch(r){case"input":s=ka(t,s),n=ka(t,n),i=[];break;case"select":s=ie({},s,{value:void 0}),n=ie({},n,{value:void 0}),i=[];break;case"textarea":s=Aa(t,s),n=Aa(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Fi)}Oa(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(hs.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(hs.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Z("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Pp=function(t,e,r,n){r!==n&&(e.flags|=4)};function Wn(t,e){if(!re)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function iy(t,e,r){var n=e.pendingProps;switch(Zl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(e),null;case 1:return Ge(e.type)&&zi(),ke(e),null;case 3:return n=e.stateNode,Nn(),X(He),X(Ae),au(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Xs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gt!==null&&(dl(gt),gt=null))),nl(t,e),ke(e),null;case 5:ou(e);var s=Ir(Ss.current);if(r=e.type,t!==null&&e.stateNode!=null)jp(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(k(166));return ke(e),null}if(t=Ir(Ot.current),Xs(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Tt]=e,n[xs]=i,t=(e.mode&1)!==0,r){case"dialog":Z("cancel",n),Z("close",n);break;case"iframe":case"object":case"embed":Z("load",n);break;case"video":case"audio":for(s=0;s<Zn.length;s++)Z(Zn[s],n);break;case"source":Z("error",n);break;case"img":case"image":case"link":Z("error",n),Z("load",n);break;case"details":Z("toggle",n);break;case"input":nc(n,i),Z("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Z("invalid",n);break;case"textarea":ic(n,i),Z("invalid",n)}Oa(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Zs(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Zs(n.textContent,a,t),s=["children",""+a]):hs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Z("scroll",n)}switch(r){case"input":Gs(n),sc(n,i,!0);break;case"textarea":Gs(n),oc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Fi)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lf(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Tt]=e,t[xs]=n,Rp(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ca(r,n),r){case"dialog":Z("cancel",t),Z("close",t),s=n;break;case"iframe":case"object":case"embed":Z("load",t),s=n;break;case"video":case"audio":for(s=0;s<Zn.length;s++)Z(Zn[s],t);s=n;break;case"source":Z("error",t),s=n;break;case"img":case"image":case"link":Z("error",t),Z("load",t),s=n;break;case"details":Z("toggle",t),s=n;break;case"input":nc(t,n),s=ka(t,n),Z("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ie({},n,{value:void 0}),Z("invalid",t);break;case"textarea":ic(t,n),s=Aa(t,n),Z("invalid",t);break;default:s=n}Oa(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?df(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&uf(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&fs(t,l):typeof l=="number"&&fs(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(hs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Z("scroll",t):l!=null&&Ul(t,i,l,o))}switch(r){case"input":Gs(t),sc(t,n,!1);break;case"textarea":Gs(t),oc(t);break;case"option":n.value!=null&&t.setAttribute("value",""+dr(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?mn(t,!!n.multiple,i,!1):n.defaultValue!=null&&mn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Fi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ke(e),null;case 6:if(t&&e.stateNode!=null)Pp(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(k(166));if(r=Ir(Ss.current),Ir(Ot.current),Xs(e)){if(n=e.stateNode,r=e.memoizedProps,n[Tt]=e,(i=n.nodeValue!==r)&&(t=Qe,t!==null))switch(t.tag){case 3:Zs(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zs(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Tt]=e,e.stateNode=n}return ke(e),null;case 13:if(X(ne),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(re&&Je!==null&&e.mode&1&&!(e.flags&128))Zf(),kn(),e.flags|=98560,i=!1;else if(i=Xs(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(k(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(k(317));i[Tt]=e}else kn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ke(e),i=!1}else gt!==null&&(dl(gt),gt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ne.current&1?me===0&&(me=3):wu())),e.updateQueue!==null&&(e.flags|=4),ke(e),null);case 4:return Nn(),nl(t,e),t===null&&_s(e.stateNode.containerInfo),ke(e),null;case 10:return ru(e.type._context),ke(e),null;case 17:return Ge(e.type)&&zi(),ke(e),null;case 19:if(X(ne),i=e.memoizedState,i===null)return ke(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Wn(i,!1);else{if(me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yi(t),o!==null){for(e.flags|=128,Wn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return J(ne,ne.current&1|2),e.child}t=t.sibling}i.tail!==null&&ae()>In&&(e.flags|=128,n=!0,Wn(i,!1),e.lanes=4194304)}else{if(!n)if(t=Yi(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Wn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!re)return ke(e),null}else 2*ae()-i.renderingStartTime>In&&r!==1073741824&&(e.flags|=128,n=!0,Wn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ae(),e.sibling=null,r=ne.current,J(ne,n?r&1|2:r&1),e):(ke(e),null);case 22:case 23:return yu(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?qe&1073741824&&(ke(e),e.subtreeFlags&6&&(e.flags|=8192)):ke(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function oy(t,e){switch(Zl(e),e.tag){case 1:return Ge(e.type)&&zi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Nn(),X(He),X(Ae),au(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ou(e),null;case 13:if(X(ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));kn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return X(ne),null;case 4:return Nn(),null;case 10:return ru(e.type._context),null;case 22:case 23:return yu(),null;case 24:return null;default:return null}}var ri=!1,Te=!1,ay=typeof WeakSet=="function"?WeakSet:Set,I=null;function fn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){oe(t,e,n)}else r.current=null}function sl(t,e,r){try{r()}catch(n){oe(t,e,n)}}var Yc=!1;function ly(t,e){if(Fa=Mi,t=$f(),Jl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===r&&++c===s&&(a=o),f===i&&++d===n&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(za={focusedElem:t,selectionRange:r},Mi=!1,I=e;I!==null;)if(e=I,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,I=t;else for(;I!==null;){e=I;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,E=y.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?w:ht(e.type,w),E);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(_){oe(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,I=t;break}I=e.return}return y=Yc,Yc=!1,y}function as(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&sl(e,r,i)}s=s.next}while(s!==n)}}function No(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function il(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Lp(t){var e=t.alternate;e!==null&&(t.alternate=null,Lp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Tt],delete e[xs],delete e[Va],delete e[Gv],delete e[Vv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Dp(t){return t.tag===5||t.tag===3||t.tag===4}function Jc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ol(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Fi));else if(n!==4&&(t=t.child,t!==null))for(ol(t,e,r),t=t.sibling;t!==null;)ol(t,e,r),t=t.sibling}function al(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(al(t,e,r),t=t.sibling;t!==null;)al(t,e,r),t=t.sibling}var _e=null,pt=!1;function qt(t,e,r){for(r=r.child;r!==null;)Up(t,e,r),r=r.sibling}function Up(t,e,r){if(It&&typeof It.onCommitFiberUnmount=="function")try{It.onCommitFiberUnmount(wo,r)}catch{}switch(r.tag){case 5:Te||fn(r,e);case 6:var n=_e,s=pt;_e=null,qt(t,e,r),_e=n,pt=s,_e!==null&&(pt?(t=_e,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):_e.removeChild(r.stateNode));break;case 18:_e!==null&&(pt?(t=_e,r=r.stateNode,t.nodeType===8?na(t.parentNode,r):t.nodeType===1&&na(t,r),vs(t)):na(_e,r.stateNode));break;case 4:n=_e,s=pt,_e=r.stateNode.containerInfo,pt=!0,qt(t,e,r),_e=n,pt=s;break;case 0:case 11:case 14:case 15:if(!Te&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&sl(r,e,o),s=s.next}while(s!==n)}qt(t,e,r);break;case 1:if(!Te&&(fn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){oe(r,e,a)}qt(t,e,r);break;case 21:qt(t,e,r);break;case 22:r.mode&1?(Te=(n=Te)||r.memoizedState!==null,qt(t,e,r),Te=n):qt(t,e,r);break;default:qt(t,e,r)}}function Qc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new ay),e.forEach(function(n){var s=vy.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ct(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:_e=a.stateNode,pt=!1;break e;case 3:_e=a.stateNode.containerInfo,pt=!0;break e;case 4:_e=a.stateNode.containerInfo,pt=!0;break e}a=a.return}if(_e===null)throw Error(k(160));Up(i,o,s),_e=null,pt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){oe(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Mp(e,t),e=e.sibling}function Mp(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ct(e,t),bt(t),n&4){try{as(3,t,t.return),No(3,t)}catch(w){oe(t,t.return,w)}try{as(5,t,t.return)}catch(w){oe(t,t.return,w)}}break;case 1:ct(e,t),bt(t),n&512&&r!==null&&fn(r,r.return);break;case 5:if(ct(e,t),bt(t),n&512&&r!==null&&fn(r,r.return),t.flags&32){var s=t.stateNode;try{fs(s,"")}catch(w){oe(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&of(s,i),Ca(a,o);var c=Ca(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?df(s,h):d==="dangerouslySetInnerHTML"?uf(s,h):d==="children"?fs(s,h):Ul(s,d,h,c)}switch(a){case"input":Ta(s,i);break;case"textarea":af(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?mn(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?mn(s,!!i.multiple,i.defaultValue,!0):mn(s,!!i.multiple,i.multiple?[]:"",!1))}s[xs]=i}catch(w){oe(t,t.return,w)}}break;case 6:if(ct(e,t),bt(t),n&4){if(t.stateNode===null)throw Error(k(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){oe(t,t.return,w)}}break;case 3:if(ct(e,t),bt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{vs(e.containerInfo)}catch(w){oe(t,t.return,w)}break;case 4:ct(e,t),bt(t);break;case 13:ct(e,t),bt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(gu=ae())),n&4&&Qc(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Te=(c=Te)||d,ct(e,t),Te=c):ct(e,t),bt(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(I=t,d=t.child;d!==null;){for(h=I=d;I!==null;){switch(f=I,m=f.child,f.tag){case 0:case 11:case 14:case 15:as(4,f,f.return);break;case 1:fn(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){oe(n,r,w)}}break;case 5:fn(f,f.return);break;case 22:if(f.memoizedState!==null){Xc(h);continue}}m!==null?(m.return=f,I=m):Xc(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=cf("display",o))}catch(w){oe(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){oe(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ct(e,t),bt(t),n&4&&Qc(t);break;case 21:break;default:ct(e,t),bt(t)}}function bt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Dp(r)){var n=r;break e}r=r.return}throw Error(k(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(fs(s,""),n.flags&=-33);var i=Jc(t);al(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Jc(t);ol(t,a,o);break;default:throw Error(k(161))}}catch(l){oe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uy(t,e,r){I=t,$p(t)}function $p(t,e,r){for(var n=(t.mode&1)!==0;I!==null;){var s=I,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||ri;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Te;a=ri;var c=Te;if(ri=o,(Te=l)&&!c)for(I=s;I!==null;)o=I,l=o.child,o.tag===22&&o.memoizedState!==null?ed(s):l!==null?(l.return=o,I=l):ed(s);for(;i!==null;)I=i,$p(i),i=i.sibling;I=s,ri=a,Te=c}Zc(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,I=i):Zc(t)}}function Zc(t){for(;I!==null;){var e=I;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Te||No(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Te)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:ht(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Dc(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Dc(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&vs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}Te||e.flags&512&&il(e)}catch(f){oe(e,e.return,f)}}if(e===t){I=null;break}if(r=e.sibling,r!==null){r.return=e.return,I=r;break}I=e.return}}function Xc(t){for(;I!==null;){var e=I;if(e===t){I=null;break}var r=e.sibling;if(r!==null){r.return=e.return,I=r;break}I=e.return}}function ed(t){for(;I!==null;){var e=I;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{No(4,e)}catch(l){oe(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){oe(e,s,l)}}var i=e.return;try{il(e)}catch(l){oe(e,i,l)}break;case 5:var o=e.return;try{il(e)}catch(l){oe(e,o,l)}}}catch(l){oe(e,e.return,l)}if(e===t){I=null;break}var a=e.sibling;if(a!==null){a.return=e.return,I=a;break}I=e.return}}var cy=Math.ceil,Zi=Gt.ReactCurrentDispatcher,pu=Gt.ReactCurrentOwner,it=Gt.ReactCurrentBatchConfig,G=0,ve=null,fe=null,Ee=0,qe=0,pn=pr(0),me=0,As=null,Dr=0,Ao=0,mu=0,ls=null,Be=null,gu=0,In=1/0,Lt=null,Xi=!1,ll=null,lr=null,ni=!1,rr=null,eo=0,us=0,ul=null,Ti=-1,Ni=0;function je(){return G&6?ae():Ti!==-1?Ti:Ti=ae()}function ur(t){return t.mode&1?G&2&&Ee!==0?Ee&-Ee:qv.transition!==null?(Ni===0&&(Ni=bf()),Ni):(t=q,t!==0||(t=window.event,t=t===void 0?16:Of(t.type)),t):1}function yt(t,e,r,n){if(50<us)throw us=0,ul=null,Error(k(185));js(t,r,n),(!(G&2)||t!==ve)&&(t===ve&&(!(G&2)&&(Ao|=r),me===4&&Zt(t,Ee)),Ve(t,n),r===1&&G===0&&!(e.mode&1)&&(In=ae()+500,So&&mr()))}function Ve(t,e){var r=t.callbackNode;q0(t,e);var n=Ui(t,t===ve?Ee:0);if(n===0)r!==null&&uc(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&uc(r),e===1)t.tag===0?Wv(td.bind(null,t)):Yf(td.bind(null,t)),zv(function(){!(G&6)&&mr()}),r=null;else{switch(Sf(n)){case 1:r=zl;break;case 4:r=Ef;break;case 16:r=Di;break;case 536870912:r=xf;break;default:r=Di}r=qp(r,Bp.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Bp(t,e){if(Ti=-1,Ni=0,G&6)throw Error(k(327));var r=t.callbackNode;if(_n()&&t.callbackNode!==r)return null;var n=Ui(t,t===ve?Ee:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=to(t,n);else{e=n;var s=G;G|=2;var i=zp();(ve!==t||Ee!==e)&&(Lt=null,In=ae()+500,Cr(t,e));do try{fy();break}catch(a){Fp(t,a)}while(!0);tu(),Zi.current=i,G=s,fe!==null?e=0:(ve=null,Ee=0,e=me)}if(e!==0){if(e===2&&(s=Da(t),s!==0&&(n=s,e=cl(t,s))),e===1)throw r=As,Cr(t,0),Zt(t,n),Ve(t,ae()),r;if(e===6)Zt(t,n);else{if(s=t.current.alternate,!(n&30)&&!dy(s)&&(e=to(t,n),e===2&&(i=Da(t),i!==0&&(n=i,e=cl(t,i))),e===1))throw r=As,Cr(t,0),Zt(t,n),Ve(t,ae()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(k(345));case 2:Er(t,Be,Lt);break;case 3:if(Zt(t,n),(n&130023424)===n&&(e=gu+500-ae(),10<e)){if(Ui(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){je(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ga(Er.bind(null,t,Be,Lt),e);break}Er(t,Be,Lt);break;case 4:if(Zt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-vt(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=ae()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*cy(n/1960))-n,10<n){t.timeoutHandle=Ga(Er.bind(null,t,Be,Lt),n);break}Er(t,Be,Lt);break;case 5:Er(t,Be,Lt);break;default:throw Error(k(329))}}}return Ve(t,ae()),t.callbackNode===r?Bp.bind(null,t):null}function cl(t,e){var r=ls;return t.current.memoizedState.isDehydrated&&(Cr(t,e).flags|=256),t=to(t,e),t!==2&&(e=Be,Be=r,e!==null&&dl(e)),t}function dl(t){Be===null?Be=t:Be.push.apply(Be,t)}function dy(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!wt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Zt(t,e){for(e&=~mu,e&=~Ao,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-vt(e),n=1<<r;t[r]=-1,e&=~n}}function td(t){if(G&6)throw Error(k(327));_n();var e=Ui(t,0);if(!(e&1))return Ve(t,ae()),null;var r=to(t,e);if(t.tag!==0&&r===2){var n=Da(t);n!==0&&(e=n,r=cl(t,n))}if(r===1)throw r=As,Cr(t,0),Zt(t,e),Ve(t,ae()),r;if(r===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Er(t,Be,Lt),Ve(t,ae()),null}function vu(t,e){var r=G;G|=1;try{return t(e)}finally{G=r,G===0&&(In=ae()+500,So&&mr())}}function Ur(t){rr!==null&&rr.tag===0&&!(G&6)&&_n();var e=G;G|=1;var r=it.transition,n=q;try{if(it.transition=null,q=1,t)return t()}finally{q=n,it.transition=r,G=e,!(G&6)&&mr()}}function yu(){qe=pn.current,X(pn)}function Cr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Fv(r)),fe!==null)for(r=fe.return;r!==null;){var n=r;switch(Zl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&zi();break;case 3:Nn(),X(He),X(Ae),au();break;case 5:ou(n);break;case 4:Nn();break;case 13:X(ne);break;case 19:X(ne);break;case 10:ru(n.type._context);break;case 22:case 23:yu()}r=r.return}if(ve=t,fe=t=cr(t.current,null),Ee=qe=e,me=0,As=null,mu=Ao=Dr=0,Be=ls=null,Ar!==null){for(e=0;e<Ar.length;e++)if(r=Ar[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Ar=null}return t}function Fp(t,e){do{var r=fe;try{if(tu(),bi.current=Qi,Ji){for(var n=se.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ji=!1}if(Lr=0,ge=pe=se=null,os=!1,ks=0,pu.current=null,r===null||r.return===null){me=1,As=e,fe=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=Ee,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=zc(o);if(m!==null){m.flags&=-257,Hc(m,o,a,i,e),m.mode&1&&Fc(i,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){Fc(i,c,e),wu();break e}l=Error(k(426))}}else if(re&&a.mode&1){var E=zc(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Hc(E,o,a,i,e),Xl(An(l,a));break e}}i=l=An(l,a),me!==4&&(me=2),ls===null?ls=[i]:ls.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=Sp(i,l,e);Lc(i,v);break e;case 1:a=l;var g=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(lr===null||!lr.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=kp(i,a,e);Lc(i,_);break e}}i=i.return}while(i!==null)}Gp(r)}catch(x){e=x,fe===r&&r!==null&&(fe=r=r.return);continue}break}while(!0)}function zp(){var t=Zi.current;return Zi.current=Qi,t===null?Qi:t}function wu(){(me===0||me===3||me===2)&&(me=4),ve===null||!(Dr&268435455)&&!(Ao&268435455)||Zt(ve,Ee)}function to(t,e){var r=G;G|=2;var n=zp();(ve!==t||Ee!==e)&&(Lt=null,Cr(t,e));do try{hy();break}catch(s){Fp(t,s)}while(!0);if(tu(),G=r,Zi.current=n,fe!==null)throw Error(k(261));return ve=null,Ee=0,me}function hy(){for(;fe!==null;)Hp(fe)}function fy(){for(;fe!==null&&!M0();)Hp(fe)}function Hp(t){var e=Wp(t.alternate,t,qe);t.memoizedProps=t.pendingProps,e===null?Gp(t):fe=e,pu.current=null}function Gp(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=oy(r,e),r!==null){r.flags&=32767,fe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{me=6,fe=null;return}}else if(r=iy(r,e,qe),r!==null){fe=r;return}if(e=e.sibling,e!==null){fe=e;return}fe=e=t}while(e!==null);me===0&&(me=5)}function Er(t,e,r){var n=q,s=it.transition;try{it.transition=null,q=1,py(t,e,r,n)}finally{it.transition=s,q=n}return null}function py(t,e,r,n){do _n();while(rr!==null);if(G&6)throw Error(k(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(K0(t,i),t===ve&&(fe=ve=null,Ee=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ni||(ni=!0,qp(Di,function(){return _n(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=it.transition,it.transition=null;var o=q;q=1;var a=G;G|=4,pu.current=null,ly(t,r),Mp(r,t),Pv(za),Mi=!!Fa,za=Fa=null,t.current=r,uy(r),$0(),G=a,q=o,it.transition=i}else t.current=r;if(ni&&(ni=!1,rr=t,eo=s),i=t.pendingLanes,i===0&&(lr=null),z0(r.stateNode),Ve(t,ae()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Xi)throw Xi=!1,t=ll,ll=null,t;return eo&1&&t.tag!==0&&_n(),i=t.pendingLanes,i&1?t===ul?us++:(us=0,ul=t):us=0,mr(),null}function _n(){if(rr!==null){var t=Sf(eo),e=it.transition,r=q;try{if(it.transition=null,q=16>t?16:t,rr===null)var n=!1;else{if(t=rr,rr=null,eo=0,G&6)throw Error(k(331));var s=G;for(G|=4,I=t.current;I!==null;){var i=I,o=i.child;if(I.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(I=c;I!==null;){var d=I;switch(d.tag){case 0:case 11:case 15:as(8,d,i)}var h=d.child;if(h!==null)h.return=d,I=h;else for(;I!==null;){d=I;var f=d.sibling,m=d.return;if(Lp(d),d===c){I=null;break}if(f!==null){f.return=m,I=f;break}I=m}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var E=w.sibling;w.sibling=null,w=E}while(w!==null)}}I=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,I=o;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:as(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,I=v;break e}I=i.return}}var g=t.current;for(I=g;I!==null;){o=I;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,I=p;else e:for(o=g;I!==null;){if(a=I,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:No(9,a)}}catch(x){oe(a,a.return,x)}if(a===o){I=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,I=_;break e}I=a.return}}if(G=s,mr(),It&&typeof It.onPostCommitFiberRoot=="function")try{It.onPostCommitFiberRoot(wo,t)}catch{}n=!0}return n}finally{q=r,it.transition=e}}return!1}function rd(t,e,r){e=An(r,e),e=Sp(t,e,1),t=ar(t,e,1),e=je(),t!==null&&(js(t,1,e),Ve(t,e))}function oe(t,e,r){if(t.tag===3)rd(t,t,r);else for(;e!==null;){if(e.tag===3){rd(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(lr===null||!lr.has(n))){t=An(r,t),t=kp(e,t,1),e=ar(e,t,1),t=je(),e!==null&&(js(e,1,t),Ve(e,t));break}}e=e.return}}function my(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=je(),t.pingedLanes|=t.suspendedLanes&r,ve===t&&(Ee&r)===r&&(me===4||me===3&&(Ee&130023424)===Ee&&500>ae()-gu?Cr(t,0):mu|=r),Ve(t,e)}function Vp(t,e){e===0&&(t.mode&1?(e=qs,qs<<=1,!(qs&130023424)&&(qs=4194304)):e=1);var r=je();t=zt(t,e),t!==null&&(js(t,e,r),Ve(t,r))}function gy(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Vp(t,r)}function vy(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(k(314))}n!==null&&n.delete(e),Vp(t,r)}var Wp;Wp=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||He.current)ze=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ze=!1,sy(t,e,r);ze=!!(t.flags&131072)}else ze=!1,re&&e.flags&1048576&&Jf(e,Vi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ki(t,e),t=e.pendingProps;var s=Sn(e,Ae.current);wn(e,r),s=uu(null,e,n,t,s,r);var i=cu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ge(n)?(i=!0,Hi(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,su(e),s.updater=To,e.stateNode=s,s._reactInternals=e,Qa(e,n,t,r),e=el(null,e,n,!0,i,r)):(e.tag=0,re&&i&&Ql(e),Re(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ki(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=wy(n),t=ht(n,t),s){case 0:e=Xa(null,e,n,t,r);break e;case 1:e=Wc(null,e,n,t,r);break e;case 11:e=Gc(null,e,n,t,r);break e;case 14:e=Vc(null,e,n,ht(n.type,t),r);break e}throw Error(k(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ht(n,s),Xa(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ht(n,s),Wc(t,e,n,s,r);case 3:e:{if(Ip(e),t===null)throw Error(k(387));n=e.pendingProps,i=e.memoizedState,s=i.element,rp(t,e),Ki(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=An(Error(k(423)),e),e=qc(t,e,n,r,s);break e}else if(n!==s){s=An(Error(k(424)),e),e=qc(t,e,n,r,s);break e}else for(Je=or(e.stateNode.containerInfo.firstChild),Qe=e,re=!0,gt=null,r=ep(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(kn(),n===s){e=Ht(t,e,r);break e}Re(t,e,n,r)}e=e.child}return e;case 5:return np(e),t===null&&Ka(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ha(n,s)?o=null:i!==null&&Ha(n,i)&&(e.flags|=32),Ap(t,e),Re(t,e,o,r),e.child;case 6:return t===null&&Ka(e),null;case 13:return Op(t,e,r);case 4:return iu(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Tn(e,null,n,r):Re(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ht(n,s),Gc(t,e,n,s,r);case 7:return Re(t,e,e.pendingProps,r),e.child;case 8:return Re(t,e,e.pendingProps.children,r),e.child;case 12:return Re(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,J(Wi,n._currentValue),n._currentValue=o,i!==null)if(wt(i.value,o)){if(i.children===s.children&&!He.current){e=Ht(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=$t(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Ya(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(k(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Ya(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Re(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,wn(e,r),s=ot(s),n=n(s),e.flags|=1,Re(t,e,n,r),e.child;case 14:return n=e.type,s=ht(n,e.pendingProps),s=ht(n.type,s),Vc(t,e,n,s,r);case 15:return Tp(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ht(n,s),ki(t,e),e.tag=1,Ge(n)?(t=!0,Hi(e)):t=!1,wn(e,r),bp(e,n,s),Qa(e,n,s,r),el(null,e,n,!0,t,r);case 19:return Cp(t,e,r);case 22:return Np(t,e,r)}throw Error(k(156,e.tag))};function qp(t,e){return _f(t,e)}function yy(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function st(t,e,r,n){return new yy(t,e,r,n)}function _u(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wy(t){if(typeof t=="function")return _u(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$l)return 11;if(t===Bl)return 14}return 2}function cr(t,e){var r=t.alternate;return r===null?(r=st(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ai(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")_u(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case nn:return Rr(r.children,s,i,e);case Ml:o=8,s|=8;break;case Ea:return t=st(12,r,e,s|2),t.elementType=Ea,t.lanes=i,t;case xa:return t=st(13,r,e,s),t.elementType=xa,t.lanes=i,t;case ba:return t=st(19,r,e,s),t.elementType=ba,t.lanes=i,t;case rf:return Io(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ef:o=10;break e;case tf:o=9;break e;case $l:o=11;break e;case Bl:o=14;break e;case Yt:o=16,n=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=st(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Rr(t,e,r,n){return t=st(7,t,n,e),t.lanes=r,t}function Io(t,e,r,n){return t=st(22,t,n,e),t.elementType=rf,t.lanes=r,t.stateNode={isHidden:!1},t}function da(t,e,r){return t=st(6,t,null,e),t.lanes=r,t}function ha(t,e,r){return e=st(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _y(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wo(0),this.expirationTimes=Wo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Eu(t,e,r,n,s,i,o,a,l){return t=new _y(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=st(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},su(i),t}function Ey(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rn,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Kp(t){if(!t)return hr;t=t._reactInternals;e:{if(Fr(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ge(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var r=t.type;if(Ge(r))return Kf(t,r,e)}return e}function Yp(t,e,r,n,s,i,o,a,l){return t=Eu(r,n,!0,t,s,i,o,a,l),t.context=Kp(null),r=t.current,n=je(),s=ur(r),i=$t(n,s),i.callback=e??null,ar(r,i,s),t.current.lanes=s,js(t,s,n),Ve(t,n),t}function Oo(t,e,r,n){var s=e.current,i=je(),o=ur(s);return r=Kp(r),e.context===null?e.context=r:e.pendingContext=r,e=$t(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ar(s,e,o),t!==null&&(yt(t,s,o,i),xi(t,s,o)),o}function ro(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function xu(t,e){nd(t,e),(t=t.alternate)&&nd(t,e)}function xy(){return null}var Jp=typeof reportError=="function"?reportError:function(t){console.error(t)};function bu(t){this._internalRoot=t}Co.prototype.render=bu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));Oo(t,e,null,null)};Co.prototype.unmount=bu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ur(function(){Oo(null,t,null,null)}),e[Ft]=null}};function Co(t){this._internalRoot=t}Co.prototype.unstable_scheduleHydration=function(t){if(t){var e=Nf();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Qt.length&&e!==0&&e<Qt[r].priority;r++);Qt.splice(r,0,t),r===0&&If(t)}};function Su(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ro(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sd(){}function by(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=ro(o);i.call(c)}}var o=Yp(e,n,t,0,null,!1,!1,"",sd);return t._reactRootContainer=o,t[Ft]=o.current,_s(t.nodeType===8?t.parentNode:t),Ur(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=ro(l);a.call(c)}}var l=Eu(t,0,!1,null,null,!1,!1,"",sd);return t._reactRootContainer=l,t[Ft]=l.current,_s(t.nodeType===8?t.parentNode:t),Ur(function(){Oo(e,l,r,n)}),l}function jo(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ro(o);a.call(l)}}Oo(e,o,t,s)}else o=by(r,e,t,s,n);return ro(o)}kf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Qn(e.pendingLanes);r!==0&&(Hl(e,r|1),Ve(e,ae()),!(G&6)&&(In=ae()+500,mr()))}break;case 13:Ur(function(){var n=zt(t,1);if(n!==null){var s=je();yt(n,t,1,s)}}),xu(t,1)}};Gl=function(t){if(t.tag===13){var e=zt(t,134217728);if(e!==null){var r=je();yt(e,t,134217728,r)}xu(t,134217728)}};Tf=function(t){if(t.tag===13){var e=ur(t),r=zt(t,e);if(r!==null){var n=je();yt(r,t,e,n)}xu(t,e)}};Nf=function(){return q};Af=function(t,e){var r=q;try{return q=t,e()}finally{q=r}};ja=function(t,e,r){switch(e){case"input":if(Ta(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=bo(n);if(!s)throw Error(k(90));sf(n),Ta(n,s)}}}break;case"textarea":af(t,r);break;case"select":e=r.value,e!=null&&mn(t,!!r.multiple,e,!1)}};pf=vu;mf=Ur;var Sy={usingClientEntryPoint:!1,Events:[Ls,ln,bo,hf,ff,vu]},qn={findFiberByHostInstance:Nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ky={bundleType:qn.bundleType,version:qn.version,rendererPackageName:qn.rendererPackageName,rendererConfig:qn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yf(t),t===null?null:t.stateNode},findFiberByHostInstance:qn.findFiberByHostInstance||xy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var si=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!si.isDisabled&&si.supportsFiber)try{wo=si.inject(ky),It=si}catch{}}Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sy;Xe.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Su(e))throw Error(k(200));return Ey(t,e,null,r)};Xe.createRoot=function(t,e){if(!Su(t))throw Error(k(299));var r=!1,n="",s=Jp;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Eu(t,1,!1,null,null,r,!1,n,s),t[Ft]=e.current,_s(t.nodeType===8?t.parentNode:t),new bu(e)};Xe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=yf(e),t=t===null?null:t.stateNode,t};Xe.flushSync=function(t){return Ur(t)};Xe.hydrate=function(t,e,r){if(!Ro(e))throw Error(k(200));return jo(null,t,e,!0,r)};Xe.hydrateRoot=function(t,e,r){if(!Su(t))throw Error(k(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Jp;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Yp(e,null,t,1,r??null,s,!1,i,o),t[Ft]=e.current,_s(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Co(e)};Xe.render=function(t,e,r){if(!Ro(e))throw Error(k(200));return jo(null,t,e,!1,r)};Xe.unmountComponentAtNode=function(t){if(!Ro(t))throw Error(k(40));return t._reactRootContainer?(Ur(function(){jo(null,null,t,!1,function(){t._reactRootContainer=null,t[Ft]=null})}),!0):!1};Xe.unstable_batchedUpdates=vu;Xe.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ro(r))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return jo(t,e,r,!1,n)};Xe.version="18.3.1-next-f1338f8080-20240426";function Qp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qp)}catch(t){console.error(t)}}Qp(),Jh.exports=Xe;var Ty=Jh.exports,id=Ty;wa.createRoot=id.createRoot,wa.hydrateRoot=id.hydrateRoot;const Ny="modulepreload",Ay=function(t){return"/"+t},od={},We=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=Ay(l),l in od)return;od[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Ny,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 *//**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ad;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(ad||(ad={}));var ld;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(ld||(ld={}));var ud;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(ud||(ud={}));var R;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(R||(R={}));var cd;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(cd||(cd={}));var dd;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(dd||(dd={}));var hd;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(hd||(hd={}));var fd;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(fd||(fd={}));var pd;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(pd||(pd={}));var md;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(md||(md={}));var gd;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(gd||(gd={}));var vd;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(vd||(vd={}));var yd;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(yd||(yd={}));var wd;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(wd||(wd={}));var _d;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(_d||(_d={}));var Ed;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Ed||(Ed={}));var xd;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(xd||(xd={}));var bd;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(bd||(bd={}));var Sd;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Sd||(Sd={}));var kd;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(kd||(kd={}));var Td;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Td||(Td={}));var Nd;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Nd||(Nd={}));var Ad;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ad||(Ad={}));var Id;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Id||(Id={}));var Od;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Od||(Od={}));var Cd;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Cd||(Cd={}));var Rd;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Rd||(Rd={}));var jd;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(jd||(jd={}));var Pd;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Pd||(Pd={}));var Ld;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Ld||(Ld={}));var Dd;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Dd||(Dd={}));var Ud;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Ud||(Ud={}));var Md;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Md||(Md={}));var $d;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})($d||($d={}));var Bd;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Bd||(Bd={}));var Fd;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Fd||(Fd={}));var zd;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(zd||(zd={}));var Hd;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Hd||(Hd={}));var Gd;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Gd||(Gd={}));var Vd;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Vd||(Vd={}));var Wd;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(Wd||(Wd={}));var qd;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(qd||(qd={}));var Kd;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Kd||(Kd={}));var Yd;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(Yd||(Yd={}));var Jd;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Jd||(Jd={}));var Qd;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Qd||(Qd={}));var Zd;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Zd||(Zd={}));var Xd;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Xd||(Xd={}));var eh;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(eh||(eh={}));var th;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(th||(th={}));var rh;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(rh||(rh={}));var nh;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(nh||(nh={}));var sh;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(sh||(sh={}));var ih;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(ih||(ih={}));var oh;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(oh||(oh={}));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ah;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ah||(ah={}));var ku={},no={},hl=function(t,e){return hl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},hl(t,e)};function Zp(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");hl(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var so=function(){return so=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},so.apply(this,arguments)};function Ln(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Xp(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function em(t,e){return function(r,n){e(r,n,t)}}function tm(t,e,r,n,s,i){function o(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,d=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),h,f=!1,m=r.length-1;m>=0;m--){var y={};for(var w in n)y[w]=w==="access"?{}:n[w];for(var w in n.access)y.access[w]=n.access[w];y.addInitializer=function(v){if(f)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(v||null))};var E=(0,r[m])(a==="accessor"?{get:d.get,set:d.set}:d[l],y);if(a==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(h=o(E.get))&&(d.get=h),(h=o(E.set))&&(d.set=h),(h=o(E.init))&&s.unshift(h)}else(h=o(E))&&(a==="field"?s.unshift(h):d[l]=h)}c&&Object.defineProperty(c,n.name,d),f=!0}function rm(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function nm(t){return typeof t=="symbol"?t:"".concat(t)}function sm(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function im(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function O(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function l(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}function om(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return l([c,d])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(d){c=[6,d],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Po=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function am(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Po(e,t,r)}function io(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tu(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function lm(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Tu(arguments[e]));return t}function um(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function cm(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function On(t){return this instanceof On?(this.v=t,this):new On(t)}function dm(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(m){return function(y){return Promise.resolve(y).then(m,h)}}function a(m,y){n[m]&&(s[m]=function(w){return new Promise(function(E,v){i.push([m,w,E,v])>1||l(m,w)})},y&&(s[m]=y(s[m])))}function l(m,y){try{c(n[m](y))}catch(w){f(i[0][3],w)}}function c(m){m.value instanceof On?Promise.resolve(m.value.v).then(d,h):f(i[0][2],m)}function d(m){l("next",m)}function h(m){l("throw",m)}function f(m,y){m(y),i.shift(),i.length&&l(i[0][0],i[0][1])}}function hm(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:On(t[s](o)),done:!1}:i?i(o):o}:i}}function fm(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof io=="function"?io(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}function pm(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Iy=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},fl=function(t){return fl=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},fl(t)};function mm(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=fl(t),n=0;n<r.length;n++)r[n]!=="default"&&Po(e,t,r[n]);return Iy(e,t),e}function gm(t){return t&&t.__esModule?t:{default:t}}function vm(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function ym(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function wm(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function _m(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var Oy=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function Em(t){function e(i){t.error=t.hasError?new Oy(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function xm(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?e?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):t}const Cy={__extends:Zp,__assign:so,__rest:Ln,__decorate:Xp,__param:em,__esDecorate:tm,__runInitializers:rm,__propKey:nm,__setFunctionName:sm,__metadata:im,__awaiter:O,__generator:om,__createBinding:Po,__exportStar:am,__values:io,__read:Tu,__spread:lm,__spreadArrays:um,__spreadArray:cm,__await:On,__asyncGenerator:dm,__asyncDelegator:hm,__asyncValues:fm,__makeTemplateObject:pm,__importStar:mm,__importDefault:gm,__classPrivateFieldGet:vm,__classPrivateFieldSet:ym,__classPrivateFieldIn:wm,__addDisposableResource:_m,__disposeResources:Em,__rewriteRelativeImportExtension:xm},Ry=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:_m,get __assign(){return so},__asyncDelegator:hm,__asyncGenerator:dm,__asyncValues:fm,__await:On,__awaiter:O,__classPrivateFieldGet:vm,__classPrivateFieldIn:wm,__classPrivateFieldSet:ym,__createBinding:Po,__decorate:Xp,__disposeResources:Em,__esDecorate:tm,__exportStar:am,__extends:Zp,__generator:om,__importDefault:gm,__importStar:mm,__makeTemplateObject:pm,__metadata:im,__param:em,__propKey:nm,__read:Tu,__rest:Ln,__rewriteRelativeImportExtension:xm,__runInitializers:rm,__setFunctionName:sm,__spread:lm,__spreadArray:cm,__spreadArrays:um,__values:io,default:Cy},Symbol.toStringTag,{value:"Module"})),jy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);let Lo=class extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}},bm=class extends Lo{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},pl=class extends Lo{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},ml=class extends Lo{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}};var oo;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(oo||(oo={}));class Py{constructor(e,{headers:r={},customFetch:n,region:s=oo.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=jy(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return O(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:c,signal:d,timeout:h}=n;let f={},{region:m}=n;m||(m=this.region);const y=new URL(`${this.url}/${r}`);m&&m!=="any"&&(f["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let w;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",w=c):typeof c=="string"?(f["Content-Type"]="text/plain",w=c):typeof FormData<"u"&&c instanceof FormData?w=c:(f["Content-Type"]="application/json",w=JSON.stringify(c)):w=c;let E=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(E=o.signal,d.addEventListener("abort",()=>o.abort())):E=o.signal);const v=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:w,signal:E}).catch(x=>{throw new bm(x)}),g=v.headers.get("x-relay-error");if(g&&g==="true")throw new pl(v);if(!v.ok)throw new ml(v);let p=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return p==="application/json"?_=yield v.json():p==="application/octet-stream"||p==="application/pdf"?_=yield v.blob():p==="text/event-stream"?_=v:p==="multipart/form-data"?_=yield v.formData():_=yield v.text(),{data:_,error:null,response:v}}catch(a){return{data:null,error:a,response:a instanceof ml||a instanceof pl?a.context:void 0}}finally{i&&clearTimeout(i)}})}}const Ly=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return oo},FunctionsClient:Py,FunctionsError:Lo,FunctionsFetchError:bm,FunctionsHttpError:ml,FunctionsRelayError:pl},Symbol.toStringTag,{value:"Module"})),Sm=Cs(Ly);var Ne={};const Dn=Cs(Ry);var ii={},oi={},ai={},li={},ui={},ci={},lh;function km(){if(lh)return ci;lh=1,Object.defineProperty(ci,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ci.default=t,ci}var uh;function Tm(){if(uh)return ui;uh=1,Object.defineProperty(ui,"__esModule",{value:!0});const e=Dn.__importDefault(km());let r=class{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,d,h,f;let m=null,y=null,w=null,E=l.status,v=l.statusText;if(l.ok){if(this.method!=="HEAD"){const x=await l.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?y=x:y=JSON.parse(x))}const p=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");p&&_&&_.length>1&&(w=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,w=null,E=406,v="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const p=await l.text();try{m=JSON.parse(p),Array.isArray(m)&&l.status===404&&(y=[],m=null,E=200,v="OK")}catch{l.status===404&&p===""?(E=204,v="No Content"):m={message:p}}if(m&&this.isMaybeSingle&&(!((f=m==null?void 0:m.details)===null||f===void 0)&&f.includes("0 rows"))&&(m=null,E=200,v="OK"),m&&this.shouldThrowOnError)throw new e.default(m)}return{error:m,data:y,count:w,status:E,statusText:v}});return this.shouldThrowOnError||(a=a.catch(l=>{var c,d,h,f,m,y;let w="";const E=l==null?void 0:l.cause;if(E){const v=(c=E==null?void 0:E.message)!==null&&c!==void 0?c:"",g=(d=E==null?void 0:E.code)!==null&&d!==void 0?d:"";w=`${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"FetchError"}: ${l==null?void 0:l.message}`,w+=`

Caused by: ${(f=E==null?void 0:E.name)!==null&&f!==void 0?f:"Error"}: ${v}`,g&&(w+=` (${g})`),E!=null&&E.stack&&(w+=`
${E.stack}`)}else w=(m=l==null?void 0:l.stack)!==null&&m!==void 0?m:"";return{error:{message:`${(y=l==null?void 0:l.name)!==null&&y!==void 0?y:"FetchError"}: ${l==null?void 0:l.message}`,details:w,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}};return ui.default=r,ui}var ch;function Nm(){if(ch)return li;ch=1,Object.defineProperty(li,"__esModule",{value:!0});const e=Dn.__importDefault(Tm());let r=class extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};return li.default=r,li}var dh;function Nu(){if(dh)return ai;dh=1,Object.defineProperty(ai,"__esModule",{value:!0});const e=Dn.__importDefault(Nm()),r=new RegExp("[,()]");let n=class extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const d=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${c}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}};return ai.default=n,ai}var hh;function Am(){if(hh)return oi;hh=1,Object.defineProperty(oi,"__esModule",{value:!0});const e=Dn.__importDefault(Nu());let r=class{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let c=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",d),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(h.length>0){const f=[...new Set(h)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};return oi.default=r,oi}var fh;function Dy(){if(fh)return ii;fh=1,Object.defineProperty(ii,"__esModule",{value:!0});const t=Dn,e=t.__importDefault(Am()),r=t.__importDefault(Nu());let n=class Im{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new Im(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:c}={}){var d;let h;const f=new URL(`${this.url}/rpc/${i}`);let m;a||l?(h=a?"HEAD":"GET",Object.entries(o).filter(([w,E])=>E!==void 0).map(([w,E])=>[w,Array.isArray(E)?`{${E.join(",")}}`:`${E}`]).forEach(([w,E])=>{f.searchParams.append(w,E)})):(h="POST",m=o);const y=new Headers(this.headers);return c&&y.set("Prefer",`count=${c}`),new r.default({method:h,url:f,headers:y,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};return ii.default=n,ii}Object.defineProperty(Ne,"__esModule",{value:!0});Ne.PostgrestError=Ne.PostgrestBuilder=Ne.PostgrestTransformBuilder=Ne.PostgrestFilterBuilder=Ne.PostgrestQueryBuilder=Ne.PostgrestClient=void 0;const Un=Dn,Om=Un.__importDefault(Dy());Ne.PostgrestClient=Om.default;const Cm=Un.__importDefault(Am());Ne.PostgrestQueryBuilder=Cm.default;const Rm=Un.__importDefault(Nu());Ne.PostgrestFilterBuilder=Rm.default;const jm=Un.__importDefault(Nm());Ne.PostgrestTransformBuilder=jm.default;const Pm=Un.__importDefault(Tm());Ne.PostgrestBuilder=Pm.default;const Lm=Un.__importDefault(km());Ne.PostgrestError=Lm.default;Ne.default={PostgrestClient:Om.default,PostgrestQueryBuilder:Cm.default,PostgrestFilterBuilder:Rm.default,PostgrestTransformBuilder:jm.default,PostgrestBuilder:Pm.default,PostgrestError:Lm.default};class Dm{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Uy="2.86.2",My=`realtime-js/${Uy}`,Um="1.0.0",$y="2.0.0",ph=Um,gl=1e4,By=1e3,Fy=100;var kr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(kr||(kr={}));var de;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(de||(de={}));var mt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(mt||(mt={}));var vl;(function(t){t.websocket="websocket"})(vl||(vl={}));var Tr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Tr||(Tr={}));class zy{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var s,i;const o=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",c=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length+h.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let y=new DataView(m),w=0;y.setUint8(w++,this.KINDS.userBroadcastPush),y.setUint8(w++,l.length),y.setUint8(w++,a.length),y.setUint8(w++,o.length),y.setUint8(w++,c.length),y.setUint8(w++,h.length),y.setUint8(w++,r),Array.from(l,v=>y.setUint8(w++,v.charCodeAt(0))),Array.from(a,v=>y.setUint8(w++,v.charCodeAt(0))),Array.from(o,v=>y.setUint8(w++,v.charCodeAt(0))),Array.from(c,v=>y.setUint8(w++,v.charCodeAt(0))),Array.from(h,v=>y.setUint8(w++,v.charCodeAt(0)));var E=new Uint8Array(m.byteLength+n.byteLength);return E.set(new Uint8Array(m),0),E.set(new Uint8Array(n),m.byteLength),E.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(e.slice(l,l+s));l=l+s;const d=n.decode(e.slice(l,l+i));l=l+i;const h=n.decode(e.slice(l,l+o));l=l+o;const f=e.slice(l,e.byteLength),m=a===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,y={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(y.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class Mm{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Y||(Y={}));const mh=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Hy(o,t,e,s),i),{}):{}},Hy=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?$m(i,o):yl(o)},$m=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return qy(e,r)}switch(t){case Y.bool:return Gy(e);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return Vy(e);case Y.json:case Y.jsonb:return Wy(e);case Y.timestamp:return Ky(e);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return yl(e);default:return yl(e)}},yl=t=>t,Gy=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Vy=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Wy=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},qy=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>$m(e,a))}return t},Ky=t=>typeof t=="string"?t.replace(" ","T"):t,Bm=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class fa{constructor(e,r,n={},s=gl){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var wl;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(wl||(wl={}));let Fm=class Ii{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ii.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Ii.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ii.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(E=>E.presence_ref),m=h.map(E=>E.presence_ref),y=d.filter(E=>m.indexOf(E.presence_ref)<0),w=h.filter(E=>f.indexOf(E.presence_ref)<0);y.length>0&&(a[c]=y),w.length>0&&(l[c]=w)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);e[a].unshift(...f)}n(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var _l;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(_l||(_l={}));var En;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(En||(En={}));var kt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(kt||(kt={}));const Yy=de;let zm=class Hm{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=de.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new fa(this,mt.join,this.params,this.timeout),this.rejoinTimer=new Mm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=de.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=de.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=de.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Fm(this),this.broadcastEndpointURL=Bm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==de.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[En.PRESENCE]&&this.bindings[En.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(kt.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(kt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket.setAuth(),m===void 0){e==null||e(kt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,E=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,v=[];for(let g=0;g<E;g++){const p=w[g],{filter:{event:_,schema:x,table:b,filter:S}}=p,A=m&&m[g];if(A&&A.event===_&&A.schema===x&&A.table===b&&A.filter===S)v.push(Object.assign(Object.assign({},p),{id:A.id}));else{this.unsubscribe(),this.state=de.errored,e==null||e(kt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(kt.SUBSCRIBED);return}}).receive("error",m=>{this.state=de.errored,e==null||e(kt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(kt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===de.joined&&e===En.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=de.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new fa(this,mt.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=de.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new fa(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Fy){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=mt;if(n&&[a,l,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var y,w,E;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((E=(w=m.filter)===null||w===void 0?void 0:w.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===o}).map(m=>m.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var y,w,E,v,g,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,x=(y=m.filter)===null||y===void 0?void 0:y.event;return _&&((w=r.ids)===null||w===void 0?void 0:w.includes(_))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((E=r.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const _=(g=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:w,table:E,commit_timestamp:v,type:g,errors:p}=y;f=Object.assign(Object.assign({},{schema:w,table:E,commit_timestamp:v,eventType:g,new:{},old:{},errors:p}),this._getPayloadRecords(y))}m.callback(f,n)})}_isClosed(){return this.state===de.closed}_isJoined(){return this.state===de.joined}_isJoining(){return this.state===de.joining}_isLeaving(){return this.state===de.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Hm.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(mt.close,{},e)}_onError(e){this._on(mt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=de.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=mh(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=mh(e.columns,e.old_record)),r}};const pa=()=>{},di={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Jy=[1e3,2e3,5e3,1e4],Qy=1e4,Zy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let Xy=class{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=gl,this.transport=null,this.heartbeatIntervalMs=di.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pa,this.ref=0,this.reconnectTimer=null,this.vsn=ph,this.logger=pa,this.conn=null,this.sendBuffer=[],this.serializer=new zy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${vl.websocket}`,this.httpEndpoint=Bm(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Dm.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case kr.connecting:return Tr.Connecting;case kr.open:return Tr.Open;case kr.closing:return Tr.Closing;default:return Tr.Closed}}isConnected(){return this.connectionState()===Tr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new zm(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(By,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},di.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===kr.open||this.conn.readyState===kr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(mt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Zy],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:My};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(mt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Mm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},di.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,c,d,h,f,m;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:gl,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:di.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:pa,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:ph,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:y=>Jy[y-1]||Qy,this.vsn){case Um:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(y,w)=>w(JSON.stringify(y)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(y,w)=>w(JSON.parse(y));break;case $y:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}};const ew=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:Yy,get REALTIME_LISTEN_TYPES(){return En},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return _l},get REALTIME_PRESENCE_LISTEN_EVENTS(){return wl},get REALTIME_SUBSCRIBE_STATES(){return kt},RealtimeChannel:zm,RealtimeClient:Xy,RealtimePresence:Fm,WebSocketFactory:Dm},Symbol.toStringTag,{value:"Module"})),Gm=Cs(ew);class Us extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function te(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Vm extends Us{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ao extends Us{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const Au=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),tw=()=>Response,El=t=>{if(Array.isArray(t))return t.map(r=>El(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=El(n)}),e},rw=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},nw=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),ma=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},sw=(t,e,r)=>O(void 0,void 0,void 0,function*(){const n=yield tw();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Vm(ma(s),i,o))}).catch(s=>{e(new ao(ma(s),s))}):e(new ao(ma(t),t))}),iw=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(rw(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Ms(t,e,r,n,s,i){return O(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,iw(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>sw(l,a,n))})})}function Is(t,e,r,n){return O(this,void 0,void 0,function*(){return Ms(t,"GET",e,r,n)})}function ft(t,e,r,n,s){return O(this,void 0,void 0,function*(){return Ms(t,"POST",e,n,s,r)})}function xl(t,e,r,n,s){return O(this,void 0,void 0,function*(){return Ms(t,"PUT",e,n,s,r)})}function ow(t,e,r,n){return O(this,void 0,void 0,function*(){return Ms(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Iu(t,e,r,n,s){return O(this,void 0,void 0,function*(){return Ms(t,"DELETE",e,n,s,r)})}class aw{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return O(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(te(e))return{data:null,error:e};throw e}})}}var Wm;class lw{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Wm]="BlobDownloadBuilder",this.promise=null}asStream(){return new aw(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return O(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(te(e))return{data:null,error:e};throw e}})}}Wm=Symbol.toStringTag;const uw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cw{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=Au(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return O(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},gh),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield(e=="PUT"?xl:ft)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(te(i))return{data:null,error:i};throw i}})}upload(e,r,n){return O(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return O(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:gh.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield xl(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(te(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return O(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield ft(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Us("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}update(e,r,n){return O(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return O(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}copy(e,r,n){return O(this,void 0,void 0,function*(){try{return{data:{path:(yield ft(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return O(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield ft(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return O(this,void 0,void 0,function*(){try{const s=yield ft(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>Is(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new lw(l,this.shouldThrowOnError)}info(e){return O(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Is(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:El(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}exists(e){return O(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield ow(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n)&&n instanceof ao){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return O(this,void 0,void 0,function*(){try{return{data:yield Iu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}list(e,r,n){return O(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},uw),r),{prefix:e||""});return{data:yield ft(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}listV2(e,r){return O(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield ft(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const qm="2.86.2",Km={"X-Client-Info":`storage-js/${qm}`};class dw{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Km),r),this.fetch=Au(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return O(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Is(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}getBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield Is(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}createBucket(e){return O(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield ft(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return O(this,void 0,void 0,function*(){try{return{data:yield xl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}emptyBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}deleteBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield Iu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Os=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function hw(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function fw(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function pw(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const a=hw(t.baseUrl,n,s),l=await fw(t.auth),c=await e(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),d=await c.text(),h=(c.headers.get("content-type")||"").includes("application/json"),f=h&&d?JSON.parse(d):d;if(!c.ok){const m=h?f:void 0,y=m==null?void 0:m.error;throw new Os((y==null?void 0:y.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:m})}return{status:c.status,headers:c.headers,data:f}}}}function hi(t){return t.join("")}var mw=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:hi(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hi(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hi(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hi(t.namespace)}`}),!0}catch(e){if(e instanceof Os&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Os&&r.status===409)return;throw r}}};function Jr(t){return t.join("")}var gw=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Jr(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Jr(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Jr(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Jr(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Jr(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Jr(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Os&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Os&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},vw=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=pw({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new mw(this.client,e),this.tableOps=new gw(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class Ym{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Km),r),this.fetch=Au(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield ft(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}listBuckets(e){return O(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Is(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}deleteBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield Iu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}from(e){if(!nw(e))throw new Us("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new vw({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>O(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Ou={"X-Client-Info":`storage-js/${qm}`,"Content-Type":"application/json"};class Cu extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Fe(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Oi extends Cu{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Jm extends Cu{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var bl;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(bl||(bl={}));const Do=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),yw=()=>Response,Qm=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ww=t=>Array.from(new Float32Array(t)),_w=(t,e)=>{if(e!==void 0&&t.float32.length!==e)throw new Error(`Vector dimension mismatch: expected ${e}, got ${t.float32.length}`)},vh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ew=(t,e,r)=>O(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new Oi(vh(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Oi(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Oi(a,s,o))}}else e(new Jm(vh(t),t))}),xw=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(Qm(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function bw(t,e,r,n,s,i){return O(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,xw(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>Ew(l,a,n))})})}function Ye(t,e,r,n,s){return O(this,void 0,void 0,function*(){return bw(t,"POST",e,n,s,r)})}class Zm{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ou),r),this.fetch=Do(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return O(this,void 0,void 0,function*(){try{return{data:(yield Ye(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}getIndex(e,r){return O(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}listIndexes(e){return O(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return O(this,void 0,void 0,function*(){try{return{data:(yield Ye(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Fe(n))return{data:null,error:n};throw n}})}}class Xm{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ou),r),this.fetch=Do(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return O(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ye(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}getVectors(e){return O(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}listVectors(e){return O(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ye(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}queryVectors(e){return O(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}deleteVectors(e){return O(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ye(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}}class eg{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ou),r),this.fetch=Do(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return O(this,void 0,void 0,function*(){try{return{data:(yield Ye(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}getBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}listBuckets(){return O(this,arguments,void 0,function*(e={}){try{return{data:yield Ye(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return O(this,void 0,void 0,function*(){try{return{data:(yield Ye(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Fe(r))return{data:null,error:r};throw r}})}}class tg extends eg{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new rg(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return O(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return O(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return O(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return O(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class rg extends Zm{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return O(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return O(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return O(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return O(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new ng(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class ng extends Xm{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return O(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return O(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return O(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return O(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return O(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Sw extends dw{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new cw(this.url,this.headers,e,this.fetch)}get vectors(){return new tg(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ym(this.url+"/iceberg",this.headers,this.fetch)}}const kw=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:Ym,StorageApiError:Vm,StorageClient:Sw,StorageError:Us,StorageUnknownError:ao,StorageVectorsApiError:Oi,StorageVectorsClient:tg,StorageVectorsError:Cu,get StorageVectorsErrorCode(){return bl},StorageVectorsUnknownError:Jm,VectorBucketApi:eg,VectorBucketScope:rg,VectorDataApi:Xm,VectorIndexApi:Zm,VectorIndexScope:ng,isPlainObject:Qm,isStorageError:te,isStorageVectorsError:Fe,normalizeToFloat32:ww,resolveFetch:Do,resolveResponse:yw,validateVectorDimension:_w},Symbol.toStringTag,{value:"Module"})),Tw=Cs(kw);var sg={},Uo={};Object.defineProperty(Uo,"__esModule",{value:!0});Uo.version=void 0;Uo.version="2.86.2";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_REALTIME_OPTIONS=t.DEFAULT_AUTH_OPTIONS=t.DEFAULT_DB_OPTIONS=t.DEFAULT_GLOBAL_OPTIONS=t.DEFAULT_HEADERS=void 0;const e=Uo;let r="";typeof Deno<"u"?r="deno":typeof document<"u"?r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?r="react-native":r="node",t.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${r}/${e.version}`},t.DEFAULT_GLOBAL_OPTIONS={headers:t.DEFAULT_HEADERS},t.DEFAULT_DB_OPTIONS={schema:"public"},t.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t.DEFAULT_REALTIME_OPTIONS={}})(sg);var ig={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.fetchWithAuth=t.resolveHeadersConstructor=t.resolveFetch=void 0;const e=s=>s?(...i)=>s(...i):(...i)=>fetch(...i);t.resolveFetch=e;const r=()=>Headers;t.resolveHeadersConstructor=r;const n=(s,i,o)=>{const a=(0,t.resolveFetch)(o),l=(0,t.resolveHeadersConstructor)();return async(c,d)=>{var h;const f=(h=await i())!==null&&h!==void 0?h:s;let m=new l(d==null?void 0:d.headers);return m.has("apikey")||m.set("apikey",s),m.has("Authorization")||m.set("Authorization",`Bearer ${f}`),a(c,Object.assign(Object.assign({},d),{headers:m}))}};t.fetchWithAuth=n})(ig);var gr={};Object.defineProperty(gr,"__esModule",{value:!0});gr.isBrowser=void 0;gr.uuid=Nw;gr.ensureTrailingSlash=og;gr.applySettingDefaults=Iw;gr.validateSupabaseUrl=Ow;function Nw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=Math.random()*16|0,r=t=="x"?e:e&3|8;return r.toString(16)})}function og(t){return t.endsWith("/")?t:t+"/"}const Aw=()=>typeof window<"u";gr.isBrowser=Aw;function Iw(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Ow(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(og(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Mo={};const ag="2.86.2",en=30*1e3,Sl=3,ga=Sl*en,Cw="http://localhost:9999",Rw="supabase.auth.token",jw={"X-Client-Info":`gotrue-js/${ag}`},kl="X-Supabase-Api-Version",lg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Pw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Lw=10*60*1e3;let Cn=class extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}};function C(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}let ug=class extends Cn{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}};function cg(t){return C(t)&&t.name==="AuthApiError"}let Xt=class extends Cn{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}},Vt=class extends Cn{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}},$e=class extends Vt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function dg(t){return C(t)&&t.name==="AuthSessionMissingError"}let xr=class extends Vt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Xn=class extends Vt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}},es=class extends Vt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function hg(t){return C(t)&&t.name==="AuthImplicitGrantRedirectError"}let Tl=class extends Vt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},lo=class extends Vt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}};function Ci(t){return C(t)&&t.name==="AuthRetryableFetchError"}let Nl=class extends Vt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}};function Dw(t){return C(t)&&t.name==="AuthWeakPasswordError"}let uo=class extends Vt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}};const co="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yh=` 	
\r=`.split(""),Uw=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<yh.length;e+=1)t[yh[e].charCodeAt(0)]=-2;for(let e=0;e<co.length;e+=1)t[co[e].charCodeAt(0)]=e;return t})();function wh(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(co[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(co[n]),e.queuedBits-=6}}function fg(t,e,r){const n=Uw[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function _h(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Bw(o,n,r)};for(let o=0;o<t.length;o+=1)fg(t.charCodeAt(o),s,i);return e.join("")}function Mw(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function $w(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Mw(n,e)}}function Bw(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function xn(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)fg(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Fw(t){const e=[];return $w(t,r=>e.push(r)),new Uint8Array(e)}function Or(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>wh(s,r,n)),wh(null,r,n),e.join("")}function zw(t){return Math.round(Date.now()/1e3)+t}function Hw(){return Symbol("auth-callback")}const we=()=>typeof window<"u"&&typeof document<"u",yr={tested:!1,writable:!1},pg=()=>{if(!we())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yr.tested)return yr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),yr.tested=!0,yr.writable=!0}catch{yr.tested=!0,yr.writable=!1}return yr.writable};function Gw(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const mg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Vw=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",tn=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},wr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ye=async(t,e)=>{await t.removeItem(e)};class $o{constructor(){this.promise=new $o.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}$o.promiseConstructor=Promise;function va(t){const e=t.split(".");if(e.length!==3)throw new uo("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Pw.test(e[n]))throw new uo("JWT not in base64url format");return{header:JSON.parse(_h(e[0])),payload:JSON.parse(_h(e[1])),signature:xn(e[2]),raw:{header:e[0],payload:e[1]}}}async function Ww(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function qw(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Kw(t){return("0"+t.toString(16)).substr(-2)}function Yw(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Kw).join("")}async function Jw(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Qw(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Jw(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qr(t,e,r=!1){const n=Yw();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await tn(t,`${e}-code-verifier`,s);const i=await Qw(n);return[i,n===i?"plain":"s256"]}const Zw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Xw(t){const e=t.headers.get(kl);if(!e||!e.match(Zw))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function e_(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function t_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const r_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zr(t){if(!r_.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ya(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function n_(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function Eh(t){return JSON.parse(JSON.stringify(t))}const br=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),s_=[502,503,504];async function xh(t){var e;if(!Vw(t))throw new lo(br(t),0);if(s_.includes(t.status))throw new lo(br(t),t.status);let r;try{r=await t.json()}catch(i){throw new Xt(br(i),i)}let n;const s=Xw(t);if(s&&s.getTime()>=lg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Nl(br(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new $e}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Nl(br(r),t.status,r.weak_password.reasons);throw new ug(br(r),t.status||500,n)}const i_=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function D(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[kl]||(i[kl]=lg["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await o_(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function o_(t,e,r,n,s,i){const o=i_(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new lo(br(l),0)}if(a.ok||await xh(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await xh(l)}}function dt(t){var e;let r=null;u_(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=zw(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function bh(t){const e=dt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function er(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function a_(t){return{data:t,error:null}}function l_(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=Ln(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Sh(t){return t}function u_(t){return t.access_token&&t.refresh_token&&t.expires_in}const Ri=["global","local","others"];let Ru=class{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=mg(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Ri[0]){if(Ri.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ri.join(", ")}`);try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(C(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:er})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Ln(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:l_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(C(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:er})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Sh});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(y.split(";")[1].split("=")[1]);c[`${E}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(C(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Zr(e);try{return await D(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:er})}catch(r){if(C(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Zr(e);try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:er})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Zr(e);try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:er})}catch(n){if(C(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Zr(e.userId);try{const{data:r,error:n}=await D(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(C(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Zr(e.userId),Zr(e.id);try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(C(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await D(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Sh});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(y.split(";")[1].split("=")[1]);c[`${E}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(C(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await D(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(C(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await D(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(C(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await D(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(C(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await D(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(C(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await D(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(C(r))return{data:null,error:r};throw r}}};function kh(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Sr={debug:!!(globalThis&&pg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ju extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}let gg=class extends ju{};class c_ extends ju{}async function vg(t,e,r){Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new gg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Sr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const Th={};async function d_(t,e,r){var n;const s=(n=Th[t])!==null&&n!==void 0?n:Promise.resolve(),i=Promise.race([s.catch(()=>null),e>=0?new Promise((o,a)=>{setTimeout(()=>{a(new c_(`Acquring process lock with name "${t}" timed out`))},e)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return Th[t]=i.catch(async o=>{if(o&&o.isAcquireTimeout)return await s,null;throw o}),await i}function h_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function yg(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function f_(t){return parseInt(t,16)}function p_(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function m_(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:d,uri:h,version:f}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=yg(t.address),y=d?`${d}://${n}`:n,w=t.statement?`${t.statement}
`:"",E=`${y} wants you to sign in with your Ethereum account:
${m}

${w}`;let v=`URI: ${h}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),a&&(v+=`
Not Before: ${a.toISOString()}`),l&&(v+=`
Request ID: ${l}`),c){let g=`
Resources:`;for(const p of c){if(!p||typeof p!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${p}`);g+=`
- ${p}`}v+=g}return`${E}
${v}`}class he extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class ho extends he{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function g_({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new he({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new he({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new he({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new he({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new he({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new he({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new he({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new he({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(wg(o)){if(i.rp.id!==o)return new he({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new he({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new he({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new he({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new he({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function v_({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new he({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new he({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(wg(n)){if(r.rpId!==n)return new he({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new he({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new he({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new he({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class y_{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const w_=new y_;function __(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=Ln(t,["challenge","user","excludeCredentials"]),i=xn(e).buffer,o=Object.assign(Object.assign({},r),{id:xn(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:xn(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function E_(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Ln(t,["challenge","allowCredentials"]),s=xn(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:xn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function x_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Or(new Uint8Array(t.response.attestationObject)),clientDataJSON:Or(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function b_(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Or(new Uint8Array(s.authenticatorData)),clientDataJSON:Or(new Uint8Array(s.clientDataJSON)),signature:Or(new Uint8Array(s.signature)),userHandle:s.userHandle?Or(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function wg(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Nh(){var t,e;return!!(we()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function S_(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ho("Browser returned unexpected credential type",e)}:{data:null,error:new ho("Empty credential response",e)}}catch(e){return{data:null,error:g_({error:e,options:t})}}}async function k_(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ho("Browser returned unexpected credential type",e)}:{data:null,error:new ho("Empty credential response",e)}}catch(e){return{data:null,error:v_({error:e,options:t})}}}const T_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},N_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function fo(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=fo(a,o):n[i]=fo(o)}else n[i]=o}return n}function A_(t,e){return fo(T_,t,e||{})}function I_(t,e){return fo(N_,t,e||{})}class O_{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=s??w_.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=A_(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await S_({publicKey:c,signal:l});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const c=I_(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await k_(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return C(o)?{data:null,error:o}:{data:null,error:new Xt("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Cn("rpId is required for WebAuthn authentication")};try{if(!Nh())return{data:null,error:new Xt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return C(o)?{data:null,error:o}:{data:null,error:new Xt("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Cn("rpId is required for WebAuthn registration")};try{if(!Nh())return{data:null,error:new Xt("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return C(o)?{data:null,error:o}:{data:null,error:new Xt("Unexpected error in register",o)}}}}h_();const C_={url:Cw,storageKey:Rw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ah(t,e,r){return await r()}const Xr={};let Pu=class Al{get jwks(){var e,r;return(r=(e=Xr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Xr[this.storageKey]=Object.assign(Object.assign({},Xr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Xr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Xr[this.storageKey]=Object.assign(Object.assign({},Xr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},C_),e);if(this.storageKey=i.storageKey,this.instanceID=(r=Al.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Al.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&we()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Ru({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=mg(i.fetch),this.lock=i.lock||Ah,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:we()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=vg:this.lock=Ah,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new O_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:pg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=kh(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=kh(this.memoryStorage)),we()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ag}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(we()&&(r=Gw(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),we()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),hg(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return C(r)?this._returnResult({error:r}):this._returnResult({error:new Xt("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:dt}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(C(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Qr(this.storage,this.storageKey)),i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:y},xform:dt})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:dt})}else throw new Xn("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await ye(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await ye(this.storage,`${this.storageKey}-code-verifier`),C(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:bh})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:bh})}else throw new Xn("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new xr;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,c,d,h,f;let m,y;if("message"in e)m=e.message,y=e.signature;else{const{chain:w,wallet:E,statement:v,options:g}=e;let p;if(we())if(typeof E=="object")p=E;else{const $=window;if("ethereum"in $&&typeof $.ethereum=="object"&&"request"in $.ethereum&&typeof $.ethereum.request=="function")p=$.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=E}const _=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),x=await p.request({method:"eth_requestAccounts"}).then($=>$).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!x||x.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const b=yg(x[0]);let S=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const $=await p.request({method:"eth_chainId"});S=f_($)}const A={domain:_.host,address:b,statement:v,uri:_.href,version:"1",chainId:S,nonce:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=m_(A),y=await p.request({method:"personal_sign",params:[p_(m),b]})}try{const{data:w,error:E}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:dt});if(E)throw E;if(!w||!w.session||!w.user){const v=new xr;return this._returnResult({data:{user:null,session:null},error:v})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:E})}catch(w){if(C(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,s,i,o,a,l,c,d,h,f,m;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:E,wallet:v,statement:g,options:p}=e;let _;if(we())if(typeof v=="object")_=v;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))_=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const x=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const b=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),g?{statement:g}:null));let S;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")S=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)S=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)y=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),w=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${x.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(s=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const b=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=b}}try{const{data:E,error:v}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Or(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:dt});if(v)throw v;if(!E||!E.session||!E.user){const g=new xr;return this._returnResult({data:{user:null,session:null},error:g})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:v})}catch(E){if(C(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const r=await wr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:dt});if(await ye(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new xr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await ye(this.storage,`${this.storageKey}-code-verifier`),C(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:dt}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new xr;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Qr(this.storage,this.storageKey));const{error:h}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new Xn("You must provide either an email or phone number.")}catch(a){if(await ye(this.storage,`${this.storageKey}-code-verifier`),C(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:dt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(C(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Qr(this.storage,this.storageKey));const c=await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:a_});return!((i=c.data)===null||i===void 0)&&i.url&&we()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await ye(this.storage,`${this.storageKey}-code-verifier`),C(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new $e;const{error:s}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(C(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await D(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await D(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Xn("You must provide either an email or phone number and a type")}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await wr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ga:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await wr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=ya()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=n_(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:er}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $e}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:er})})}catch(r){if(C(r))return dg(r)&&(await this._removeSession(),await ye(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new $e;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Qr(this.storage,this.storageKey));const{data:c,error:d}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:er});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await ye(this.storage,`${this.storageKey}-code-verifier`),C(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new $e;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=va(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(C(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new $e;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(C(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!we())throw new es("No browser detected.");if(e.error||e.error_description||e.error_code)throw new es(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Tl("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new es("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Tl("No code detected.");const{data:g,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new es("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const m=f-d;m*1e3<=en&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:w,error:E}=await this._getUser(i);if(E)throw E;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(n){if(C(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await wr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(cg(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await ye(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Hw(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Qr(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await ye(this.storage,`${this.storageKey}-code-verifier`),C(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return we()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(C(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:c,nonce:d}=e,h=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:dt}),{data:f,error:m}=h;return m?this._returnResult({data:{user:null,session:null},error:m}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new xr}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:m}))}catch(s){if(await ye(this.storage,`${this.storageKey}-code-verifier`),C(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await qw(async s=>(s>0&&await Ww(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:dt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ci(i)&&Date.now()+o-n<en})}catch(n){if(this._debug(r,"error",n),C(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),we()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await wr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await wr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await tn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:ya()}else if(s&&!s.user&&!s.user){const o=await wr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ye(this.storage,this.storageKey+"-user"),await tn(this.storage,this.storageKey,s)):s.user=ya()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ga;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${ga}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Ci(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new $e;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new $o;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new $e;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),C(i)){const o={data:null,error:i};return Ci(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ye(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await tn(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Eh(s);await tn(this.storage,this.storageKey,i)}else{const s=Eh(r);await tn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ye(this.storage,this.storageKey),await ye(this.storage,this.storageKey+"-code-verifier"),await ye(this.storage,this.storageKey+"-user"),this.userStorage&&await ye(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&we()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),en);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/en);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${en}ms, refresh threshold is ${Sl} ticks`),s<=Sl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ju)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!we()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Qr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await D(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await D(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?x_(e.webauthn.credential_response):b_(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:__(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:E_(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=va(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await D(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new $e})})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new $e});const o=await D(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&we()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(C(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new $e});const o=await D(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&we()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(C(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await D(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new $e})})}catch(e){if(C(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await D(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $e})})}catch(r){if(C(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+Lw>s)return n;const{data:i,error:o}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=va(n);r!=null&&r.allowExpired||e_(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=t_(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,Fw(`${a}.${l}`)))throw new uo("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(C(n))return this._returnResult({data:null,error:n});throw n}}};Pu.nextInstanceID={};const R_=Ru,j_=Pu,P_=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:R_,AuthApiError:ug,AuthClient:j_,AuthError:Cn,AuthImplicitGrantRedirectError:es,AuthInvalidCredentialsError:Xn,AuthInvalidJwtError:uo,AuthInvalidTokenResponseError:xr,AuthPKCEGrantCodeExchangeError:Tl,AuthRetryableFetchError:lo,AuthSessionMissingError:$e,AuthUnknownError:Xt,AuthWeakPasswordError:Nl,CustomAuthError:Vt,GoTrueAdminApi:Ru,GoTrueClient:Pu,NavigatorLockAcquireTimeoutError:gg,SIGN_OUT_SCOPES:Ri,isAuthApiError:cg,isAuthError:C,isAuthImplicitGrantRedirectError:hg,isAuthRetryableFetchError:Ci,isAuthSessionMissingError:dg,isAuthWeakPasswordError:Dw,lockInternals:Sr,navigatorLock:vg,processLock:d_},Symbol.toStringTag,{value:"Module"})),_g=Cs(P_);Object.defineProperty(Mo,"__esModule",{value:!0});Mo.SupabaseAuthClient=void 0;const L_=_g;class D_ extends L_.AuthClient{constructor(e){super(e)}}Mo.SupabaseAuthClient=D_;Object.defineProperty(no,"__esModule",{value:!0});const U_=Sm,M_=Ne,$_=Gm,B_=Tw,fi=sg,F_=ig,Ih=gr,z_=Mo;let H_=class{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=(0,Ih.validateSupabaseUrl)(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:fi.DEFAULT_DB_OPTIONS,realtime:fi.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},fi.DEFAULT_AUTH_OPTIONS),{storageKey:l}),global:fi.DEFAULT_GLOBAL_OPTIONS},d=(0,Ih.applySettingDefaults)(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=(0,F_.fetchWithAuth)(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new M_.PostgrestClient(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new B_.StorageClient(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new U_.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c,throwOnError:d},h,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new z_.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),h),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:c,throwOnError:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new $_.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};no.default=H_;(function(t){var e=Kr&&Kr.__createBinding||(Object.create?function(d,h,f,m){m===void 0&&(m=f);var y=Object.getOwnPropertyDescriptor(h,f);(!y||("get"in y?!h.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return h[f]}}),Object.defineProperty(d,m,y)}:function(d,h,f,m){m===void 0&&(m=f),d[m]=h[f]}),r=Kr&&Kr.__exportStar||function(d,h){for(var f in d)f!=="default"&&!Object.prototype.hasOwnProperty.call(h,f)&&e(h,d,f)},n=Kr&&Kr.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(t,"__esModule",{value:!0}),t.createClient=t.SupabaseClient=t.FunctionRegion=t.FunctionsError=t.FunctionsRelayError=t.FunctionsFetchError=t.FunctionsHttpError=t.PostgrestError=void 0;const s=n(no);r(_g,t);var i=Ne;Object.defineProperty(t,"PostgrestError",{enumerable:!0,get:function(){return i.PostgrestError}});var o=Sm;Object.defineProperty(t,"FunctionsHttpError",{enumerable:!0,get:function(){return o.FunctionsHttpError}}),Object.defineProperty(t,"FunctionsFetchError",{enumerable:!0,get:function(){return o.FunctionsFetchError}}),Object.defineProperty(t,"FunctionsRelayError",{enumerable:!0,get:function(){return o.FunctionsRelayError}}),Object.defineProperty(t,"FunctionsError",{enumerable:!0,get:function(){return o.FunctionsError}}),Object.defineProperty(t,"FunctionRegion",{enumerable:!0,get:function(){return o.FunctionRegion}}),r(Gm,t);var a=no;Object.defineProperty(t,"SupabaseClient",{enumerable:!0,get:function(){return n(a).default}});const l=(d,h,f)=>new s.default(d,h,f);t.createClient=l;function c(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(d==null)return!1;const h=d.match(/^v(\d+)\./);return h?parseInt(h[1],10)<=18:!1}c()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(ku);const Eg=Mh(ku),G_=e0({__proto__:null,default:Eg},[ku]),{PostgrestError:e1,FunctionsHttpError:t1,FunctionsFetchError:r1,FunctionsRelayError:n1,FunctionsError:s1,FunctionRegion:i1,SupabaseClient:o1,createClient:V_,GoTrueAdminApi:a1,GoTrueClient:l1,AuthAdminApi:u1,AuthClient:c1,navigatorLock:d1,NavigatorLockAcquireTimeoutError:h1,lockInternals:f1,processLock:p1,SIGN_OUT_SCOPES:m1,AuthError:g1,AuthApiError:v1,AuthUnknownError:y1,CustomAuthError:w1,AuthSessionMissingError:_1,AuthInvalidTokenResponseError:E1,AuthInvalidCredentialsError:x1,AuthImplicitGrantRedirectError:b1,AuthPKCEGrantCodeExchangeError:S1,AuthRetryableFetchError:k1,AuthWeakPasswordError:T1,AuthInvalidJwtError:N1,isAuthError:A1,isAuthApiError:I1,isAuthSessionMissingError:O1,isAuthImplicitGrantRedirectError:C1,isAuthRetryableFetchError:R1,isAuthWeakPasswordError:j1,RealtimePresence:P1,RealtimeChannel:L1,RealtimeClient:D1,REALTIME_LISTEN_TYPES:U1,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:M1,REALTIME_PRESENCE_LISTEN_EVENTS:$1,REALTIME_SUBSCRIBE_STATES:B1,REALTIME_CHANNEL_STATES:F1}=Eg||G_,W_="https://tejibsqmdxuehluneayl.supabase.co",q_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRlamlic3FtZHh1ZWhsdW5lYXlsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ2ODg2NjMsImV4cCI6MjA4MDI2NDY2M30.iZCVGkGeLWY1Nv6dVOe9WfypCaR3hX0_g0wdAVvCOMo",le=V_(W_,q_),K_=async()=>{try{const{data:t,error:e}=await le.from("site_content").select("*");if(e)throw e;return t}catch{return[]}},Kt=[{id:1,title:{en:"Steel Market Volatility in late 2023",fa:"      ",ar:"      2023"},excerpt:{en:"Analyzing the factors contributing to the recent price instability in the domestic rebar market.",fa:"            .",ar:"             ."},content:{en:"The recent weeks have seen significant fluctuations in the price of steel products...",fa:"          ...",ar:"        ..."},image:"https://images.unsplash.com/photo-1535921827488-874fa7069796?auto=format&fit=crop&w=800&q=80",date:{en:"Nov 15, 2023",fa:"  ",ar:"15  2023"},author:"Mohammad Rezaei",category:{en:"Market Analysis",fa:" ",ar:" "},tags:[{en:"Rebar",fa:"",ar:" "},{en:"Prices",fa:"",ar:""}]},{id:2,title:{en:"Guide to Checking Steel Authenticity",fa:"   ",ar:"    "},excerpt:{en:"How to distinguish between authentic factory products and counterfeit steel.",fa:"         .",ar:"       ."},content:{en:"Counterfeit steel poses a significant risk to construction safety...",fa:"           ...",ar:"       ..."},image:"https://images.unsplash.com/photo-1504328345606-18bbc8c9d7d1?auto=format&fit=crop&w=800&q=80",date:{en:"Dec 02, 2023",fa:"  ",ar:"02  2023"},author:"Eng. Sara Kamali",category:{en:"Technical Guide",fa:" ",ar:" "},tags:[{en:"Quality Control",fa:" ",ar:" "}]},{id:3,title:{en:"The Rise of Alloy Steels in Construction",fa:"        ",ar:"     "},excerpt:{en:"Why builders are switching to ST52 and other high-strength alloys.",fa:"    ST52       .",ar:"    ST52    ."},content:{en:"High-strength low-alloy (HSLA) steels are gaining popularity...",fa:"      (HSLA)     ...",ar:"      (HSLA) ..."},image:"https://images.unsplash.com/photo-1518709268805-4e9042af9f23?auto=format&fit=crop&w=800&q=80",date:{en:"Jan 10, 2024",fa:"  ",ar:"10  2024"},author:"Dr. A. Kiani",category:{en:"Technology",fa:"",ar:""},tags:[{en:"Alloy Steel",fa:" ",ar:" "}]}],xg=N.createContext(void 0),Oh={en:{hero:{title:"Iran's Premier Steel Marketplace",cta:"Get a Free Quote"},header:{home:"Home",ironSnapp:"IronSnapp",recommendationEngine:"Smart Advisor",distributorFinder:"Find Suppliers",tools:"Tools",contentHub:"Content Hub",blog:"Blog",ourTeam:"Our Team",partnerships:"Partnerships",dashboard:"Dashboard",logout:"Logout",login:"Login"},ourTeam:{title:"Our Expert Team",subtitle:"Meet the professionals behind Steel Online 20",doctors:[{name:"Dr. Ali Alavi",specialty:"Metallurgist",bio:"Expert in steel alloys with 15 years experience.",licenseNumber:"MT-4022"},{name:"Eng. Reza Karimi",specialty:"Structural Engineer",bio:"Specialist in large-scale steel structures.",licenseNumber:"SE-1099"},{name:"Ms. Sara Omid",specialty:"Supply Chain Manager",bio:"Ensures timely delivery of all steel products.",licenseNumber:"SC-3321"}],tableHeaders:{license:"License"}},products:{food_feed:{title:"Construction Steel",description:"Rebar, Beams, Mesh"},microbiology:{title:"Industrial Steel",description:"Sheets, Profiles"},environmental:{title:"Alloy Steel",description:"Specialty alloys for industry"}},quotaErrorModal:{title:"Quota Exceeded",body:"You have exceeded your API quota.",cta:"Upgrade",close:"Close"},searchModal:{placeholder:"Search...",suggestionsTitle:"Suggestions",suggestionQueries:["Rebar Price","IPE 180","Shipping Calculator"],resultsTitle:"Results",noResults:"No results found."},loginModal:{title:"Login",or:"OR",emailPlaceholder:"Email",passwordPlaceholder:"Password",loginButton:"Login"},home:{hero:{mainTitle:"Iran's Leading Steel Marketplace",aboutButton:"About Us"},newsletter:{title:"Newsletter",subtitle:"Stay updated",placeholder:"Your email",button:"Subscribe"},footer:{col1:{title:"Contact"},col2:{title:"Products"},col3:{title:"Services"},col4:{title:"Message",email:"Email",message:"Message",button:"Send"}},infoBar:{call:{title:"Call Us",value:"021-22041655"},email:{title:"Email",value:"sales@steelonline20.com"},location:{title:"Location",value:"Tehran, Iran"}},whyUs:{title:"Why Us?",subtitle:"We are the best",item1:{title:"Best Price",desc:"Guaranteed"},item2:{title:"Fast Delivery",desc:"Nationwide"},item3:{title:"Quality",desc:"Certified"},item4:{title:"Support",desc:"24/7"}},featuredBlocks:{block1:{title:"Market Insights",desc:"Daily news",button:"View"},block2:{title:"Partnerships",desc:"Join us",button:"Join"},block3:{title:"Alerts",line1:"Price up",line2:"Supply down",line3:"New regulations"},button:"View Details"},blog:{title:"Blog",subtitle:"Latest news"},partners:{title:"Our Partners"}},footer:{contactInfo:"Jordan St, Tehran",workingHours:"Sat-Wed 8:30-17:00",copyright:" 2024 Steel Online 20"},blogPage:{title:"Blog",subtitle:"Industry News",readMore:"Read More"},articlePage:{backToBlog:"Back to Blog"},partnerships:{title:"Partnerships",subtitle:"Work with us",name:"Name",company:"Company",email:"Email",message:"Message",submit:"Submit"},distributorFinder:{title:"Find Suppliers",subtitle:"Locate warehouses near you",suggestionsTitle:"Suggestions",suggestionQueries:["Tehran","Isfahan"],searchTypeLabel:"Type",distributor:"Warehouse",veterinarian:"Dealer",searchPlaceholder:"Search location...",searchButton:"Search",findNearMe:"Find Near Me",searching:"Searching...",resultsTitle:"Results",noResults:"No suppliers found."},aiChat:{title:"AI Consultant",subtitle:"Ask about prices & specs",suggestions:["Rebar Price?","IPE 14 Weight?"],placeholder:"Type your question..."},recommendationEngine:{title:"Smart Advisor",subtitle:"Get product recommendations",generating:"Analyzing...",resultTitle:"Recommendation",primaryAssessmentTitle:"Assessment",potentialConditionsTitle:"Considerations",recommendedProductsTitle:"Recommended Products",managementAdviceTitle:"Advice",nextStepsTitle:"Next Steps",findDropoffLocation:"Find Suppliers",gettingPlan:"Getting Prices...",detailedPlanTitle:"Price Estimation",purpose:"Application",methodology:"Standard",turnaroundTime:"Availability",estimatedCost:"Est. Price",disclaimerTitle:"Disclaimer",savePdf:"Save PDF",startNewAnalysis:"New Analysis",uploadImageTitle:"Upload Plan (Optional)",removeImage:"Remove",uploadButton:"Upload Image",cameraButton:"Camera",formTitle:"Project Details",symptomsLabel:"Project Description",symptomsPlaceholder:"Describe your project...",symptomsSuggestions:["Residential Building","Industrial Shed"],suggestionPromptsTitle:"Quick Prompts",suggestionPrompts:["5-story building in humid area","Warehouse structure 500sqm"],detailsTitle:"Details",autoFillCheckboxLabel:"Auto-fill",sampleTypeLabel:"Category",sampleTypePlaceholder:"e.g. Rebar",batchSizeOriginLabel:"Tonnage / Origin",batchSizeOriginPlaceholder:"e.g. 20 Tons / Esfahan",specificConditions:"Structural Details",controlSampleInfo:"Preferred Brands",sampleAge:"Delivery Time",sampleAgePlaceholder:"e.g. Immediate",previousTests:"Budget",additives:"Services",buttonText:"Get Recommendation",animalTypeSuggestions:["Rebar","Beam","Sheet","Profile"]},contentHub:{title:"Content Hub",subtitle:"Generate marketing content",platformSelectorTitle:"Platform",topicTitle:"Topic",trendsTab:"Trends",textTab:"Custom",searchTab:"Search",fetchingTrends:"Loading trends...",selectSearchTopic:"Select topic",customTextPlaceholder:"Enter topic...",resultsTitle:"Generated Content",placeholder:"Select options to generate",generatingPost:"Generating...",generateButton:"Generate",copySuccess:"Copied!",copyButton:"Copy",connectAccountToPublish:"Connect account to publish",publishToPlatformButton:"Publish to {platform}",adaptingForWebsite:"Adapting...",adaptForWebsiteButton:"Adapt for Blog",websitePreviewTitle:"Blog Preview",publishedSuccess:"Published!",publishToWebsiteButton:"Publish",fetchingStrategy:"Loading...",getStrategyButton:"Get Strategy",strategyTitle:"Strategy",bestTime:"Best Time",nextPost:"Next Post",generatingVideo:"Generating...",generateVideoButton:"Video Script",findingTools:"Searching...",findVideoTools:"Find Tools",toolName:"Tool",toolCost:"Cost",toolFarsi:"Farsi",toolFeatures:"Features",toolQuality:"Quality",timecode:"Time",visual:"Visual",voiceover:"Audio",emotion:"Emotion",userSearchSuggestions:["Steel Price Trends","Construction Tips","Market Forecast"]},validation:{required:"Required",email:"Invalid email",passwordLength:"Min 6 chars",fillRequiredFields:"Please fill required fields"},toolsPage:{title:"Steel Tools",subtitle:"Calculators & Info",weightCalc:{title:"Weight Calculator",label:"Product Name",button:"Calculate"},shippingCalc:{title:"Shipping Estimator",label:"Route",button:"Estimate"},creditInfo:{title:"Credit Info",desc:"Payment options"}},ironSnapp:{subtitle:"Buy steel directly",form:{title:"Request Quote",productLabel:"Product",productPlaceholder:"e.g. Rebar",qtyLabel:"Qty (Tons)",qtyPlaceholder:"Quantity (tons)",locationLabel:"Location",locationPlaceholder:"Location (City)",paymentLabel:"Payment",paymentCash:"Cash",paymentCheck:"Check",paymentCredit:"Credit",monthsLabel:"Months",submit:"Request",findSellers:"Find Sellers",searching:"Searching..."},credit:{checking:"Checking credit...",approved:"Credit Approved",rejected:"Credit Rejected",score:"Score",reason:"Reason"},results:{title:"Offers",score:"Match",price:"Price",delivery:"Delivery",buy:"Buy",total:"Total",payment:"Payment",youSave:"You Save",vsMax:"vs Max",highestPrice:"Highest Price"},recommendations:{bestPrice:"Best Price!",belowAverage:"Below Average",topRated:"Top Rated",nearby:"Nearby"},filters:{title:"Filters",allPrices:"All Prices",budget:"Budget",midRange:"Mid-Range",premium:"Premium",verifiedOnly:"Verified Only",sellers:"sellers",of:"of"},map:{title:"Live Seller Map",best:"Best",good:"Good",high:"High",yourLocation:"Your Location",estimatedBenefit:"Estimated Benefit",vsHighest:"vs Highest",distance:"Distance"},noSellers:{title:"Find Steel Sellers Near You",desc:"Enter your product and location above to see sellers on the map"},samples:{rebarTehran:"Rebar - Tehran",beamIsfahan:"Beam - Isfahan",sheetTabriz:"Sheet - Tabriz"},toasts:{sampleLoaded:"Sample data loaded!",sellersFound:"sellers found!",failedToFind:"Failed to find sellers."},contactSeller:"Contact Seller",connectionServices:{title:"Transaction Services",subtitle:"Secure your purchase with professional services",notary:{title:"Notary Services",desc:"Official document registration and authentication",features:["Contract notarization","Signature verification","Official stamps","Legal authentication"]},lawyer:{title:"Legal Consultation",desc:"Professional legal advice for steel transactions",features:["Contract review","Dispute resolution","Legal guidance","Rights protection"]},contract:{title:"Contract Drafting",desc:"Professional contract templates and customization",features:["Standard templates","Custom clauses","Payment terms","Delivery conditions"]},insurance:{title:"Transaction Insurance",desc:"Protect your purchase against risks",features:["Cargo insurance","Payment protection","Quality guarantee","Dispute coverage"]},escrow:{title:"Escrow Service",desc:"Secure payment holding until delivery",features:["Secure funds holding","Verified delivery","Dispute mediation","Refund guarantee"]},inspection:{title:"Quality Inspection",desc:"Third-party quality verification",features:["Lab testing","Weight verification","Standards compliance","Quality certificate"]},requestService:"Request Service",callNow:"Call Now",learnMore:"Learn More"}},dashboard:{menu:{overview:"Overview",financial:"Financial",audit:"Audit",customers:"Customers",reports:"Reports",system:"System"},stats:{totalChecks:"Total Checks",dueThisWeek:"Due This Week",cashBalance:"Cash Balance",controlScore:"Control Score",documentsReviewed:"Docs Reviewed",discrepancies:"Discrepancies",fraudCases:"Fraud Cases"},labels:{checks:"Checks",urgent:"Urgent",accounts:"Accts",good:"Good",adequate:"Adequate",strong:"Strong",risk:"Risk",monitoring:"Monitoring",activities:"Activities",basedOn:"Based on analysis",cleared:"Cleared",bounced:"Bounced",pending:"Pending",total:"Total",view:"View",score:"Score"},charts:{cashFlow:"Cash Flow",checkStatus:"Check Status",internalControl:"Internal Control"},audit:{urgentAlerts:"Urgent Alerts",auditLogs:"Audit Logs"},financial:{title:"Financial Checks",registerBtn:"Register Check"},customers:{title:"Customer Credit"},tables:{headers:{checkNumber:"Check #",dueDate:"Due Date",amount:"Amount",drawer:"Drawer",bank:"Bank",status:"Status",document:"Document",type:"Type",date:"Date",aiRisk:"AI Risk",customer:"Customer",creditLimit:"Limit",used:"Used",risk:"Risk"}}},seoChecker:{pass:"Pass",fail:"Fail",warn:"Warn",buttonLabel:"SEO Check",title:"SEO Analysis",analyzing:"Analyzing...",score:"SEO Score",metricsTitle:"Metrics",recommendationsTitle:"Recommendations",registerSites:"Directories",strategies:"Strategy",keywords:"Keywords"}},fa:{hero:{title:"     ",cta:"  "},header:{home:"",ironSnapp:"",recommendationEngine:" ",distributorFinder:" ",tools:"",contentHub:" ",blog:"",ourTeam:" ",partnerships:"",dashboard:"",logout:"",login:""},ourTeam:{title:"  ",subtitle:"      ",doctors:[{name:"  ",specialty:"",bio:"      .",licenseNumber:"MT-4022"},{name:"  ",specialty:" ",bio:"   .",licenseNumber:"SE-1099"},{name:"  ",specialty:"  ",bio:"      .",licenseNumber:"SC-3321"}],tableHeaders:{license:" "}},products:{food_feed:{title:" ",description:"  "},microbiology:{title:" ",description:" "},environmental:{title:" ",description:"  "}},quotaErrorModal:{title:" ",body:" API    .",cta:"",close:""},searchModal:{placeholder:"...",suggestionsTitle:"",suggestionQueries:[" "," ","  "],resultsTitle:"",noResults:"  ."},loginModal:{title:"",or:"",emailPlaceholder:"",passwordPlaceholder:" ",loginButton:""},home:{hero:{mainTitle:"    ",aboutButton:" "},newsletter:{title:"",subtitle:" ",placeholder:" ",button:""},footer:{col1:{title:""},col2:{title:""},col3:{title:""},col4:{title:"",email:"",message:"",button:""}},infoBar:{call:{title:"  ",value:"-"},email:{title:"",value:"sales@steelonline20.com"},location:{title:"",value:" "}},whyUs:{title:" ",subtitle:"  ",item1:{title:" ",desc:" "},item2:{title:" ",desc:" "},item3:{title:"",desc:""},item4:{title:"",desc:"/"}},featuredBlocks:{block1:{title:" ",desc:" ",button:""},block2:{title:"",desc:"  ",button:""},block3:{title:"",line1:" ",line2:" ",line3:" "},button:" "},blog:{title:"",subtitle:"  "},partners:{title:" "}},footer:{contactInfo:"   ",workingHours:"   :  :",copyright:"    "},blogPage:{title:"",subtitle:"  ",readMore:" "},articlePage:{backToBlog:"  "},partnerships:{title:"",subtitle:"   ",name:"",company:"",email:"",message:"",submit:""},distributorFinder:{title:" ",subtitle:"   ",suggestionsTitle:"",suggestionQueries:["","",""],searchTypeLabel:"",distributor:"",veterinarian:" ",searchPlaceholder:" ...",searchButton:"",findNearMe:" ",searching:"  ...",resultsTitle:"",noResults:"  ."},aiChat:{title:" ",subtitle:"   ",suggestions:[" ","  "],placeholder:"   ..."},recommendationEngine:{title:"  ",subtitle:"  ",generating:"  ...",resultTitle:" ",primaryAssessmentTitle:" ",potentialConditionsTitle:" ",recommendedProductsTitle:" ",managementAdviceTitle:" ",nextStepsTitle:" ",findDropoffLocation:" ",gettingPlan:" ...",detailedPlanTitle:"   ",purpose:"",methodology:"",turnaroundTime:"",estimatedCost:" ",disclaimerTitle:" ",savePdf:" PDF",startNewAnalysis:" ",uploadImageTitle:"  ()",removeImage:"",uploadButton:" ",cameraButton:"",formTitle:" ",symptomsLabel:" ",symptomsPlaceholder:"    ...",symptomsSuggestions:[" "," "],suggestionPromptsTitle:"",suggestionPrompts:["    ","  "],detailsTitle:"",autoFillCheckboxLabel:"  ",sampleTypeLabel:"",sampleTypePlaceholder:" ",batchSizeOriginLabel:" / ",batchSizeOriginPlaceholder:"   / ",specificConditions:" ",controlSampleInfo:" ",sampleAge:" ",sampleAgePlaceholder:" ",previousTests:"",additives:" ",buttonText:" ",animalTypeSuggestions:["","","",""]},contentHub:{title:" ",subtitle:"     ",platformSelectorTitle:"",topicTitle:"",trendsTab:"",textTab:" ",searchTab:"",fetchingTrends:"   ...",selectSearchTopic:" ",customTextPlaceholder:"   ...",resultsTitle:"  ",placeholder:"     ",generatingPost:"  ...",generateButton:" ",copySuccess:" !",copyButton:"",connectAccountToPublish:"   ",publishToPlatformButton:"  {platform}",adaptingForWebsite:"  ...",adaptForWebsiteButton:"   ",websitePreviewTitle:" ",publishedSuccess:" !",publishToWebsiteButton:"",fetchingStrategy:"  ...",getStrategyButton:" ",strategyTitle:" ",bestTime:" ",nextPost:" ",generatingVideo:"  ...",generateVideoButton:" ",findingTools:"...",findVideoTools:" ",toolName:"",toolCost:"",toolFarsi:"",toolFeatures:"",toolQuality:"",timecode:"",visual:"",voiceover:"",emotion:"",userSearchSuggestions:["  ","   "," "]},validation:{required:"",email:" ",passwordLength:"  ",fillRequiredFields:"     "},toolsPage:{title:" ",subtitle:"  ",weightCalc:{title:" ",label:" ",button:""},shippingCalc:{title:"  ",label:"",button:""},creditInfo:{title:" ",desc:" "}},ironSnapp:{subtitle:"  ",form:{title:" ",productLabel:"",productPlaceholder:" ",qtyLabel:" ()",qtyPlaceholder:" ()",locationLabel:" ",locationPlaceholder:" ",paymentLabel:" ",paymentCash:"",paymentCheck:"",paymentCredit:"",monthsLabel:" ()",submit:"",findSellers:" ",searching:"  ..."},credit:{checking:" ...",approved:" ",rejected:" ",score:"",reason:""},results:{title:"",score:"",price:"",delivery:"",buy:"",total:" ",payment:"",youSave:" ",vsMax:"  ",highestPrice:" "},recommendations:{bestPrice:" !",belowAverage:" ",topRated:" ",nearby:" "},filters:{title:"",allPrices:" ",budget:"",midRange:"",premium:"",verifiedOnly:"  ",sellers:"",of:""},map:{title:"  ",best:"",good:"",high:"",yourLocation:" ",estimatedBenefit:" ",vsHighest:"  ",distance:""},noSellers:{title:"    ",desc:"            "},samples:{rebarTehran:" - ",beamIsfahan:" - ",sheetTabriz:" - "},toasts:{sampleLoaded:"   !",sellersFound:"  !",failedToFind:"   ."},contactSeller:"  ",connectionServices:{title:"  ",subtitle:"    ",notary:{title:" ",desc:"     ",features:["  "," "," ","  "]},lawyer:{title:" ",desc:"     ",features:[" "," "," "," "]},contract:{title:" ",desc:"    ",features:[" "," "," "," "]},insurance:{title:" ",desc:"     ",features:["   "," "," "," "]},escrow:{title:" ",desc:"     ",features:["  "," "," "," "]},inspection:{title:" ",desc:"    ",features:[" "," ","  "," "]},requestService:" ",callNow:" ",learnMore:" "}},dashboard:{menu:{overview:" ",financial:"",audit:"",customers:"",reports:"",system:""},stats:{totalChecks:" ",dueThisWeek:" ",cashBalance:" ",controlScore:" ",documentsReviewed:"  ",discrepancies:"",fraudCases:" "},labels:{checks:"",urgent:"",accounts:"",good:"",adequate:"",strong:"",risk:"",monitoring:"",activities:"",basedOn:"  ",cleared:" ",bounced:"",pending:" ",total:"",view:"",score:""},charts:{cashFlow:" ",checkStatus:" ",internalControl:" "},audit:{urgentAlerts:" ",auditLogs:" "},financial:{title:" ",registerBtn:" "},customers:{title:" "},tables:{headers:{checkNumber:" ",dueDate:"",amount:"",drawer:"",bank:"",status:"",document:"",type:"",date:"",aiRisk:"  ",customer:"",creditLimit:" ",used:" ",risk:""}}},seoChecker:{pass:"",fail:"",warn:"",buttonLabel:" ",title:" ",analyzing:"  ...",score:" ",metricsTitle:"",recommendationsTitle:"",registerSites:"",strategies:"",keywords:" "}}},Y_=({children:t})=>{const[e,r]=N.useState("fa"),[n,s]=N.useState([]);N.useEffect(()=>{K_().then(a=>{a&&s(a)})},[]);const i=N.useCallback(a=>{if(n.length>0){const d=n.find(h=>h.key===a&&h.lang===e);if(d)return d.value}const l=a.split(".");let c=Oh[e];for(const d of l)if(c&&c[d])c=c[d];else{let h=Oh.en;for(const f of l)if(h&&h[f])h=h[f];else return a;return h||a}return c},[e,n]),o=e==="fa"||e==="ar"?"rtl":"ltr";return N.useEffect(()=>{document.documentElement.dir=o,document.documentElement.lang=e},[o,e]),yo.createElement(xg.Provider,{value:{language:e,setLanguage:r,t:i,dir:o}},t)},Ct=()=>{const t=N.useContext(xg);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},J_=({currentPage:t,setPage:e,isAuthenticated:r,user:n,onLoginClick:s,onLogoutClick:i,onSearchClick:o})=>{const{language:a,setLanguage:l,t:c}=Ct(),[d,h]=N.useState(!1),[f,m]=N.useState(!1),[y,w]=N.useState(!1),E=N.useRef(null);N.useEffect(()=>{const _=x=>{E.current&&!E.current.contains(x.target)&&h(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const v=_=>{e(_),m(!1),window.scrollTo(0,0)},g=[{key:"home",text:c("header.home"),action:()=>v("home")},{key:"prices",text:" ",action:()=>v("prices")},{key:"iron_snapp",text:c("header.ironSnapp"),action:()=>v("iron_snapp")},{key:"map_finder",text:" ",action:()=>v("map_finder")},{key:"tools",text:c("header.tools"),action:()=>v("tools")},{key:"blog",text:c("header.blog"),action:()=>v("blog")}],p=({href:_,children:x,label:b})=>u.jsx("a",{href:_,target:"_blank",rel:"noopener noreferrer",className:"text-slate-500 hover:text-corp-red transition-colors","aria-label":b,children:x});return u.jsxs("header",{className:"bg-white sticky top-0 z-50 shadow-md",children:[u.jsx("div",{className:"bg-slate-100 border-b border-slate-200",children:u.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 h-10 flex items-center justify-between text-xs text-slate-600",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(p,{href:"https://t.me/steelonline20",label:"Telegram",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M22,3.13,1.5,10.61,8.37,13,10.88,20.5,17.2,14.65Z"})})}),u.jsx(p,{href:"https://www.instagram.com/steelonline20/",label:"Instagram",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M12,2.163c3.204,0,3.584.012,4.85.07,3.252.148,4.771,1.691,4.919,4.919.058,1.265.069,1.645.069,4.85s-.012,3.584-.07,4.85c-.148,3.225-1.664,4.771-4.919,4.919-1.266.058-1.644.07-4.85.07s-3.584-.012-4.85-.07c-3.252-.148-4.771-1.691-4.919-4.919-.058-1.265-.069-1.645-.069-4.85s.012-3.584.07,4.85c.148-3.225,1.664-4.771,4.919-4.919C8.416,2.175,8.796,2.163,12,2.163M12,0C8.74,0,8.333.014,7.053.072,2.695.272.273,2.69.073,7.052.014,8.333,0,8.74,0,12s.014,3.667.072,4.947c.2,4.358,2.618,6.78,6.98,6.98C8.333,23.986,8.74,24,12,24s3.667-.014,4.947-.072c4.358-.2,6.78-2.618,6.98-6.98C23.986,15.667,24,15.259,24,12s-.014-3.667-.072-4.947c-.2-4.358-2.618-6.78-6.98-6.98C15.667.014,15.259,0,12,0Zm0,5.838a6.162,6.162,0,1,0,0,12.324A6.162,6.162,0,0,0,12,5.838Zm0,10.162a4,4,0,1,1,0-8,4,4,0,0,1,0,8Zm6.406-11.845a1.44,1.44,0,1,0,0,2.88,1.44,1.44,0,0,0,0-2.88Z"})})}),u.jsx(p,{href:"https://wa.me/989122041655",label:"WhatsApp",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{d:"M12.04,2A10,10,0,0,0,2,12.04,10,10,0,0,0,12.04,22c5.52,0,10-4.48,10-10A10,10,0,0,0,12.04,2ZM17.46,16a.4.4,0,0,1-.35.19,1,1,0,0,1-.53-.16l-2.43-1.48-1.46.88a4.92,4.92,0,0,1-2.92.1,4.86,4.86,0,0,1-2.48-2.18,4.72,4.72,0,0,1,.13-3.65,4.7,4.7,0,0,1,2.06-2.1,4.78,4.78,0,0,1,3.46-.17L14.9,8.7a.4.4,0,0,1,.14.54l-.45,1.08a.4.4,0,0,1-.54.14L12.5,9.75a1.59,1.59,0,0,0-1.25.12,1.56,1.56,0,0,0-.81,1,1.5,1.5,0,0,0,.14,1.18l.89.89.89.89.37.37a1.53,1.53,0,0,0,1.07.4,1.5,1.5,0,0,0,1-.26l1.58-.95a.4.4,0,0,1,.54.14l.45,1.08A.4.4,0,0,1,17.46,16Z"})})})]}),u.jsxs("div",{className:"flex items-center gap-6 font-medium",children:[u.jsx("button",{className:"hover:text-corp-red transition-colors",onClick:()=>{var _;return(_=document.getElementById("faq"))==null?void 0:_.scrollIntoView({behavior:"smooth"})},children:"FAQ"}),u.jsx("a",{href:"tel:+982122041655",className:"hover:text-corp-red transition-colors font-mono dir-ltr","aria-label":"Call Sales",children:"021-22041655"})]})]})}),u.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-20",children:[u.jsx("div",{className:"flex items-center",children:u.jsxs("button",{onClick:()=>e("home"),className:"flex-shrink-0 flex items-center gap-2 group","aria-label":"Go to Home",children:[y?null:u.jsx("img",{src:"https://i.sstatic.net/gwuhcFtI.png",alt:"Steel Online 20",className:"h-10 w-auto",width:"40",height:"40",referrerPolicy:"no-referrer",onError:_=>{_.currentTarget.style.display="none",w(!0)}}),u.jsx("span",{className:`text-xl font-bold text-slate-900 group-hover:text-corp-red transition-colors ${y?"block":"hidden sm:block md:hidden xl:block"}`,children:"Steel Online 20"})]})}),u.jsx("nav",{className:"hidden md:flex items-center gap-1 lg:gap-2",children:g.map(_=>u.jsx("button",{onClick:_.action,className:`text-slate-600 hover:text-corp-red px-3 py-2 rounded-md text-sm font-semibold transition-colors whitespace-nowrap ${t===_.key?"text-corp-red bg-red-50":""}`,children:_.text},_.key))}),u.jsxs("div",{className:"flex items-center gap-3",children:[r&&n&&u.jsx("button",{onClick:()=>e(n.role==="admin"?"admin_dashboard":"user_dashboard"),className:"hidden sm:block px-3 py-1 bg-slate-800 text-white text-xs rounded hover:bg-slate-700 transition-colors",children:c("header.dashboard")}),u.jsx("button",{onClick:o,className:"p-2 text-slate-500 hover:text-corp-red transition-colors","aria-label":"Search",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),u.jsxs("div",{className:"relative",ref:E,children:[u.jsx("button",{onClick:()=>h(!d),className:"p-2 text-slate-500 hover:text-corp-red transition-colors","aria-label":"Change language",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5h12M9 3v2m4 13l4-4M19 9l-4 4M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),d&&u.jsx("div",{className:"absolute left-0 rtl:right-0 rtl:left-auto mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:u.jsxs("div",{className:"p-1",children:[u.jsx("button",{onClick:()=>{l("en"),h(!1)},className:`w-full text-left block px-4 py-2 text-sm rounded-md ${a==="en"?"bg-corp-red text-white":"text-slate-700 hover:bg-slate-100"}`,children:"English"}),u.jsx("button",{onClick:()=>{l("fa"),h(!1)},className:`w-full text-left block px-4 py-2 text-sm rounded-md ${a==="fa"?"bg-corp-red text-white":"text-slate-700 hover:bg-slate-100"}`,children:""}),u.jsx("button",{onClick:()=>{l("ar"),h(!1)},className:`w-full text-left block px-4 py-2 text-sm rounded-md ${a==="ar"?"bg-corp-red text-white":"text-slate-700 hover:bg-slate-100"}`,children:""})]})})]}),u.jsx("div",{className:"hidden sm:block",children:r&&n?u.jsxs("div",{className:"flex items-center gap-2",children:[n.picture&&u.jsx("img",{src:n.picture,alt:n.name,title:n.name,className:"h-8 w-8 rounded-full",width:"32",height:"32"}),u.jsx("button",{onClick:i,className:"px-4 py-2 bg-corp-red text-white font-semibold rounded-md hover:bg-corp-red-dark transition-colors text-sm",children:c("header.logout")})]}):u.jsx("button",{onClick:s,className:"px-4 py-2 bg-slate-100 border border-slate-300 text-slate-700 font-semibold rounded-md hover:bg-slate-200 transition-colors text-sm",children:c("header.login")})}),u.jsx("div",{className:"flex md:hidden",children:u.jsx("button",{onClick:()=>m(!f),className:"p-2 rounded-md text-slate-500 hover:text-slate-900 hover:bg-slate-100","aria-label":"Open main menu",children:f?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):u.jsx("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]})]})}),f&&u.jsx("div",{className:"md:hidden animate-fade-in absolute top-full left-0 w-full bg-white shadow-lg border-t border-slate-100 h-screen overflow-y-auto",children:u.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[r&&n&&u.jsxs("div",{className:"px-3 py-2 flex items-center gap-3 border-b border-slate-200",children:[n.picture&&u.jsx("img",{src:n.picture,alt:n.name,className:"h-10 w-10 rounded-full",width:"40",height:"40"}),u.jsx("span",{className:"font-semibold text-slate-800",children:n.name})]}),u.jsx("button",{onClick:()=>{e("dashboard"),m(!1)},className:`w-full text-right text-slate-700 hover:bg-red-50 hover:text-corp-red block px-3 py-2 rounded-md text-base font-medium ${t==="dashboard"?"bg-red-50 text-corp-red":""}`,children:c("header.dashboard")}),g.map(_=>u.jsx("button",{onClick:_.action,className:`w-full text-right text-slate-700 hover:bg-red-50 hover:text-corp-red block px-3 py-2 rounded-md text-base font-medium ${t===_.key?"bg-red-50 text-corp-red":""}`,children:_.text},_.key)),u.jsx("div",{className:"pt-4 border-t border-slate-200",children:r?u.jsx("button",{onClick:()=>{i(),m(!1)},className:"w-full text-right text-slate-700 hover:bg-red-50 hover:text-corp-red block px-3 py-2 rounded-md text-base font-medium",children:c("header.logout")}):u.jsx("button",{onClick:()=>{s(),m(!1)},className:"w-full text-right text-slate-700 hover:bg-red-50 hover:text-corp-red block px-3 py-2 rounded-md text-base font-medium",children:c("header.login")})})]})})]})},Q_=({title:t,description:e,keywords:r,image:n,canonicalUrl:s,noIndex:i=!1})=>{const{language:o}=Ct();return N.useEffect(()=>{document.title=`${t} | Steel Online 20`;const a=(d,h,f="name")=>{let m=document.querySelector(`meta[${f}="${d}"]`);m||(m=document.createElement("meta"),m.setAttribute(f,d),document.head.appendChild(m)),m.setAttribute("content",h)},l=(d,h)=>{let f=document.querySelector(`link[rel="${d}"]`);f||(f=document.createElement("link"),f.setAttribute("rel",d),document.head.appendChild(f)),f.setAttribute("href",h)};a("description",e),r&&a("keywords",r),i?a("robots","noindex, nofollow"):a("robots","index, follow"),a("og:title",t,"property"),a("og:description",e,"property"),n&&a("og:image",n,"property"),a("og:locale",o==="fa"?"fa_IR":o==="ar"?"ar_SA":"en_US","property"),a("og:site_name","Steel Online 20","property"),a("twitter:card","summary_large_image"),a("twitter:title",t),a("twitter:description",e),n&&a("twitter:image",n);const c=window.location.href;l("canonical",s||c)},[t,e,r,n,o,s,i]),null},Z_=({schema:t})=>u.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(t)}}),pi=({setPage:t,articles:e,onSelectArticle:r})=>{const{t:n,language:s}=Ct(),i=e.slice(0,3),o=[{icon:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),title:n("home.whyUs.item1.title"),desc:n("home.whyUs.item1.desc")},{icon:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),title:n("home.whyUs.item2.title"),desc:n("home.whyUs.item2.desc")},{icon:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),title:n("home.whyUs.item3.title"),desc:n("home.whyUs.item3.desc")},{icon:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),title:n("home.whyUs.item4.title"),desc:n("home.whyUs.item4.desc")}],a={"@context":"https://schema.org","@type":"LocalBusiness","@id":"https://steelonline20.com/#localbusiness",name:"  -  ",image:"https://i.sstatic.net/f5sU7AQ6.png",telephone:"+982122041655",email:"sales@steelonline20.com",address:{"@type":"PostalAddress",streetAddress:"   ",addressLocality:"",addressRegion:"",addressCountry:"IR"},geo:{"@type":"GeoCoordinates",latitude:"35.7819",longitude:"51.4221"},url:"https://steelonline20.com",priceRange:"$$",openingHoursSpecification:[{"@type":"OpeningHoursSpecification",dayOfWeek:["Saturday","Sunday","Monday","Tuesday","Wednesday"],opens:"08:30",closes:"17:00"}]};return u.jsxs("div",{className:"animate-fade-in w-full overflow-x-hidden",children:[u.jsx(Q_,{title:"    -  ",description:"     .       .       .",keywords:", ,  ,  ,  , , ,  "}),u.jsx(Z_,{schema:a}),u.jsxs("section",{className:"relative py-20 sm:py-48 text-white w-full",children:[u.jsxs("div",{className:"absolute inset-0 z-0 bg-slate-900",children:[u.jsx("img",{src:"https://i.sstatic.net/f5sU7AQ6.png",alt:"     ",className:"w-full h-full object-cover object-center",width:"1920",height:"1080",referrerPolicy:"no-referrer",onError:l=>{l.currentTarget.style.display="none"}}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-900/80 to-slate-800/60"})]}),u.jsxs("div",{className:"container mx-auto px-4 relative z-10 text-center",children:[u.jsx("p",{className:"text-lg sm:text-xl font-light text-slate-300 animate-fade-in",children:n("hero.title")}),u.jsx("h1",{className:"text-3xl sm:text-5xl lg:text-6xl font-extrabold mt-4 leading-tight tracking-tight animate-fade-in",style:{animationDelay:"0.1s"},children:n("home.hero.mainTitle")}),u.jsxs("div",{className:"mt-10 flex flex-wrap justify-center gap-4 animate-fade-in",style:{animationDelay:"0.2s"},children:[u.jsxs("button",{onClick:()=>t("test_recommender"),className:"px-8 py-3 bg-corp-red text-white font-bold rounded-lg hover:bg-corp-red-dark transition-all shadow-lg shadow-red-900/20 flex items-center gap-2 transform hover:-translate-y-0.5","aria-label":" ",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"})}),n("hero.cta")]}),u.jsx("button",{onClick:()=>t("tools"),className:"px-8 py-3 bg-transparent border-2 border-white/30 text-white font-semibold rounded-lg hover:bg-white/10 transition-colors backdrop-blur-sm","aria-label":" ",children:n("home.hero.aboutButton")})]})]})]}),u.jsx("section",{className:"relative z-20 -mt-10 mx-4 sm:mx-8 lg:mx-16 animate-fade-in",style:{animationDelay:"0.3s"},children:u.jsx("div",{className:"bg-white rounded-xl shadow-xl border border-slate-100 overflow-hidden",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 divide-y md:divide-y-0 md:divide-x md:divide-x-reverse divide-slate-100",children:[u.jsxs("div",{className:"p-6 flex items-center gap-4 hover:bg-slate-50 transition-colors group",children:[u.jsx("div",{className:"bg-red-50 p-3 rounded-full text-corp-red group-hover:bg-corp-red group-hover:text-white transition-colors",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide",children:n("home.infoBar.call.title")}),u.jsx("a",{href:"tel:+982122041655",className:"text-slate-900 font-mono text-xl font-bold dir-ltr block hover:text-corp-red transition-colors",children:n("home.infoBar.call.value")})]})]}),u.jsxs("div",{className:"p-6 flex items-center gap-4 hover:bg-slate-50 transition-colors group",children:[u.jsx("div",{className:"bg-blue-50 p-3 rounded-full text-corp-blue group-hover:bg-corp-blue group-hover:text-white transition-colors",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide",children:n("home.infoBar.email.title")}),u.jsx("a",{href:"mailto:sales@steelonline20.com",className:"text-slate-900 font-mono text-sm block hover:text-corp-blue transition-colors",children:n("home.infoBar.email.value")})]})]}),u.jsxs("div",{className:"p-6 flex items-center gap-4 hover:bg-slate-50 transition-colors group",children:[u.jsx("div",{className:"bg-slate-100 p-3 rounded-full text-slate-600 group-hover:bg-slate-800 group-hover:text-white transition-colors",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide",children:n("home.infoBar.location.title")}),u.jsx("p",{className:"text-slate-900 text-sm font-medium",children:n("home.infoBar.location.value")})]})]})]})})}),u.jsx("section",{className:"py-20 bg-slate-50",children:u.jsx("div",{className:"container mx-auto px-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"bg-white border border-slate-200 p-8 rounded-xl shadow-sm hover:shadow-lg transition-all group",children:[u.jsx("div",{className:"w-14 h-14 bg-blue-50 text-corp-blue rounded-xl flex items-center justify-center mb-6 group-hover:bg-corp-blue group-hover:text-white transition-colors",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})}),u.jsx("h2",{className:"text-xl font-bold mb-3 text-slate-900",children:n("home.featuredBlocks.block1.title")}),u.jsx("p",{className:"text-sm text-slate-600 mb-6 leading-relaxed",children:n("home.featuredBlocks.block1.desc")}),u.jsxs("button",{onClick:()=>t("content_hub"),className:"text-corp-blue font-bold text-sm hover:underline flex items-center gap-1",children:[n("home.featuredBlocks.button")," ",u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 rtl:rotate-180",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}),u.jsxs("div",{className:"bg-white border border-slate-200 p-8 rounded-xl shadow-sm hover:shadow-lg transition-all group",children:[u.jsx("div",{className:"w-14 h-14 bg-green-50 text-green-600 rounded-xl flex items-center justify-center mb-6 group-hover:bg-green-600 group-hover:text-white transition-colors",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),u.jsx("h2",{className:"text-xl font-bold mb-3 text-slate-900",children:n("home.featuredBlocks.block2.title")}),u.jsx("p",{className:"text-sm text-slate-600 mb-6 leading-relaxed",children:n("home.featuredBlocks.block2.desc")}),u.jsxs("button",{onClick:()=>t("partnerships"),className:"text-green-600 font-bold text-sm hover:underline flex items-center gap-1",children:[n("home.featuredBlocks.button")," ",u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 rtl:rotate-180",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]}),u.jsxs("div",{className:"bg-slate-900 text-white p-8 rounded-xl shadow-lg border-t-4 border-corp-red",children:[u.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-corp-red",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),n("home.featuredBlocks.block3.title")]}),u.jsxs("ul",{className:"space-y-4 text-sm text-slate-300",children:[u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-corp-red"}),n("home.featuredBlocks.block3.line1")]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-corp-red"}),n("home.featuredBlocks.block3.line2")]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-2 h-2 rounded-full bg-corp-red"}),n("home.featuredBlocks.block3.line3")]})]})]})]})})}),u.jsx("section",{id:"faq",className:"py-16 sm:py-24",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsxs("div",{className:"text-center max-w-2xl mx-auto",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-slate-900",children:n("home.whyUs.title")}),u.jsx("p",{className:"mt-3 text-slate-600",children:n("home.whyUs.subtitle")})]}),u.jsx("div",{className:"mt-16 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:o.map(l=>u.jsxs("div",{className:"text-center p-6 bg-white rounded-xl border border-slate-100 shadow-sm hover:shadow-lg transition-all hover:-translate-y-1",children:[u.jsx("div",{className:"flex items-center justify-center h-16 w-16 rounded-full bg-slate-50 text-slate-700 mx-auto mb-4 border border-slate-200",children:l.icon}),u.jsx("h3",{className:"text-lg font-bold text-slate-800",children:l.title}),u.jsx("p",{className:"text-sm text-slate-500 mt-2 leading-relaxed",children:l.desc})]},l.title))})]})}),u.jsx("section",{className:"py-16 sm:py-24 bg-slate-50",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-12 gap-4",children:[u.jsxs("div",{className:"max-w-2xl",children:[u.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-slate-900",children:n("home.blog.title")}),u.jsx("p",{className:"mt-3 text-slate-600",children:n("home.blog.subtitle")})]}),u.jsxs("button",{onClick:()=>t("blog"),className:"text-corp-blue font-bold hover:underline flex items-center gap-1",children:[n("blogPage.readMore")," "]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:i.map(l=>u.jsxs("div",{className:"group flex flex-col bg-white border border-slate-200 rounded-xl shadow-sm overflow-hidden hover:shadow-xl transition-shadow",children:[u.jsxs("button",{onClick:()=>r(l),className:"block overflow-hidden relative",children:[u.jsx("img",{src:l.image,alt:l.title[s],className:"h-48 w-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy",width:"400",height:"300"}),u.jsx("div",{className:"absolute top-4 right-4",children:u.jsx("span",{className:"text-xs font-bold text-white bg-slate-900/80 backdrop-blur-sm px-3 py-1 rounded-full",children:l.category[s]})})]}),u.jsxs("div",{className:"p-6 flex flex-col flex-grow",children:[u.jsxs("p",{className:"text-xs text-slate-500 mb-2 flex items-center gap-1",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),l.date[s]]}),u.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-3 group-hover:text-corp-blue transition-colors leading-snug",children:u.jsx("button",{onClick:()=>r(l),children:l.title[s]})}),u.jsx("p",{className:"text-sm text-slate-600 leading-relaxed flex-grow line-clamp-3",children:l.excerpt[s]})]})]},l.id))})]})}),u.jsx("section",{className:"py-16 bg-white border-t border-slate-100",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsx("div",{className:"text-center max-w-2xl mx-auto mb-10",children:u.jsx("h2",{className:"text-3xl font-extrabold text-slate-900",children:n("home.infoBar.location.title")})}),u.jsx("div",{className:"bg-white rounded-xl shadow-2xl border border-slate-200 overflow-hidden",children:u.jsxs("div",{className:"flex flex-col md:flex-row h-auto md:h-[500px]",children:[u.jsx("div",{className:"md:w-1/3 p-8 flex flex-col justify-center bg-slate-50 border-b md:border-b-0 md:border-r border-slate-100",children:u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"bg-white p-3 rounded-lg shadow-sm text-corp-red border border-slate-100",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-slate-800 mb-1 text-lg",children:"Address"}),u.jsx("p",{className:"text-slate-600 leading-relaxed font-medium",children:n("footer.contactInfo")})]})]}),u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"bg-white p-3 rounded-lg shadow-sm text-corp-red border border-slate-100",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-slate-800 mb-1 text-lg",children:"Phone"}),u.jsx("p",{className:"text-slate-600 dir-ltr text-lg font-mono tracking-tight font-bold",children:n("home.infoBar.call.value")})]})]}),u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"bg-white p-3 rounded-lg shadow-sm text-corp-red border border-slate-100",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-slate-800 mb-1 text-lg",children:"Working Hours"}),u.jsx("p",{className:"text-slate-600",children:n("footer.workingHours")})]})]})]})}),u.jsx("div",{className:"md:w-2/3 bg-slate-200 relative min-h-[300px]",children:u.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3238.961062002516!2d51.42008587634289!3d35.78191297255502!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMzXCsDQ2JzU0LjkiTiA1McKwMjUnMjAuMiJF!5e0!3m2!1sen!2s!4v1653842628435!5m2!1sen!2s",className:"absolute inset-0 w-full h-full border-0 grayscale hover:grayscale-0 transition-all duration-700",allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"    "})})]})})]})}),u.jsx("section",{className:"py-16 bg-slate-50",children:u.jsxs("div",{className:"container mx-auto px-4",children:[u.jsx("h2",{className:"text-center text-sm font-bold text-slate-400 mb-8 uppercase tracking-widest",children:n("home.partners.title")}),u.jsx("div",{className:"flex flex-wrap justify-center items-center gap-x-12 gap-y-8",children:["https://ahanonline.com/resize/?file=https://contents.ahanonline.com/site/2c32ece75597560c3ac09274394f950a.png&format=webp","https://ahanonline.com/resize/?file=https://contents.ahanonline.com/site/57f1a453ec9b3c3a147794d1993a3f8c.png&format=webp","https://ahanonline.com/resize/?file=https://contents.ahanonline.com/site/f408d553d26e51d1d4da5e898d498f21.png&format=webp","https://ahanonline.com/resize/?file=https://contents.ahanonline.com/site/39049d49715f83f5a2eef34e727bdf2c.png&format=webp"].map((l,c)=>u.jsx("img",{src:l,alt:`Partner logo ${c+1}`,className:"h-12 sm:h-16 object-contain grayscale opacity-50 hover:grayscale-0 hover:opacity-100 transition-all duration-300 hover:scale-105",loading:"lazy",width:"100",height:"64"},c))})]})})]})},X_=({isOpen:t,onClose:e})=>{const{t:r}=Ct();return t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 animate-fade-in","aria-modal":"true",role:"dialog",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-4 border border-red-300",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:u.jsx("svg",{className:"h-6 w-6 text-red-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),u.jsx("h3",{className:"mt-5 text-lg font-semibold leading-6 text-slate-900",children:r("quotaErrorModal.title")}),u.jsx("div",{className:"mt-2",children:u.jsx("p",{className:"text-sm text-slate-500",children:r("quotaErrorModal.body")})})]}),u.jsxs("div",{className:"mt-5 sm:mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[u.jsx("a",{href:"https://aistudio.google.com/billing",target:"_blank",rel:"noopener noreferrer",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-corp-blue-dark text-base font-medium text-white hover:bg-corp-blue-dark/90 focus:outline-none sm:text-sm text-center",children:r("quotaErrorModal.cta")}),u.jsx("button",{type:"button",onClick:e,className:"w-full inline-flex justify-center rounded-md border border-slate-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-slate-700 hover:bg-slate-50 focus:outline-none sm:text-sm",children:r("quotaErrorModal.close")})]})]})}):null},eE=({isOpen:t,onClose:e,onLogin:r})=>{const{t:n,language:s}=Ct(),[i,o]=N.useState(""),[a,l]=N.useState(""),[c,d]=N.useState(""),[h,f]=N.useState(""),[m,y]=N.useState(""),[w,E]=N.useState("login"),[v,g]=N.useState(!1),[p,_]=N.useState(""),[x,b]=N.useState(!1),[S,A]=N.useState({email:"",password:"",phone:""});if(N.useEffect(()=>{t&&(o(""),l(""),d(""),f(""),y(""),_(""),g(!1),b(!1),E("login"))},[t]),!t)return null;const $=()=>{const M={email:"",password:"",phone:""};let L=!0;return w==="phone"?(!h||h.length<10)&&(M.phone=s==="fa"?"   ":"Invalid phone number",L=!1):w!=="admin"&&(i?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)||(M.email=n("validation.email"),L=!1):(M.email=n("validation.required"),L=!1),a?a.length<6&&(M.password=n("validation.passwordLength"),L=!1):(M.password=n("validation.required"),L=!1)),A(M),L},P=async M=>{M.preventDefault(),g(!0),_(""),i==="admin"&&a==="admin"?r({name:"Administrator",email:"admin@steelonline20.com",role:"admin",picture:void 0}):_(s==="fa"?"      ":"Invalid admin credentials"),g(!1)},H=async M=>{if(M.preventDefault(),!!$()){g(!0),_("");try{if(w==="signup"){const{data:L,error:T}=await le.auth.signUp({email:i,password:a,options:{data:{full_name:c,role:"user"}}});if(T)throw T;if(L.user)if(L.session){const j={name:L.user.user_metadata.full_name||i.split("@")[0],email:L.user.email||i,role:"user"};r(j)}else _(s==="fa"?"       .":"Please check your email to confirm your registration.")}else{const{data:L,error:T}=await le.auth.signInWithPassword({email:i,password:a});if(T)throw T;if(L.user&&L.session){const j={name:L.user.user_metadata.full_name||i.split("@")[0],email:L.user.email||i,picture:L.user.user_metadata.avatar_url,role:L.user.user_metadata.role||"user"};r(j)}}}catch(L){_(L.message||"Authentication failed")}finally{g(!1)}}},tt=async()=>{try{const{error:M}=await le.auth.signInWithOAuth({provider:"google"});if(M)throw M}catch(M){_(M.message)}},Ie=async M=>{if(M.preventDefault(),!!$()){g(!0),_("");try{if(x){const{data:L,error:T}=await le.auth.verifyOtp({phone:h.startsWith("+")?h:`+98${h.replace(/^0/,"")}`,token:m,type:"sms"});if(T)throw T;if(L.user&&L.session){const j={name:L.user.phone||h,email:L.user.email||"",phone:L.user.phone,role:"user"};r(j)}}else{const{error:L}=await le.auth.signInWithOtp({phone:h.startsWith("+")?h:`+98${h.replace(/^0/,"")}`});if(L)throw L;b(!0),_("")}}catch(L){_(L.message||(s==="fa"?"   ":"Authentication failed"))}finally{g(!1)}}},_t=({icon:M,text:L,onClick:T,className:j})=>u.jsxs("button",{type:"button",onClick:T,className:`w-full flex items-center justify-center gap-3 py-3 px-4 rounded-lg text-sm font-medium transition-all shadow-sm ${j}`,children:[M,u.jsx("span",{children:L})]}),Oe=({mode:M,label:L,icon:T})=>u.jsxs("button",{type:"button",onClick:()=>{E(M),_(""),b(!1)},className:`flex-1 py-3 px-4 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-2 ${w===M?"bg-corp-red text-white shadow-lg":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[T,u.jsx("span",{className:"hidden sm:inline",children:L})]});return u.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in p-4",onClick:e,role:"dialog","aria-modal":"true",children:u.jsxs("div",{className:"bg-white text-slate-800 rounded-2xl shadow-2xl w-full max-w-md border border-slate-200 overflow-hidden",onClick:M=>M.stopPropagation(),children:[u.jsx("header",{className:"bg-gradient-to-r from-slate-900 to-slate-800 p-6 text-white",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold",children:w==="admin"?s==="fa"?" ":"Admin Login":w==="signup"?s==="fa"?" ":"Create Account":w==="phone"?s==="fa"?"  ":"Phone Login":s==="fa"?"":"Sign In"}),u.jsx("p",{className:"text-slate-300 text-sm mt-1",children:"Steel Online 20"})]}),u.jsx("button",{type:"button",onClick:e,className:"p-2 rounded-full hover:bg-white/10 transition-colors","aria-label":"Close",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),u.jsxs("main",{className:"p-6 space-y-5",children:[u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Oe,{mode:"login",label:s==="fa"?"":"Login",icon:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})})}),u.jsx(Oe,{mode:"signup",label:s==="fa"?" ":"Sign Up",icon:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),u.jsx(Oe,{mode:"admin",label:s==="fa"?"":"Admin",icon:u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})})]}),w==="admin"?u.jsxs("form",{onSubmit:P,className:"space-y-4",children:[u.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3 text-sm text-yellow-800",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),u.jsx("span",{children:s==="fa"?"   ":"Admin access only"})]})}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:s==="fa"?" ":"Username"}),u.jsx("input",{type:"text",value:i,onChange:M=>o(M.target.value),placeholder:s==="fa"?"  ":"Admin username",className:"w-full bg-slate-50 border border-slate-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-corp-red",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:s==="fa"?" ":"Password"}),u.jsx("input",{type:"password",value:a,onChange:M=>l(M.target.value),placeholder:"",className:"w-full bg-slate-50 border border-slate-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-corp-red",required:!0})]}),p&&u.jsx("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 text-sm rounded-lg",children:p}),u.jsx("button",{type:"submit",disabled:v,className:"w-full py-3 bg-slate-900 text-white font-bold rounded-lg hover:bg-slate-800 transition-all disabled:opacity-70 flex justify-center items-center gap-2",children:v?u.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),s==="fa"?"   ":"Enter Admin Panel"]})})]}):w==="phone"?u.jsxs("form",{onSubmit:Ie,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:s==="fa"?" ":"Phone Number"}),u.jsxs("div",{className:"flex",children:[u.jsx("span",{className:"inline-flex items-center px-3 bg-slate-100 border border-e-0 border-slate-300 rounded-s-lg text-slate-500 text-sm",children:"+98"}),u.jsx("input",{type:"tel",value:h,onChange:M=>f(M.target.value.replace(/\D/g,"")),placeholder:"9121234567",className:"flex-1 bg-slate-50 border border-slate-300 rounded-e-lg p-3 focus:outline-none focus:ring-2 focus:ring-corp-red",disabled:x,required:!0})]}),S.phone&&u.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.phone})]}),x&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:s==="fa"?" ":"Verification Code"}),u.jsx("input",{type:"text",value:m,onChange:M=>y(M.target.value.replace(/\D/g,"")),placeholder:"123456",maxLength:6,className:"w-full bg-slate-50 border border-slate-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-corp-red text-center text-2xl tracking-widest",required:!0})]}),p&&u.jsx("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 text-sm rounded-lg",children:p}),u.jsx("button",{type:"submit",disabled:v,className:"w-full py-3 bg-corp-red text-white font-bold rounded-lg hover:bg-red-700 transition-all disabled:opacity-70 flex justify-center items-center gap-2",children:v?u.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):x?s==="fa"?" ":"Verify Code":s==="fa"?" ":"Send Code"}),u.jsx("button",{type:"button",onClick:()=>E("login"),className:"w-full text-sm text-slate-500 hover:text-corp-red",children:s==="fa"?"  ":"Login with Email"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx(_t,{onClick:tt,icon:u.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 48 48",children:[u.jsx("path",{fill:"#FFC107",d:"M43.611 20.083H42V20H24v8h11.303c-1.649 4.657-6.08 8-11.303 8c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C12.955 4 4 12.955 4 24s8.955 20 20 20s20-8.955 20-20c0-1.341-.138-2.65-.389-3.917z"}),u.jsx("path",{fill:"#FF3D00",d:"m6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.961 3.039l5.657-5.657C34.046 6.053 29.268 4 24 4C16.318 4 9.656 8.337 6.306 14.691z"}),u.jsx("path",{fill:"#4CAF50",d:"M24 44c5.166 0 9.86-1.977 13.409-5.192l-6.19-5.238A11.91 11.91 0 0 1 24 36c-5.222 0-9.618-3.354-11.283-7.946l-6.522 5.025C9.505 39.556 16.227 44 24 44z"}),u.jsx("path",{fill:"#1976D2",d:"M43.611 20.083H42V20H24v8h11.303c-.792 2.237-2.231 4.166-4.087 5.571l6.19 5.238C42.011 35.636 44 30.138 44 24c0-1.341-.138-2.65-.389-3.917z"})]}),text:w==="signup"?s==="fa"?"   ":"Sign up with Google":s==="fa"?"  ":"Sign in with Google",className:"bg-white border border-slate-300 text-slate-700 hover:bg-slate-50 hover:shadow-md"}),u.jsx(_t,{onClick:()=>E("phone"),icon:u.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})}),text:s==="fa"?"   ":"Sign in with Phone",className:"bg-slate-100 text-slate-700 hover:bg-slate-200"})]}),u.jsxs("div",{className:"flex items-center text-xs text-slate-400",children:[u.jsx("div",{className:"flex-grow border-t border-slate-200"}),u.jsx("span",{className:"flex-shrink mx-4",children:n("loginModal.or")}),u.jsx("div",{className:"flex-grow border-t border-slate-200"})]}),u.jsxs("form",{onSubmit:H,className:"space-y-4",children:[w==="signup"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:s==="fa"?" ":"Full Name"}),u.jsx("input",{type:"text",value:c,onChange:M=>d(M.target.value),placeholder:s==="fa"?"   ":"Your full name",className:"w-full bg-slate-50 border border-slate-300 rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-corp-red",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:s==="fa"?"":"Email"}),u.jsx("input",{type:"email",value:i,onChange:M=>{o(M.target.value),S.email&&A(L=>({...L,email:""}))},placeholder:n("loginModal.emailPlaceholder"),className:`w-full bg-slate-50 rounded-lg p-3 focus:outline-none transition-all ${S.email?"border-2 border-red-500 ring-2 ring-red-500/20":"border border-slate-300 focus:ring-2 focus:ring-corp-red"}`,required:!0}),S.email&&u.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.email})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:s==="fa"?" ":"Password"}),u.jsx("input",{type:"password",value:a,onChange:M=>{l(M.target.value),S.password&&A(L=>({...L,password:""}))},placeholder:"",className:`w-full bg-slate-50 rounded-lg p-3 focus:outline-none transition-all ${S.password?"border-2 border-red-500 ring-2 ring-red-500/20":"border border-slate-300 focus:ring-2 focus:ring-corp-red"}`,required:!0}),S.password&&u.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.password})]}),p&&u.jsx("div",{className:"p-3 bg-red-50 border border-red-200 text-red-700 text-sm rounded-lg",children:p}),u.jsx("button",{type:"submit",disabled:v,className:"w-full py-3 bg-corp-red text-white font-bold rounded-lg hover:bg-red-700 transition-all disabled:opacity-70 flex justify-center items-center",children:v?u.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):w==="signup"?s==="fa"?" ":"Sign Up":s==="fa"?"":"Sign In"})]})]})]}),u.jsx("footer",{className:"px-6 pb-6 text-center text-xs text-slate-500",children:u.jsx("p",{children:s==="fa"?"        .":"By signing in, you agree to our Terms of Service."})})]})})},tE=({isOpen:t,onClose:e,onSearch:r,isLoading:n,results:s,error:i,onNavigate:o})=>{const{t:a}=Ct(),[l,c]=N.useState("");if(!t)return null;const d=y=>{y.preventDefault(),l.trim()&&r(l)},h=y=>{c(y),r(y)},f=s&&s.length>0,m=s&&s.length===0;return u.jsx("div",{className:"fixed inset-0 bg-slate-800/80 backdrop-blur-sm z-[100] flex flex-col items-center p-4 animate-fade-in",onClick:e,role:"dialog","aria-modal":"true","aria-labelledby":"search-modal-title",children:u.jsxs("div",{className:"w-full max-w-2xl mt-12 sm:mt-20 bg-white rounded-xl shadow-2xl",onClick:y=>y.stopPropagation(),children:[u.jsx("div",{className:"p-4 border-b border-slate-200",children:u.jsxs("form",{onSubmit:d,className:"flex items-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),u.jsx("input",{type:"search",value:l,onChange:y=>c(y.target.value),placeholder:a("searchModal.placeholder"),className:"w-full bg-transparent text-slate-800 placeholder-slate-400 py-2 text-lg focus:outline-none",autoFocus:!0}),u.jsx("button",{type:"button",onClick:e,className:"p-2 text-slate-500 rounded-full hover:bg-slate-100","aria-label":"Close search",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),u.jsxs("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:[n&&u.jsx("div",{className:"flex justify-center items-center py-10",children:u.jsx("div",{className:"w-8 h-8 border-4 border-dashed rounded-full animate-spin border-corp-blue-dark"})}),!n&&!s&&!i&&u.jsxs("div",{className:"animate-fade-in",children:[u.jsx("h2",{className:"font-semibold text-sm text-slate-500 mb-3",children:a("searchModal.suggestionsTitle")}),u.jsx("div",{className:"flex flex-wrap gap-2",children:a("searchModal.suggestionQueries").map((y,w)=>u.jsx("button",{onClick:()=>h(y),className:"px-3 py-1.5 bg-slate-100 hover:bg-slate-200 rounded-full text-slate-700 text-sm transition-colors",children:y},w))})]}),i&&u.jsx("div",{className:"text-red-600 p-4 bg-red-50 rounded-md",children:i}),f&&u.jsxs("div",{className:"space-y-4 animate-fade-in",children:[u.jsx("h2",{className:"font-semibold text-slate-800",children:a("searchModal.resultsTitle")}),s.map((y,w)=>u.jsxs("button",{onClick:()=>o(y.targetPage),className:"w-full text-left bg-slate-50 p-4 rounded-lg border border-transparent hover:border-corp-blue hover:bg-white transition-all group",children:[u.jsx("h3",{className:"font-bold text-corp-blue-dark group-hover:underline",children:y.title}),u.jsx("p",{className:"text-sm text-slate-600 mt-1",children:y.description})]},w))]}),m&&u.jsx("div",{className:"text-center p-8 text-slate-500 bg-slate-100 rounded-lg",children:u.jsx("p",{children:a("searchModal.noResults")})})]})]})})};function Lu(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let zr=Lu();function bg(t){zr=t}const Sg=/[&<>"']/,rE=new RegExp(Sg.source,"g"),kg=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,nE=new RegExp(kg.source,"g"),sE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ch=t=>sE[t];function Ke(t,e){if(e){if(Sg.test(t))return t.replace(rE,Ch)}else if(kg.test(t))return t.replace(nE,Ch);return t}const iE=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function oE(t){return t.replace(iE,(e,r)=>(r=r.toLowerCase(),r==="colon"?":":r.charAt(0)==="#"?r.charAt(1)==="x"?String.fromCharCode(parseInt(r.substring(2),16)):String.fromCharCode(+r.substring(1)):""))}const aE=/(^|[^\[])\^/g;function K(t,e){let r=typeof t=="string"?t:t.source;e=e||"";const n={replace:(s,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(aE,"$1"),r=r.replace(s,o),n},getRegex:()=>new RegExp(r,e)};return n}function Rh(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const cs={exec:()=>null};function jh(t,e){const r=t.replace(/\|/g,(i,o,a)=>{let l=!1,c=o;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),n=r.split(/ \|/);let s=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;s<n.length;s++)n[s]=n[s].trim().replace(/\\\|/g,"|");return n}function mi(t,e,r){const n=t.length;if(n===0)return"";let s=0;for(;s<n&&t.charAt(n-s-1)===e;)s++;return t.slice(0,n-s)}function lE(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let n=0;n<t.length;n++)if(t[n]==="\\")n++;else if(t[n]===e[0])r++;else if(t[n]===e[1]&&(r--,r<0))return n;return-1}function Ph(t,e,r,n){const s=e.href,i=e.title?Ke(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){n.state.inLink=!0;const a={type:"link",raw:r,href:s,title:i,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,a}return{type:"image",raw:r,href:s,title:i,text:Ke(o)}}function uE(t,e){const r=t.match(/^(\s+)(?:```)/);if(r===null)return e;const n=r[1];return e.split(`
`).map(s=>{const i=s.match(/^\s+/);if(i===null)return s;const[o]=i;return o.length>=n.length?s.slice(n.length):s}).join(`
`)}class po{constructor(e){Q(this,"options");Q(this,"rules");Q(this,"lexer");this.options=e||zr}space(e){const r=this.rules.block.newline.exec(e);if(r&&r[0].length>0)return{type:"space",raw:r[0]}}code(e){const r=this.rules.block.code.exec(e);if(r){const n=r[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:r[0],codeBlockStyle:"indented",text:this.options.pedantic?n:mi(n,`
`)}}}fences(e){const r=this.rules.block.fences.exec(e);if(r){const n=r[0],s=uE(n,r[3]||"");return{type:"code",raw:n,lang:r[2]?r[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):r[2],text:s}}}heading(e){const r=this.rules.block.heading.exec(e);if(r){let n=r[2].trim();if(/#$/.test(n)){const s=mi(n,"#");(this.options.pedantic||!s||/ $/.test(s))&&(n=s.trim())}return{type:"heading",raw:r[0],depth:r[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const r=this.rules.block.hr.exec(e);if(r)return{type:"hr",raw:r[0]}}blockquote(e){const r=this.rules.block.blockquote.exec(e);if(r){let n=r[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);n=mi(n.replace(/^ *>[ \t]?/gm,""),`
`);const s=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(n);return this.lexer.state.top=s,{type:"blockquote",raw:r[0],tokens:i,text:n}}}list(e){let r=this.rules.block.list.exec(e);if(r){let n=r[1].trim();const s=n.length>1,i={type:"list",raw:"",ordered:s,start:s?+n.slice(0,-1):"",loose:!1,items:[]};n=s?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=s?n:"[*+-]");const o=new RegExp(`^( {0,3}${n})((?:[	 ][^\\n]*)?(?:\\n|$))`);let a="",l="",c=!1;for(;e;){let d=!1;if(!(r=o.exec(e))||this.rules.block.hr.test(e))break;a=r[0],e=e.substring(a.length);let h=r[2].split(`
`,1)[0].replace(/^\t+/,v=>" ".repeat(3*v.length)),f=e.split(`
`,1)[0],m=0;this.options.pedantic?(m=2,l=h.trimStart()):(m=r[2].search(/[^ ]/),m=m>4?1:m,l=h.slice(m),m+=r[1].length);let y=!1;if(!h&&/^ *$/.test(f)&&(a+=f+`
`,e=e.substring(f.length+1),d=!0),!d){const v=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),g=new RegExp(`^ {0,${Math.min(3,m-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),p=new RegExp(`^ {0,${Math.min(3,m-1)}}(?:\`\`\`|~~~)`),_=new RegExp(`^ {0,${Math.min(3,m-1)}}#`);for(;e;){const x=e.split(`
`,1)[0];if(f=x,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),p.test(f)||_.test(f)||v.test(f)||g.test(e))break;if(f.search(/[^ ]/)>=m||!f.trim())l+=`
`+f.slice(m);else{if(y||h.search(/[^ ]/)>=4||p.test(h)||_.test(h)||g.test(h))break;l+=`
`+f}!y&&!f.trim()&&(y=!0),a+=x+`
`,e=e.substring(x.length+1),h=f.slice(m)}}i.loose||(c?i.loose=!0:/\n *\n *$/.test(a)&&(c=!0));let w=null,E;this.options.gfm&&(w=/^\[[ xX]\] /.exec(l),w&&(E=w[0]!=="[ ] ",l=l.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:a,task:!!w,checked:E,loose:!1,text:l,tokens:[]}),i.raw+=a}i.items[i.items.length-1].raw=a.trimEnd(),i.items[i.items.length-1].text=l.trimEnd(),i.raw=i.raw.trimEnd();for(let d=0;d<i.items.length;d++)if(this.lexer.state.top=!1,i.items[d].tokens=this.lexer.blockTokens(i.items[d].text,[]),!i.loose){const h=i.items[d].tokens.filter(m=>m.type==="space"),f=h.length>0&&h.some(m=>/\n.*\n/.test(m.raw));i.loose=f}if(i.loose)for(let d=0;d<i.items.length;d++)i.items[d].loose=!0;return i}}html(e){const r=this.rules.block.html.exec(e);if(r)return{type:"html",block:!0,raw:r[0],pre:r[1]==="pre"||r[1]==="script"||r[1]==="style",text:r[0]}}def(e){const r=this.rules.block.def.exec(e);if(r){const n=r[1].toLowerCase().replace(/\s+/g," "),s=r[2]?r[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=r[3]?r[3].substring(1,r[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):r[3];return{type:"def",tag:n,raw:r[0],href:s,title:i}}}table(e){const r=this.rules.block.table.exec(e);if(!r||!/[:|]/.test(r[2]))return;const n=jh(r[1]),s=r[2].replace(/^\||\| *$/g,"").split("|"),i=r[3]&&r[3].trim()?r[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:r[0],header:[],align:[],rows:[]};if(n.length===s.length){for(const a of s)/^ *-+: *$/.test(a)?o.align.push("right"):/^ *:-+: *$/.test(a)?o.align.push("center"):/^ *:-+ *$/.test(a)?o.align.push("left"):o.align.push(null);for(const a of n)o.header.push({text:a,tokens:this.lexer.inline(a)});for(const a of i)o.rows.push(jh(a,o.header.length).map(l=>({text:l,tokens:this.lexer.inline(l)})));return o}}lheading(e){const r=this.rules.block.lheading.exec(e);if(r)return{type:"heading",raw:r[0],depth:r[2].charAt(0)==="="?1:2,text:r[1],tokens:this.lexer.inline(r[1])}}paragraph(e){const r=this.rules.block.paragraph.exec(e);if(r){const n=r[1].charAt(r[1].length-1)===`
`?r[1].slice(0,-1):r[1];return{type:"paragraph",raw:r[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const r=this.rules.block.text.exec(e);if(r)return{type:"text",raw:r[0],text:r[0],tokens:this.lexer.inline(r[0])}}escape(e){const r=this.rules.inline.escape.exec(e);if(r)return{type:"escape",raw:r[0],text:Ke(r[1])}}tag(e){const r=this.rules.inline.tag.exec(e);if(r)return!this.lexer.state.inLink&&/^<a /i.test(r[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(r[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(r[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(r[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:r[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:r[0]}}link(e){const r=this.rules.inline.link.exec(e);if(r){const n=r[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const o=mi(n.slice(0,-1),"\\");if((n.length-o.length)%2===0)return}else{const o=lE(r[2],"()");if(o>-1){const l=(r[0].indexOf("!")===0?5:4)+r[1].length+o;r[2]=r[2].substring(0,o),r[0]=r[0].substring(0,l).trim(),r[3]=""}}let s=r[2],i="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);o&&(s=o[1],i=o[3])}else i=r[3]?r[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(this.options.pedantic&&!/>$/.test(n)?s=s.slice(1):s=s.slice(1,-1)),Ph(r,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},r[0],this.lexer)}}reflink(e,r){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const s=(n[2]||n[1]).replace(/\s+/g," "),i=r[s.toLowerCase()];if(!i){const o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return Ph(n,i,n[0],this.lexer)}}emStrong(e,r,n=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(!s||s[3]&&n.match(/[\p{L}\p{N}]/u))return;if(!(s[1]||s[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const o=[...s[0]].length-1;let a,l,c=o,d=0;const h=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,r=r.slice(-1*e.length+o);(s=h.exec(r))!=null;){if(a=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!a)continue;if(l=[...a].length,s[3]||s[4]){c+=l;continue}else if((s[5]||s[6])&&o%3&&!((o+l)%3)){d+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+d);const f=[...s[0]][0].length,m=e.slice(0,o+s.index+f+l);if(Math.min(o,l)%2){const w=m.slice(1,-1);return{type:"em",raw:m,text:w,tokens:this.lexer.inlineTokens(w)}}const y=m.slice(2,-2);return{type:"strong",raw:m,text:y,tokens:this.lexer.inlineTokens(y)}}}}codespan(e){const r=this.rules.inline.code.exec(e);if(r){let n=r[2].replace(/\n/g," ");const s=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return s&&i&&(n=n.substring(1,n.length-1)),n=Ke(n,!0),{type:"codespan",raw:r[0],text:n}}}br(e){const r=this.rules.inline.br.exec(e);if(r)return{type:"br",raw:r[0]}}del(e){const r=this.rules.inline.del.exec(e);if(r)return{type:"del",raw:r[0],text:r[2],tokens:this.lexer.inlineTokens(r[2])}}autolink(e){const r=this.rules.inline.autolink.exec(e);if(r){let n,s;return r[2]==="@"?(n=Ke(r[1]),s="mailto:"+n):(n=Ke(r[1]),s=n),{type:"link",raw:r[0],text:n,href:s,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let r;if(r=this.rules.inline.url.exec(e)){let s,i;if(r[2]==="@")s=Ke(r[0]),i="mailto:"+s;else{let o;do o=r[0],r[0]=((n=this.rules.inline._backpedal.exec(r[0]))==null?void 0:n[0])??"";while(o!==r[0]);s=Ke(r[0]),r[1]==="www."?i="http://"+r[0]:i=r[0]}return{type:"link",raw:r[0],text:s,href:i,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(e){const r=this.rules.inline.text.exec(e);if(r){let n;return this.lexer.state.inRawBlock?n=r[0]:n=Ke(r[0]),{type:"text",raw:r[0],text:n}}}}const cE=/^(?: *(?:\n|$))+/,dE=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,hE=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,$s=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,fE=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Tg=/(?:[*+-]|\d{1,9}[.)])/,Ng=K(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Tg).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Du=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,pE=/^[^\n]+/,Uu=/(?!\s*\])(?:\\.|[^\[\]\\])+/,mE=K(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Uu).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),gE=K(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Tg).getRegex(),Bo="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Mu=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,vE=K("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Mu).replace("tag",Bo).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ag=K(Du).replace("hr",$s).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Bo).getRegex(),yE=K(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ag).getRegex(),$u={blockquote:yE,code:dE,def:mE,fences:hE,heading:fE,hr:$s,html:vE,lheading:Ng,list:gE,newline:cE,paragraph:Ag,table:cs,text:pE},Lh=K("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",$s).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Bo).getRegex(),wE={...$u,table:Lh,paragraph:K(Du).replace("hr",$s).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Lh).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Bo).getRegex()},_E={...$u,html:K(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Mu).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:cs,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:K(Du).replace("hr",$s).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ng).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Ig=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,EE=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Og=/^( {2,}|\\)\n(?!\s*$)/,xE=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Bs="\\p{P}\\p{S}",bE=K(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Bs).getRegex(),SE=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,kE=K(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Bs).getRegex(),TE=K("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Bs).getRegex(),NE=K("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Bs).getRegex(),AE=K(/\\([punct])/,"gu").replace(/punct/g,Bs).getRegex(),IE=K(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),OE=K(Mu).replace("(?:-->|$)","-->").getRegex(),CE=K("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",OE).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),mo=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,RE=K(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",mo).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Cg=K(/^!?\[(label)\]\[(ref)\]/).replace("label",mo).replace("ref",Uu).getRegex(),Rg=K(/^!?\[(ref)\](?:\[\])?/).replace("ref",Uu).getRegex(),jE=K("reflink|nolink(?!\\()","g").replace("reflink",Cg).replace("nolink",Rg).getRegex(),Bu={_backpedal:cs,anyPunctuation:AE,autolink:IE,blockSkip:SE,br:Og,code:EE,del:cs,emStrongLDelim:kE,emStrongRDelimAst:TE,emStrongRDelimUnd:NE,escape:Ig,link:RE,nolink:Rg,punctuation:bE,reflink:Cg,reflinkSearch:jE,tag:CE,text:xE,url:cs},PE={...Bu,link:K(/^!?\[(label)\]\((.*?)\)/).replace("label",mo).getRegex(),reflink:K(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",mo).getRegex()},Il={...Bu,escape:K(Ig).replace("])","~|])").getRegex(),url:K(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},LE={...Il,br:K(Og).replace("{2,}","*").getRegex(),text:K(Il.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},gi={normal:$u,gfm:wE,pedantic:_E},Kn={normal:Bu,gfm:Il,breaks:LE,pedantic:PE};class Nt{constructor(e){Q(this,"tokens");Q(this,"options");Q(this,"state");Q(this,"tokenizer");Q(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||zr,this.options.tokenizer=this.options.tokenizer||new po,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={block:gi.normal,inline:Kn.normal};this.options.pedantic?(r.block=gi.pedantic,r.inline=Kn.pedantic):this.options.gfm&&(r.block=gi.gfm,this.options.breaks?r.inline=Kn.breaks:r.inline=Kn.gfm),this.tokenizer.rules=r}static get rules(){return{block:gi,inline:Kn}}static lex(e,r){return new Nt(r).lex(e)}static lexInline(e,r){return new Nt(r).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){const n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(a,l,c)=>l+"    ".repeat(c.length));let n,s,i,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(n=a.call({lexer:this},e,r))?(e=e.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&r.length>0?r[r.length-1].raw+=`
`:r.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),s=r[r.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+n.raw,s.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text):r.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),s=r[r.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+n.raw,s.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),r.push(n);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=e.slice(1);let c;this.options.extensions.startBlock.forEach(d=>{c=d.call({lexer:this},l),typeof c=="number"&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(i=e.substring(0,a+1))}if(this.state.top&&(n=this.tokenizer.paragraph(i))){s=r[r.length-1],o&&s.type==="paragraph"?(s.raw+=`
`+n.raw,s.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):r.push(n),o=i.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),s=r[r.length-1],s&&s.type==="text"?(s.raw+=`
`+n.raw,s.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):r.push(n);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){let n,s,i,o=e,a,l,c;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)d.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(n=d.call({lexer:this},e,r))?(e=e.substring(n.raw.length),r.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),s=r[r.length-1],s&&n.type==="text"&&s.type==="text"?(s.raw+=n.raw,s.text+=n.text):r.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),s=r[r.length-1],s&&n.type==="text"&&s.type==="text"?(s.raw+=n.raw,s.text+=n.text):r.push(n);continue}if(n=this.tokenizer.emStrong(e,o,c)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),r.push(n);continue}if(n=this.tokenizer.autolink(e)){e=e.substring(n.raw.length),r.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e))){e=e.substring(n.raw.length),r.push(n);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const h=e.slice(1);let f;this.options.extensions.startInline.forEach(m=>{f=m.call({lexer:this},h),typeof f=="number"&&f>=0&&(d=Math.min(d,f))}),d<1/0&&d>=0&&(i=e.substring(0,d+1))}if(n=this.tokenizer.inlineText(i)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(c=n.raw.slice(-1)),l=!0,s=r[r.length-1],s&&s.type==="text"?(s.raw+=n.raw,s.text+=n.text):r.push(n);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return r}}class go{constructor(e){Q(this,"options");this.options=e||zr}code(e,r,n){var i;const s=(i=(r||"").match(/^\S*/))==null?void 0:i[0];return e=e.replace(/\n$/,"")+`
`,s?'<pre><code class="language-'+Ke(s)+'">'+(n?e:Ke(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:Ke(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,r){return e}heading(e,r,n){return`<h${r}>${e}</h${r}>
`}hr(){return`<hr>
`}list(e,r,n){const s=r?"ol":"ul",i=r&&n!==1?' start="'+n+'"':"";return"<"+s+i+`>
`+e+"</"+s+`>
`}listitem(e,r,n){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,r){return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,r){const n=r.header?"th":"td";return(r.align?`<${n} align="${r.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,r,n){const s=Rh(e);if(s===null)return n;e=s;let i='<a href="'+e+'"';return r&&(i+=' title="'+r+'"'),i+=">"+n+"</a>",i}image(e,r,n){const s=Rh(e);if(s===null)return n;e=s;let i=`<img src="${e}" alt="${n}"`;return r&&(i+=` title="${r}"`),i+=">",i}text(e){return e}}class Fu{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,r,n){return""+n}image(e,r,n){return""+n}br(){return""}}class At{constructor(e){Q(this,"options");Q(this,"renderer");Q(this,"textRenderer");this.options=e||zr,this.options.renderer=this.options.renderer||new go,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Fu}static parse(e,r){return new At(r).parse(e)}static parseInline(e,r){return new At(r).parseInline(e)}parse(e,r=!0){let n="";for(let s=0;s<e.length;s++){const i=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const o=i,a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){n+=a||"";continue}}switch(i.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{const o=i;n+=this.renderer.heading(this.parseInline(o.tokens),o.depth,oE(this.parseInline(o.tokens,this.textRenderer)));continue}case"code":{const o=i;n+=this.renderer.code(o.text,o.lang,!!o.escaped);continue}case"table":{const o=i;let a="",l="";for(let d=0;d<o.header.length;d++)l+=this.renderer.tablecell(this.parseInline(o.header[d].tokens),{header:!0,align:o.align[d]});a+=this.renderer.tablerow(l);let c="";for(let d=0;d<o.rows.length;d++){const h=o.rows[d];l="";for(let f=0;f<h.length;f++)l+=this.renderer.tablecell(this.parseInline(h[f].tokens),{header:!1,align:o.align[f]});c+=this.renderer.tablerow(l)}n+=this.renderer.table(a,c);continue}case"blockquote":{const o=i,a=this.parse(o.tokens);n+=this.renderer.blockquote(a);continue}case"list":{const o=i,a=o.ordered,l=o.start,c=o.loose;let d="";for(let h=0;h<o.items.length;h++){const f=o.items[h],m=f.checked,y=f.task;let w="";if(f.task){const E=this.renderer.checkbox(!!m);c?f.tokens.length>0&&f.tokens[0].type==="paragraph"?(f.tokens[0].text=E+" "+f.tokens[0].text,f.tokens[0].tokens&&f.tokens[0].tokens.length>0&&f.tokens[0].tokens[0].type==="text"&&(f.tokens[0].tokens[0].text=E+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:E+" "}):w+=E+" "}w+=this.parse(f.tokens,c),d+=this.renderer.listitem(w,y,!!m)}n+=this.renderer.list(d,a,l);continue}case"html":{const o=i;n+=this.renderer.html(o.text,o.block);continue}case"paragraph":{const o=i;n+=this.renderer.paragraph(this.parseInline(o.tokens));continue}case"text":{let o=i,a=o.tokens?this.parseInline(o.tokens):o.text;for(;s+1<e.length&&e[s+1].type==="text";)o=e[++s],a+=`
`+(o.tokens?this.parseInline(o.tokens):o.text);n+=r?this.renderer.paragraph(a):a;continue}default:{const o='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}parseInline(e,r){r=r||this.renderer;let n="";for(let s=0;s<e.length;s++){const i=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const o=this.options.extensions.renderers[i.type].call({parser:this},i);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){n+=o||"";continue}}switch(i.type){case"escape":{const o=i;n+=r.text(o.text);break}case"html":{const o=i;n+=r.html(o.text);break}case"link":{const o=i;n+=r.link(o.href,o.title,this.parseInline(o.tokens,r));break}case"image":{const o=i;n+=r.image(o.href,o.title,o.text);break}case"strong":{const o=i;n+=r.strong(this.parseInline(o.tokens,r));break}case"em":{const o=i;n+=r.em(this.parseInline(o.tokens,r));break}case"codespan":{const o=i;n+=r.codespan(o.text);break}case"br":{n+=r.br();break}case"del":{const o=i;n+=r.del(this.parseInline(o.tokens,r));break}case"text":{const o=i;n+=r.text(o.text);break}default:{const o='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}}class ds{constructor(e){Q(this,"options");this.options=e||zr}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}Q(ds,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var $r,Ol,jg;class DE{constructor(...e){Ju(this,$r);Q(this,"defaults",Lu());Q(this,"options",this.setOptions);Q(this,"parse",Fs(this,$r,Ol).call(this,Nt.lex,At.parse));Q(this,"parseInline",Fs(this,$r,Ol).call(this,Nt.lexInline,At.parseInline));Q(this,"Parser",At);Q(this,"Renderer",go);Q(this,"TextRenderer",Fu);Q(this,"Lexer",Nt);Q(this,"Tokenizer",po);Q(this,"Hooks",ds);this.use(...e)}walkTokens(e,r){var s,i;let n=[];for(const o of e)switch(n=n.concat(r.call(this,o)),o.type){case"table":{const a=o;for(const l of a.header)n=n.concat(this.walkTokens(l.tokens,r));for(const l of a.rows)for(const c of l)n=n.concat(this.walkTokens(c.tokens,r));break}case"list":{const a=o;n=n.concat(this.walkTokens(a.items,r));break}default:{const a=o;(i=(s=this.defaults.extensions)==null?void 0:s.childTokens)!=null&&i[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{const c=a[l].flat(1/0);n=n.concat(this.walkTokens(c,r))}):a.tokens&&(n=n.concat(this.walkTokens(a.tokens,r)))}}return n}use(...e){const r=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const s={...n};if(s.async=this.defaults.async||s.async||!1,n.extensions&&(n.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const o=r.renderers[i.name];o?r.renderers[i.name]=function(...a){let l=i.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:r.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=r[i.level];o?o.unshift(i.tokenizer):r[i.level]=[i.tokenizer],i.start&&(i.level==="block"?r.startBlock?r.startBlock.push(i.start):r.startBlock=[i.start]:i.level==="inline"&&(r.startInline?r.startInline.push(i.start):r.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(r.childTokens[i.name]=i.childTokens)}),s.extensions=r),n.renderer){const i=this.defaults.renderer||new go(this.defaults);for(const o in n.renderer){if(!(o in i))throw new Error(`renderer '${o}' does not exist`);if(o==="options")continue;const a=o,l=n.renderer[a],c=i[a];i[a]=(...d)=>{let h=l.apply(i,d);return h===!1&&(h=c.apply(i,d)),h||""}}s.renderer=i}if(n.tokenizer){const i=this.defaults.tokenizer||new po(this.defaults);for(const o in n.tokenizer){if(!(o in i))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const a=o,l=n.tokenizer[a],c=i[a];i[a]=(...d)=>{let h=l.apply(i,d);return h===!1&&(h=c.apply(i,d)),h}}s.tokenizer=i}if(n.hooks){const i=this.defaults.hooks||new ds;for(const o in n.hooks){if(!(o in i))throw new Error(`hook '${o}' does not exist`);if(o==="options")continue;const a=o,l=n.hooks[a],c=i[a];ds.passThroughHooks.has(o)?i[a]=d=>{if(this.defaults.async)return Promise.resolve(l.call(i,d)).then(f=>c.call(i,f));const h=l.call(i,d);return c.call(i,h)}:i[a]=(...d)=>{let h=l.apply(i,d);return h===!1&&(h=c.apply(i,d)),h}}s.hooks=i}if(n.walkTokens){const i=this.defaults.walkTokens,o=n.walkTokens;s.walkTokens=function(a){let l=[];return l.push(o.call(this,a)),i&&(l=l.concat(i.call(this,a))),l}}this.defaults={...this.defaults,...s}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,r){return Nt.lex(e,r??this.defaults)}parser(e,r){return At.parse(e,r??this.defaults)}}$r=new WeakSet,Ol=function(e,r){return(n,s)=>{const i={...s},o={...this.defaults,...i};this.defaults.async===!0&&i.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const a=Fs(this,$r,jg).call(this,!!o.silent,!!o.async);if(typeof n>"u"||n===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(n):n).then(l=>e(l,o)).then(l=>o.hooks?o.hooks.processAllTokens(l):l).then(l=>o.walkTokens?Promise.all(this.walkTokens(l,o.walkTokens)).then(()=>l):l).then(l=>r(l,o)).then(l=>o.hooks?o.hooks.postprocess(l):l).catch(a);try{o.hooks&&(n=o.hooks.preprocess(n));let l=e(n,o);o.hooks&&(l=o.hooks.processAllTokens(l)),o.walkTokens&&this.walkTokens(l,o.walkTokens);let c=r(l,o);return o.hooks&&(c=o.hooks.postprocess(c)),c}catch(l){return a(l)}}},jg=function(e,r){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const s="<p>An error occurred:</p><pre>"+Ke(n.message+"",!0)+"</pre>";return r?Promise.resolve(s):s}if(r)return Promise.reject(n);throw n}};const Mr=new DE;function W(t,e){return Mr.parse(t,e)}W.options=W.setOptions=function(t){return Mr.setOptions(t),W.defaults=Mr.defaults,bg(W.defaults),W};W.getDefaults=Lu;W.defaults=zr;W.use=function(...t){return Mr.use(...t),W.defaults=Mr.defaults,bg(W.defaults),W};W.walkTokens=function(t,e){return Mr.walkTokens(t,e)};W.parseInline=Mr.parseInline;W.Parser=At;W.parser=At.parse;W.Renderer=go;W.TextRenderer=Fu;W.Lexer=Nt;W.lexer=Nt.lex;W.Tokenizer=po;W.Hooks=ds;W.parse=W;W.options;W.setOptions;W.use;W.walkTokens;W.parseInline;At.parse;Nt.lex;const UE=({chatHistory:t,isStreaming:e,onSendMessage:r,setPage:n})=>{const{t:s,language:i,dir:o}=Ct(),[a,l]=N.useState(!1),[c,d]=N.useState(""),h=N.useRef(null),f=N.useRef(null),m=N.useRef(null),y=o==="rtl";N.useEffect(()=>{var p;a&&((p=h.current)==null||p.scrollIntoView({behavior:"smooth"}))},[t,e,a]),N.useEffect(()=>{a&&f.current&&(f.current.style.height="auto",f.current.style.height=`${f.current.scrollHeight}px`)},[c,a]);const w=p=>{const x=p.target.closest("a");if(x&&x.hasAttribute("href")){const b=x.getAttribute("href");if(b&&b.startsWith("page:")){p.preventDefault();const S=b.substring(5);n(S),l(!1)}}},E=p=>{p.preventDefault(),c.trim()&&!e&&(r(c),d(""))},v=(p,_)=>{const x=p.role==="user",b=_===t.length-1,S=e&&b&&p.role==="model"&&p.parts[0].text==="",A=W.parse(p.parts[0].text,{breaks:!0}),$=x?o==="rtl"?"justify-start":"justify-end":o==="rtl"?"justify-end":"justify-start",P=x?`bg-corp-blue-dark text-white ${o==="rtl"?"rounded-bl-lg":"rounded-br-lg"}`:`bg-slate-200 text-slate-800 ${o==="rtl"?"rounded-br-lg":"rounded-bl-lg"}`;return u.jsxs("div",{className:`flex items-end gap-3 ${$}`,children:[!x&&u.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-corp-blue text-white rounded-full flex items-center justify-center border-2 border-corp-blue-dark",children:u.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("path",{d:"M12 2L6 5.464V12v6.536L12 22l6-3.464V12V5.464L12 2z"}),u.jsx("path",{d:"M6 12h12"})]})}),u.jsxs("div",{className:`max-w-xl p-4 rounded-2xl shadow-md ${P}`,children:[S?u.jsxs("div",{className:"flex items-center space-x-1 p-2",children:[u.jsx("span",{className:"w-2 h-2 bg-corp-blue-dark rounded-full animate-pulse",style:{animationDelay:"0s"}}),u.jsx("span",{className:"w-2 h-2 bg-corp-blue-dark rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),u.jsx("span",{className:"w-2 h-2 bg-corp-blue-dark rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]}):u.jsx("div",{className:`prose prose-sm max-w-none prose-p:my-2 first:prose-p:mt-0 last:prose-p:mb-0 ${o==="rtl"?"text-right":"text-left"}`,dangerouslySetInnerHTML:{__html:A}}),e&&b&&!x&&p.parts[0].text!==""&&u.jsx("span",{className:"inline-block w-2 h-4 bg-slate-700 ml-1 animate-pulse"})]})]},_)},g=!e&&t.length>0&&t[t.length-1].role==="model";return u.jsx(u.Fragment,{children:u.jsxs("div",{className:`fixed bottom-6 ${y?"left-6":"right-6"} z-50`,children:[a&&u.jsxs("div",{className:`absolute bottom-20 ${y?"left-0":"right-0"} w-80 sm:w-96 bg-white/80 backdrop-blur-md rounded-lg shadow-2xl border border-slate-200 flex flex-col h-[60vh] max-h-[500px] transition-all duration-300 origin-bottom-${y?"left":"right"} animate-fade-in`,children:[u.jsxs("div",{className:"flex-shrink-0 p-3 bg-slate-100 rounded-t-lg flex justify-between items-center border-b border-slate-200",children:[u.jsx("h3",{className:"text-md font-bold text-slate-800",children:s("aiChat.title")}),u.jsx("button",{onClick:()=>l(!1),className:"p-1 rounded-full text-slate-500 hover:bg-slate-200 hover:text-slate-800",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),u.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto",ref:m,onClick:w,children:[t.map(v),u.jsx("div",{ref:h})]}),g&&u.jsx("div",{className:"px-3 pb-2 border-t border-slate-200 pt-2",children:u.jsx("div",{className:"flex flex-wrap gap-2",children:s("aiChat.suggestions").map((p,_)=>u.jsx("button",{onClick:()=>r(p),className:"px-3 py-1.5 bg-slate-200 text-slate-700 text-xs font-medium rounded-full hover:bg-slate-300 hover:text-slate-900 transition-colors",children:p},_))})}),u.jsx("div",{className:"p-3 border-t border-slate-200 bg-slate-50 rounded-b-lg",children:u.jsxs("form",{onSubmit:E,className:"flex items-start gap-2",children:[u.jsx("textarea",{ref:f,value:c,onChange:p=>d(p.target.value),onKeyDown:p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),E(p))},placeholder:s("aiChat.placeholder"),className:"flex-grow bg-slate-100 border-slate-300 rounded-lg p-2 focus:outline-none focus:ring-1 focus:ring-corp-blue-dark text-slate-800 text-sm resize-none max-h-24",rows:1,disabled:e,"aria-label":s("aiChat.placeholder")}),u.jsx("button",{type:"submit",disabled:e||!c.trim(),className:"p-2 bg-corp-blue-dark text-white rounded-full hover:bg-corp-blue-dark/90 transition-colors disabled:bg-slate-400 disabled:cursor-not-allowed flex-shrink-0",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})})]})})]}),u.jsx("button",{onClick:()=>l(!a),className:"w-16 h-16 bg-corp-blue-dark rounded-full flex items-center justify-center text-white shadow-lg transform transition-transform hover:scale-110","aria-label":"Open AI Chat",children:a?u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})})]})})},ME=({setPage:t})=>{const{t:e}=Ct(),r={Products:[{label:e("products.food_feed.title"),page:"home"},{label:e("products.microbiology.title"),page:"home"},{label:e("products.environmental.title"),page:"home"}],Services:[{label:e("header.recommendationEngine"),page:"test_recommender"},{label:e("header.tools"),page:"tools"},{label:e("header.distributorFinder"),page:"sample_dropoff"},{label:e("header.partnerships"),page:"partnerships"}]};return u.jsxs("footer",{id:"footer",className:"bg-slate-900 text-slate-300",children:[u.jsx("div",{className:"bg-corp-red",children:u.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-10 grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-white tracking-tight",children:e("home.newsletter.title")}),u.jsx("p",{className:"text-sm text-red-100 mt-1 font-medium",children:e("home.newsletter.subtitle")})]}),u.jsxs("form",{className:"flex items-center gap-3",children:[u.jsx("input",{type:"email",placeholder:e("home.newsletter.placeholder"),className:"w-full bg-white/10 border border-white/20 rounded-lg p-3 text-white placeholder-white/70 focus:ring-2 focus:ring-white/50 focus:outline-none focus:bg-white/20 transition-all text-sm","aria-label":"Email for newsletter"}),u.jsx("button",{type:"submit",className:"px-6 py-3 bg-white text-corp-red font-bold rounded-lg hover:bg-red-50 transition-colors shadow-lg",children:e("home.newsletter.button")})]})]})}),u.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-16",children:u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-12",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsx("h3",{className:"font-bold text-white text-lg border-b border-slate-800 pb-3 inline-block",children:e("home.footer.col1.title")}),u.jsxs("div",{className:"space-y-4 text-sm leading-relaxed text-slate-400",children:[u.jsxs("div",{className:"flex items-start gap-3 group",children:[u.jsx("div",{className:"mt-1 p-1 bg-slate-800 rounded text-corp-red group-hover:text-white group-hover:bg-corp-red transition-colors",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),u.jsx("p",{className:"group-hover:text-slate-200 transition-colors",children:e("footer.contactInfo")})]}),u.jsxs("div",{className:"flex items-center gap-3 group",children:[u.jsx("div",{className:"p-1 bg-slate-800 rounded text-corp-red group-hover:text-white group-hover:bg-corp-red transition-colors",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"})})}),u.jsx("a",{href:"tel:+982122041655",className:"hover:text-white dir-ltr font-mono font-bold text-lg tracking-wide group-hover:text-white transition-colors",children:e("home.infoBar.call.value")})]}),u.jsxs("div",{className:"flex items-center gap-3 group",children:[u.jsx("div",{className:"p-1 bg-slate-800 rounded text-corp-red group-hover:text-white group-hover:bg-corp-red transition-colors",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:[u.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),u.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})}),u.jsx("a",{href:"mailto:sales@steelonline20.com",className:"hover:text-white font-mono group-hover:text-white transition-colors",children:"sales@steelonline20.com"})]}),u.jsxs("div",{className:"flex items-center gap-3 group",children:[u.jsx("div",{className:"p-1 bg-slate-800 rounded text-corp-red group-hover:text-white group-hover:bg-corp-red transition-colors",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),u.jsx("p",{className:"group-hover:text-slate-200 transition-colors",children:e("footer.workingHours")})]})]}),u.jsxs("div",{className:"pt-4 border-t border-slate-800 mt-2",children:[u.jsx("h4",{className:"text-xs font-bold text-slate-500 mb-3 uppercase tracking-wider",children:"Find us on:"}),u.jsxs("div",{className:"flex gap-2 flex-wrap",children:[u.jsxs("a",{href:"https://www.google.com/maps/search/?api=1&query=35.78193,51.42218",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1.5 bg-slate-800 hover:bg-slate-700 text-xs rounded border border-slate-700 hover:border-slate-600 transition-all flex items-center gap-2 group",children:[u.jsx("img",{src:"https://www.google.com/images/branding/product/ico/maps15_bnuw3a_32dp.ico",alt:"",className:"w-3 h-3 grayscale group-hover:grayscale-0 transition-all",width:"12",height:"12"}),u.jsx("span",{className:"group-hover:text-white",children:"Google"})]}),u.jsxs("a",{href:"https://neshan.org/maps/municipal/836ca735770943cdb97e6566686dac0d",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1.5 bg-slate-800 hover:bg-slate-700 text-xs rounded border border-slate-700 hover:border-slate-600 transition-all flex items-center gap-2 group",children:[u.jsx("img",{src:"https://neshan.org/favicon.ico",alt:"",className:"w-3 h-3 grayscale group-hover:grayscale-0 transition-all",width:"12",height:"12"}),u.jsx("span",{className:"group-hover:text-white",children:"Neshan"})]}),u.jsxs("a",{href:"https://balad.ir/maps/tehran/amaniyeh#14.43/35.78193/51.42218",target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1.5 bg-slate-800 hover:bg-slate-700 text-xs rounded border border-slate-700 hover:border-slate-600 transition-all flex items-center gap-2 group",children:[u.jsx("img",{src:"https://balad.ir/favicon.ico",alt:"",className:"w-3 h-3 grayscale group-hover:grayscale-0 transition-all",width:"12",height:"12"}),u.jsx("span",{className:"group-hover:text-white",children:"Balad"})]})]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-white text-lg border-b border-slate-800 pb-3 inline-block",children:e("home.footer.col2.title")}),u.jsx("ul",{className:"space-y-3 mt-6 text-sm",children:r.Products.map((n,s)=>u.jsx("li",{children:u.jsxs("button",{onClick:()=>t(n.page),className:"hover:text-corp-blue-light transition-colors text-left rtl:text-right w-full flex items-center gap-2 group",children:[u.jsx("span",{className:"w-1.5 h-1.5 bg-slate-600 rounded-full group-hover:bg-corp-blue-light transition-colors"}),n.label]})},s))})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-white text-lg border-b border-slate-800 pb-3 inline-block",children:e("home.footer.col3.title")}),u.jsx("ul",{className:"space-y-3 mt-6 text-sm",children:r.Services.map((n,s)=>u.jsx("li",{children:u.jsxs("button",{onClick:()=>t(n.page),className:"hover:text-corp-blue-light transition-colors text-left w-full rtl:text-right flex items-center gap-2 group",children:[u.jsx("span",{className:"w-1.5 h-1.5 bg-slate-600 rounded-full group-hover:bg-corp-blue-light transition-colors"}),n.label]})},s))})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-white text-lg border-b border-slate-800 pb-3 inline-block",children:e("home.footer.col4.title")}),u.jsxs("form",{className:"space-y-3 mt-6",children:[u.jsx("input",{type:"email",placeholder:e("home.footer.col4.email"),className:"w-full bg-slate-800 border-slate-700 rounded-lg p-2.5 text-white placeholder-slate-500 text-sm focus:ring-1 focus:ring-corp-blue focus:border-corp-blue focus:outline-none transition-all","aria-label":"Your email"}),u.jsx("textarea",{placeholder:e("home.footer.col4.message"),rows:3,className:"w-full bg-slate-800 border-slate-700 rounded-lg p-2.5 text-white placeholder-slate-500 text-sm focus:ring-1 focus:ring-corp-blue focus:border-corp-blue focus:outline-none transition-all","aria-label":"Your message"}),u.jsx("button",{type:"submit",className:"w-full px-4 py-2.5 bg-slate-700 text-white font-semibold rounded-lg hover:bg-corp-blue transition-colors text-sm border border-slate-600 hover:border-corp-blue",children:e("home.footer.col4.button")})]})]})]})}),u.jsx("div",{className:"bg-slate-950 border-t border-slate-800",children:u.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-slate-500",children:[u.jsx("p",{className:"font-medium",children:e("footer.copyright")}),u.jsxs("div",{className:"flex gap-4 items-center",children:[u.jsx("span",{className:"opacity-50 hover:opacity-100 transition-opacity",children:"Privacy Policy"}),u.jsx("span",{className:"w-1 h-1 bg-slate-700 rounded-full"}),u.jsx("span",{className:"opacity-50 hover:opacity-100 transition-opacity",children:"Terms of Service"}),u.jsx("div",{className:"w-px h-4 bg-slate-700 mx-2"}),u.jsx("img",{src:"https://trustseal.enamad.ir/logo.aspx?id=155864&Code=ar6IDMFRdHkoKTNAXlsv",alt:"Enamad Trust Seal",className:"h-8 w-auto grayscale opacity-50 hover:grayscale-0 hover:opacity-100 transition-all cursor-pointer",width:"32",height:"32"})]})]})})]})},De=null,$E=()=>{throw new Error("API key not configured. Please add your Gemini API key.")},Ue=t=>{let e=t.replace(/```json|```/g,"").trim();const r=e.indexOf("{"),n=e.indexOf("[");if(r===-1&&n===-1)return e;let s=-1,i="object";r!==-1&&(n===-1||r<n)?(s=r,i="object"):(s=n,i="array");let o=0;for(let a=s;a<e.length;a++){const l=e[a];if(i==="object"?l==="{"?o++:l==="}"&&o--:l==="["?o++:l==="]"&&o--,o===0)return e.substring(s,a+1)}return e.substring(s)},BE={type:R.OBJECT,properties:{strategy:{type:R.ARRAY,items:{type:R.STRING},description:"List of 3 specific technical or content SEO strategies based on the page metadata."},directories:{type:R.ARRAY,items:{type:R.STRING},description:"List of 3 authoritative local directories or platforms to register on for backlinks."},keywords:{type:R.ARRAY,items:{type:R.STRING},description:"List of 5 target LSI keywords based on page content."}}},FE=async(t,e)=>{const r=`
        Act as a Senior SEO Specialist for the Industrial/Steel sector in Iran.
        Perform a comprehensive analysis of the following page metadata and content for "Steel Online 20".
        
        Page Metadata:
        - Page Title: "${t.title}"
        - Meta Description: "${t.description}"
        - H1 Tag: "${t.h1}"
        - Content Sample: "${t.contentSample.substring(0,500)}..."

        Your Task:
        1. Evaluate the Title, Description, and H1 for keyword optimization and click-through rate (CTR).
        2. Generate an actionable SEO Strategy based *specifically* on the provided metadata (e.g., "Shorten title to X", "Include keyword Y in Description").
        3. Identify 3 high-value local directories or platforms where this specific page/business should be registered to improve off-page SEO (e.g. Ketab Avval, Wikipedia Persian, specialized steel forums).
        4. Suggest 5 LSI keywords relevant to the content.

        Provide the output in ${e}.
        Return ONLY valid JSON matching the schema.
    `,s=await $E().models.generateContent({model:"gemini-2.5-flash",contents:r,config:{responseMimeType:"application/json",responseSchema:BE}});if(!s.text)throw new Error("No response from AI");return JSON.parse(Ue(s.text))},zE={type:R.OBJECT,properties:{primaryAssessment:{type:R.STRING,description:"A concise primary assessment of the construction project needs (e.g., 'Heavy Steel Structure for Industrial Shed')."},assessmentDescription:{type:R.STRING,description:"A one-paragraph summary describing the structural requirements based on the input."},potentialIssues:{type:R.ARRAY,items:{type:R.OBJECT,properties:{name:{type:R.STRING,description:"Name of a technical consideration (e.g., Seismic Load, Corrosion, Weldability)."},description:{type:R.STRING,description:"Brief explanation of why this is important."},relevance:{type:R.STRING,enum:["High","Medium","Low"]}}}},recommendedTests:{type:R.ARRAY,items:{type:R.STRING},description:"A list of specific steel products recommended (e.g., 'IPE 270 Beam - Esfahan', 'Rebar Size 16 - Zob Ahan')."},managementAdvice:{type:R.ARRAY,items:{type:R.STRING},description:"A list of actionable advice for purchasing, logistics, or storage of steel."},nextStepsAndExpertConsultation:{type:R.STRING,description:"Guidance on how to proceed with the purchase and when to consult a structural engineer."},disclaimer:{type:R.STRING,description:"A standard disclaimer stating this is an AI estimate and not a certified engineering plan."}}},HE={type:R.ARRAY,items:{type:R.OBJECT,properties:{title:{type:R.STRING},description:{type:R.STRING,description:"A concise, helpful description of why this result matches the query."},targetPage:{type:R.STRING,enum:["home","test_recommender","sample_dropoff","ai_consultant","content_hub","our_experts","partnerships","blog","article","tools","iron_snapp"]},targetId:{type:R.NUMBER,description:"If the targetPage is 'article', this is the ID of the article."},relevanceScore:{type:R.NUMBER,description:"A score from 0.0 to 1.0 indicating how relevant this result is to the query."}},required:["title","description","targetPage","relevanceScore"]}},GE={type:R.OBJECT,properties:{title:{type:R.STRING,description:"A catchy title for the video."},hook:{type:R.STRING,description:"The first 3 seconds visual and audio hook to grab attention."},caption:{type:R.STRING,description:"A short, engaging caption for the social media post to accompany the video."},scenes:{type:R.ARRAY,items:{type:R.OBJECT,properties:{timecode:{type:R.STRING,description:"e.g., 0:00-0:03"},visual:{type:R.STRING,description:"Detailed visual description for the scene."},voiceover:{type:R.STRING,description:"The exact words to be spoken. MUST be in the requested language."},audio_cues:{type:R.STRING,description:"Sound effects (SFX) or background music mood."},emotion:{type:R.STRING,description:"The emotion and tone of the voiceover (e.g., Excited, Serious, Educational)."}}}},cta:{type:R.STRING,description:"The Call to Action for the viewer."},hashtags:{type:R.ARRAY,items:{type:R.STRING}}}},VE={type:R.OBJECT,properties:{bestTime:{type:R.STRING,description:"Specific best time to publish this content (e.g., 'Tuesday at 6:00 PM')."},algorithmTip:{type:R.STRING,description:"A specific tip to boost engagement based on the platform's current algorithm."},nextPostIdea:{type:R.STRING,description:"A concept for a follow-up post to keep momentum."},reasoning:{type:R.STRING,description:"Why this strategy works."}}},WE={type:R.OBJECT,properties:{allowed:{type:R.BOOLEAN},score:{type:R.NUMBER,description:"Credit score out of 1000."},maxAmount:{type:R.STRING,description:"Max credit limit formatted."},reason:{type:R.STRING,description:"Explanation of the decision."}}},qE=async(t,e,r)=>{const n=`
        Analyze the following construction/steel project inquiry for Steel Online 20, a leading steel marketplace.
        Language for response: ${r}.

        Project Details:
        - Product Category: ${t.sampleType}
        - Tonnage / Destination: ${t.batchSizeOrigin||"Not provided"}
        - Project Description / Requirements: ${t.suspectedIssue}
        - Delivery Timeframe: ${t.sampleAge||"Not provided"}
        - Structural Details: ${t.specificConditions||"Not provided"}
        - Preferred Brands: ${t.controlSampleInfo||"Not provided"}
        - Budget/Constraints: ${t.previousTests||"Not provided"}
        - Additional Services: ${t.additives||"Not provided"}

        Based on these details (and the provided plan image if any), act as a structural steel expert. Generate a JSON response with a primary assessment of the material needs, technical considerations (potential issues like corrosion in humid areas), recommended specific products (e.g. 'IPE 180 Esfahan', 'Rebar 16 Zob Ahan'), and advice on purchasing/logistics.
        Provide clear guidance on next steps (e.g. 'Request formal invoice').
        Include a disclaimer that this is an AI estimate and requires engineering approval.
    `,s=e?[{text:n},e]:[{text:n}],i=await De.models.generateContent({model:"gemini-2.5-flash",contents:{parts:s},config:{responseMimeType:"application/json",responseSchema:zE}});if(!i.text)throw new Error("No response from AI");const o=JSON.parse(Ue(i.text));return o.recommendedTests&&Array.isArray(o.recommendedTests)&&(o.recommendedTests=o.recommendedTests.map(a=>typeof a=="string"?a:typeof a=="object"&&a!==null?Object.entries(a).map(([l,c])=>`${l}: ${c}`).join(", "):String(a))),o},KE=async(t,e)=>{const r=`
        For the following steel products: ${t.join(", ")}.
        Provide a detailed price and spec estimation in JSON format.
        Use Google Search to find the most current approximate prices in the Iranian market (Tomans).
        
        It is CRITICAL that for each product, you provide an 'availability' status (e.g., 'In Stock', 'Factory Order').
        Also include the product's 'application' (purpose), its 'standard' (methodology like DIN/ASTM), and an 'estimatedCost' (e.g., "25,000 Tomans/Kg" or "Contact for price").
        The response language should be ${e}.
        
        Return ONLY a JSON array where each object has: "testName", "purpose", "methodology", "turnaroundTime", "estimatedCost".
    `,n=await De.models.generateContent({model:"gemini-2.5-flash",contents:r,config:{tools:[{googleSearch:{}}]}});if(!n.text)throw new Error("No response from AI");return JSON.parse(Ue(n.text))},YE=async(t,e,r,n)=>{const s=e?`The user is near latitude ${e.lat} and longitude ${e.lon}.`:"The user has not provided their location; base the search on the query.",i=n==="distributor"?"Steel Warehouse / Iron Market":"Official Steel Dealer",o=`
      A user is looking for a ${i} in Iran.
      Search Query: "${t}"
      ${s}
      
      Use Google Search to find real ${i}s in Iran matching the query.
      Generate a list of 5 plausible ${i}s based on the query (focus on major hubs like Shadabad, Isfahan Iron Market, etc. if query is generic).
      For each, provide a name, full address, phone number, and a website (if found, otherwise fictional ending in ".example.com").
      Return the result as a JSON array of objects, where each object has "name", "address", "phone", and "website" keys.
      The results should be appropriate for the language: ${r}.
    `,a=await De.models.generateContent({model:"gemini-2.5-flash",contents:o,config:{tools:[{googleSearch:{}}]}});try{if(!a.text)throw new Error("No response from AI");return JSON.parse(Ue(a.text)).map(c=>({...c,type:n}))}catch{return console.error("Failed to parse provider search results:",a.text),[{name:"Error parsing results",address:"Could not read AI response.",phone:"",type:n}]}},JE=async(t,e,r)=>{const n=`
        You are a highly intelligent semantic search engine for the "Steel Online 20" website. Your task is to analyze a user's query and a detailed site index to provide the most relevant results.

        User Query: "${t}"

        Detailed Site Index:
        ---
        ${e}
        ---

        Instructions:
        1.  **Analyze Intent**: Understand if the user is looking for a specific product price (e.g., "Rebar 16"), a tool (e.g., "advisor", "weight table", "shipping"), a person, or an article.
        2.  **Semantic Matching**: Match keywords and concepts.
        3.  **Rank and Score**: Identify up to 3 results. Score 0.0 to 1.0.
        4.  **Generate Description**: Write a helpful description in ${r}.
        5.  **Target ID**: Include if article.
        6.  **Format Output**: JSON array.
    `,s=await De.models.generateContent({model:"gemini-2.5-pro",contents:n,config:{responseMimeType:"application/json",responseSchema:HE}});if(!s.text)throw new Error("No response from AI");const i=JSON.parse(Ue(s.text));return i.sort((o,a)=>a.relevanceScore-o.relevanceScore),i},QE=async t=>{const e=`
        Identify three current and relevant trends in the Iran and Global Steel Market.
        Focus on price fluctuations of Rebar, Beams, Dollar exchange rate impact, and export regulations.
        For each trend, provide:
        1. "title": A short title.
        2. "summary": A one-sentence summary.
        3. "contentIdea": A specific, engaging prompt to write a social media post about this trend.
        
        IMPORTANT: Return ONLY a valid JSON array.
        The content must be in ${t}.
    `,r=await De.models.generateContent({model:"gemini-2.5-flash",contents:e,config:{tools:[{googleSearch:{}}]}});if(!r.text)throw new Error("No response from AI");return JSON.parse(Ue(r.text))},ZE=async(t,e,r)=>{const n=`
        You are a social media manager for "Steel Online 20", a steel marketplace.
        Generate content for a social media post on: ${e}.
        Topic: "${t}".
        Audience: Contractors, Builders, Iron Sellers.
        Return JSON with "postText" and "imagePrompt" (e.g., 'Stacks of rusted rebar on a construction site at sunset').

        The response language should be ${r}.
    `,s=await De.models.generateContent({model:"gemini-2.5-flash",contents:n});if(!s.text)throw new Error("No response from AI");return JSON.parse(Ue(s.text))},z1=async(t,e,r)=>{const n=`
        Create a Director's Script for a short vertical video about: "${t}" for Steel Online 20.
        Target Platform: ${e}.
        Language: ${r}.
        
        Output MUST be valid JSON adhering to the videoScriptSchema.
        Focus on industrial visuals, construction sites, and steel close-ups.
    `,s=await De.models.generateContent({model:"gemini-2.5-flash",contents:n,config:{responseMimeType:"application/json",responseSchema:GE}});if(!s.text)throw new Error("No response from AI");return JSON.parse(Ue(s.text))},H1=async(t,e,r)=>{const n=`
        Act as a Social Media Strategist for the Steel Industry on ${e}.
        Topic: "${t}"
        Target Audience: Construction companies, traders.
        Language: ${r}.

        Return JSON with "bestTime", "algorithmTip", "nextPostIdea", "reasoning".
    `,s=await De.models.generateContent({model:"gemini-2.5-flash",contents:n,config:{responseMimeType:"application/json",responseSchema:VE}});if(!s.text)throw new Error("No response from AI");return JSON.parse(Ue(s.text))},G1=async t=>{const e=`
        Find 5 best AI video generation tools suitable for creating industrial/construction content.
        Compare specifically for a user creating content in ${t}.
        Return JSON array of objects with name, cost, farsiSupport, features, qualityRating.
    `,r=await De.models.generateContent({model:"gemini-2.5-flash",contents:e,config:{tools:[{googleSearch:{}}]}});if(!r.text)throw new Error("No response from AI");return JSON.parse(Ue(r.text))},XE=async t=>{var r,n,s;const e=await De.models.generateImages({model:"imagen-4.0-generate-001",prompt:t,config:{numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:"1:1"}});if(!((s=(n=(r=e.generatedImages)==null?void 0:r[0])==null?void 0:n.image)!=null&&s.imageBytes))throw new Error("No image generated");return e.generatedImages[0].image.imageBytes},ex=async(t,e,r)=>{const n=`
      Adapt the following social media post (from ${e}) into a blog post for Steel Online 20.
      Create a compelling "title" and expand the "content" to be detailed and analytical (markdown format).
      Response language: ${r}.

      Original Post:
      "${t}"
    `,s=await De.models.generateContent({model:"gemini-2.5-flash",contents:n,config:{responseMimeType:"application/json",responseSchema:null}});if(!s.text)throw new Error("No response from AI");return JSON.parse(Ue(s.text))},V1=async(t,e)=>{const r=`
        Based on the construction project description below, infer likely details for:
        - "specificConditions" (Structural Details, e.g. Concrete structure)
        - "controlSampleInfo" (Preferred Brands, e.g. Esfahan)
        - "sampleAge" (Delivery Time, e.g. Immediate)
        
        Return JSON with keys: "specificConditions", "controlSampleInfo", "sampleAge".
        Response language: ${e}.

        Description: "${t}"
    `,n=await De.models.generateContent({model:"gemini-2.5-flash",contents:r});if(!n.text)throw new Error("No response from AI");return JSON.parse(Ue(n.text))},W1=async(t,e)=>{const r=`
        Calculate the standard weight for the following steel product: "${t}".
        Use standard tables (DIN, Stahl, or Iranian standards like Esfahan Steel).
        
        Return a JSON object with:
        1. "product": The standardized name of the product.
        2. "weight": The calculated weight per branch (12m) or per meter (e.g., "14.5 Kg per branch").
        3. "details": A brief technical note about the standard used (e.g., "Based on DIN 1025 standard for IPE 14").
        
        Response language: ${e}.
    `,n=await De.models.generateContent({model:"gemini-2.5-flash",contents:r});if(!n.text)throw new Error("No response from AI");return JSON.parse(Ue(n.text))},q1=async(t,e)=>{const r=`
        Estimate the shipping cost for a truckload (20 tons) of steel for the following route in Iran: "${t}".
        Use Google Search to find current freight rates or distances if needed.
        
        Return a JSON object with:
        1. "route": The verified route (Origin -> Destination).
        2. "estimatedCost": A price range in Tomans (e.g., "8,000,000 - 10,000,000 Tomans").
        3. "vehicleType": Recommended vehicle type (e.g., "Trailer 18-wheeler").
        
        Response language: ${e}.
        Note: Prices should be realistic estimates for current Iran transport rates.
    `,n=await De.models.generateContent({model:"gemini-2.5-flash",contents:r,config:{tools:[{googleSearch:{}}]}});if(!n.text)throw new Error("No response from AI");return JSON.parse(Ue(n.text))},K1=async(t,e,r)=>{const n=`
        Act as the 'Credit Manager' for the IronSnapp marketplace.
        A user wants to buy steel worth approx ${t} using a ${e}-month check.
        
        Randomly simulate a credit check result.
        - 80% chance of 'allowed: true' with a high score (600-900).
        - 20% chance of 'allowed: false' with a reason (e.g., 'Recent bounced check', 'Low credit score', 'Amount exceeds limit').
        
        Response Language: ${r}.
        Return ONLY valid JSON conforming to creditCheckSchema.
    `,s=await De.models.generateContent({model:"gemini-2.5-flash",contents:n,config:{responseMimeType:"application/json",responseSchema:WE}});if(!s.text)throw new Error("No response from AI");return JSON.parse(Ue(s.text))},tx=[{number:"88219901",amount:25e8,due_date:"1403/04/15",status:"pending",drawer:"Tehran Sazeh Co.",bank:"Mellat"},{number:"77210022",amount:12e8,due_date:"1403/04/16",status:"pending",drawer:"Alavi Trading",bank:"Saderat"},{number:"66551122",amount:45e7,due_date:"1403/04/18",status:"pending",drawer:"Pars Metal",bank:"Sepah"},{number:"11223344",amount:32e8,due_date:"1403/04/10",status:"bounced",drawer:"Omran Gostar",bank:"Melli"},{number:"99887766",amount:5e9,due_date:"1403/04/01",status:"cleared",drawer:"Zob Ahan Isfahan",bank:"Tejarat"}],rx=[{title:"Check #1298 due tomorrow (2.5B IRR)",type:"check_due",severity:"critical",date:"Today",is_read:!1},{title:"Suspicious transaction detected: Invoice #9921",type:"fraud_detected",severity:"critical",date:"Yesterday",is_read:!1},{title:'Customer "Steel Pars" exceeded credit limit',type:"credit_limit",severity:"warning",date:"Yesterday",is_read:!1},{title:"Discrepancy in Bank Reconciliation (Mellat)",type:"discrepancy",severity:"warning",date:"2 days ago",is_read:!0},{title:"System backup completed successfully",type:"system",severity:"info",date:"3 days ago",is_read:!0}],nx=[{name:"Tehran Sazeh Co.",type:"company",credit_score:750,credit_limit:5e10,used_credit:12e9,risk_level:"low"},{name:"Omran Gostar",type:"company",credit_score:420,credit_limit:1e10,used_credit:95e8,risk_level:"high"},{name:"Ali Rezaei",type:"individual",credit_score:680,credit_limit:5e9,used_credit:2e9,risk_level:"medium"}],Y1=async()=>{try{const{error:t,count:e}=await le.from("financial_checks").select("*",{count:"exact",head:!0});if(t)throw t;return e===0?(console.log("Seeding Database..."),await le.from("financial_checks").insert(tx),await le.from("audit_alerts").insert(rx),await le.from("customer_credits").insert(nx),{success:!0,message:"Database seeded successfully."}):{success:!0,message:"Database already populated."}}catch(t){return console.error("Database connection/seeding failed:",t),{success:!1,error:t.message||"Unknown error"}}},J1=async()=>{const t=[];t.push({step:"Init",status:"info",message:"Starting diagnostics..."});try{const{data:e,error:r}=await le.from("financial_checks").select("count",{count:"exact",head:!0});if(r)throw t.push({step:"Read Check",status:"error",message:`Read failed: ${r.message} (Code: ${r.code})`}),new Error("Read failed");t.push({step:"Read Check",status:"success",message:"Read successful. Table accessible."});const{error:n}=await le.from("audit_alerts").insert({title:"Diagnostic Test",type:"system",severity:"info",date:new Date().toISOString(),is_read:!0});if(n)throw t.push({step:"Write Check",status:"error",message:`Write failed: ${n.message} (Code: ${n.code})`}),new Error("Write failed");t.push({step:"Write Check",status:"success",message:"Write successful. RLS policies likely correct."})}catch{t.push({step:"Diagnostics Failed",status:"error",message:"Stopping diagnostics due to error."})}return t},Q1=async()=>{try{const{data:t,error:e}=await le.from("financial_checks").select("amount, status");if(e)throw e;if(t){const r=t.reduce((o,a)=>o+(a.amount||0),0),n=t.length,s=t.filter(o=>o.status==="bounced").reduce((o,a)=>o+(a.amount||0),0),i=t.filter(o=>o.status==="pending").length;return{totalChecksAmount:r,totalChecksCount:n,checksDueThisWeekAmount:r*.2,checksDueThisWeekCount:i,bouncedChecksAmount:s,cashBalance:128e8,documentsReviewed:1402,discrepanciesFound:12,fraudCases:3,internalControlScore:78,dueThisWeekCount:i,dueThisWeekAmount:r*.2,bouncedAmount:s,controlScore:78,docsReviewed:1402}}}catch{console.warn("Using fallback stats due to DB error or empty DB")}return{totalChecksAmount:0,totalChecksCount:0,checksDueThisWeekAmount:0,checksDueThisWeekCount:0,bouncedChecksAmount:0,cashBalance:0,documentsReviewed:0,discrepanciesFound:0,fraudCases:0,internalControlScore:0,dueThisWeekCount:0,dueThisWeekAmount:0,bouncedAmount:0,controlScore:0,docsReviewed:0}},Z1=async(t="en")=>{const{data:e,error:r}=await le.from("audit_alerts").select("*").order("created_at",{ascending:!1});return r||!e?[]:e.map(n=>({id:n.id,title:n.title,type:n.type,severity:n.severity,date:n.date,isRead:n.is_read}))},X1=async()=>{const{data:t,error:e}=await le.from("financial_checks").select("*").order("created_at",{ascending:!1});return e||!t?[]:t.map(r=>({id:r.id,number:r.number,amount:r.amount,dueDate:r.due_date,status:r.status,drawer:r.drawer,bank:r.bank,checkNumber:r.number,riskScore:Math.floor(Math.random()*100)}))},eb=async(t="en")=>{const e={Invoice:t==="fa"?"":"Invoice",Check:t==="fa"?"":"Check",Contract:t==="fa"?"":"Contract"};return[{id:"DOC-2024-001",type:e.Invoice,title:t==="fa"?"  #":"Purchase Inv #4421",amount:45e7,status:"approved",riskScore:12,date:"1403/04/12"},{id:"DOC-2024-002",type:e.Check,title:t==="fa"?"  #":"Check Image #8821",amount:25e8,status:"flagged",riskScore:85,date:"1403/04/12"},{id:"DOC-2024-003",type:e.Contract,title:t==="fa"?"  - ":"Sales Contract - Alavi",amount:12e9,status:"pending",riskScore:45,date:"1403/04/11"}]},tb=async()=>{const{data:t,error:e}=await le.from("customer_credits").select("*");return e||!t?[]:t.map(r=>({id:r.id,name:r.name,type:r.type,creditScore:r.credit_score,creditLimit:r.credit_limit,usedCredit:r.used_credit,riskLevel:r.risk_level}))},sx=async(t,e)=>await le.from("seo_reports").insert({url:t,score:e.score,metrics:e.metrics,recommendations:e.aiRecommendations}),ix=async()=>{const{data:t,error:e}=await le.from("seo_reports").select("*").order("created_at",{ascending:!1});if(e)throw e;return t},ox={error:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),success:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),info:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},ax={error:{bg:"bg-red-50",text:"text-red-800",icon:"text-red-500",border:"border-red-300"},success:{bg:"bg-green-50",text:"text-green-800",icon:"text-green-500",border:"border-green-300"},info:{bg:"bg-blue-50",text:"text-blue-800",icon:"text-blue-500",border:"border-blue-300"}},lx=({id:t,message:e,type:r,onClose:n})=>{const[s,i]=N.useState(!1);N.useEffect(()=>{const c=setTimeout(()=>{o()},5e3);return()=>clearTimeout(c)},[]);const o=()=>{i(!0),setTimeout(()=>n(t),300)},a=ax[r],l=ox[r];return u.jsxs("div",{role:"alert",className:`
        w-full max-w-sm rounded-lg shadow-2xl bg-opacity-90 backdrop-blur-md p-4 flex items-start gap-4 transition-all duration-300 ease-in-out
        ${a.bg} ${a.text} border-l-4 ${a.border}
        ${s?"opacity-0 translate-x-full":"opacity-100 translate-x-0"}
      `,children:[u.jsx("div",{className:`flex-shrink-0 ${a.icon}`,children:l}),u.jsx("div",{className:"flex-grow text-sm font-medium",children:e}),u.jsx("button",{onClick:o,className:"flex-shrink-0 p-1 -m-1 rounded-full hover:bg-black/10","aria-label":"Close",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})},Pg=yo.createContext(null),Lg=()=>{const t=yo.useContext(Pg);if(!t)throw new Error("useToast must be used within a ToastProvider");return t},ux=({children:t})=>{const[e,r]=N.useState([]),n=(i,o)=>{try{r(a=>[...a,{id:Date.now(),message:i,type:o}])}catch(a){console.error("Failed to add toast:",a)}},s=i=>{try{r(o=>o.filter(a=>a.id!==i))}catch(o){console.error("Failed to remove toast:",o)}};return u.jsxs(Pg.Provider,{value:{addToast:n},children:[t,u.jsx("div",{"aria-live":"assertive",className:"fixed inset-0 pointer-events-none p-4 sm:p-6 flex flex-col items-end justify-start z-[100] gap-3",children:e.map(i=>u.jsx(lx,{...i,onClose:s},i.id))})]})},cx=({status:t,labels:e})=>{const n={pass:"bg-green-100 text-green-800",fail:"bg-red-100 text-red-800",warn:"bg-yellow-100 text-yellow-800"}[t]||"bg-gray-100 text-gray-800",s=e[t]||t;return u.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold ${n}`,children:s})},dx=()=>{const{t,language:e,dir:r}=Ct(),{addToast:n}=Lg(),[s,i]=N.useState(!1),[o,a]=N.useState(!1),[l,c]=N.useState(!1),[d,h]=N.useState(null),[f,m]=N.useState([]),[y,w]=N.useState(!1),E=async()=>{var tt,Ie,_t;c(!0),h(null),a(!1);const p=document.title,_=((tt=document.querySelector('meta[name="description"]'))==null?void 0:tt.getAttribute("content"))||"",x=((Ie=document.querySelector("h1"))==null?void 0:Ie.innerText)||"",S=Array.from(document.querySelectorAll("img")).filter(Oe=>!Oe.alt&&Oe.src),A=(_t=document.querySelector('link[rel="canonical"]'))==null?void 0:_t.getAttribute("href"),$=document.querySelector('script[type="application/ld+json"]');let P=100;const H={titleLength:{status:"pass",value:p.length,message:""},descriptionLength:{status:"pass",value:_.length,message:""},h1Count:{status:"pass",value:x?1:0,message:""},imageAlt:{status:"pass",value:S.length,message:""},schema:{status:"pass",message:""},canonical:{status:"pass",message:""}};(p.length<30||p.length>60)&&(H.titleLength.status="warn",H.titleLength.message="Title should be between 30-60 chars.",P-=10),(_.length<120||_.length>160)&&(H.descriptionLength.status=_.length===0?"fail":"warn",H.descriptionLength.message=_.length===0?"Missing description.":"Description optimal length is 120-160 chars.",P-=_.length===0?20:5),x||(H.h1Count.status="fail",H.h1Count.message="Missing H1 tag.",P-=20),S.length>0&&(H.imageAlt.status="warn",H.imageAlt.message=`${S.length} images missing alt text.`,P-=5),$?H.schema.message="Schema markup detected.":(H.schema.status="fail",H.schema.message="No Schema.org markup found.",P-=10),A?H.canonical.message="Canonical tag present.":(H.canonical.status="fail",H.canonical.message="Missing canonical tag.",P-=5);try{const Oe=document.body.innerText.replace(/\s+/g," ").substring(0,1e3),M=await FE({title:p,description:_,h1:x,contentSample:Oe},e),L={score:Math.max(0,P),metrics:H,aiRecommendations:M};h(L),sx(window.location.href,L).then(({error:T})=>{T?(console.error("Save failed:",T),n(`Save failed: ${T.message||JSON.stringify(T)}`,"error")):n("Report saved to DB.","success")})}catch(Oe){console.error(Oe),n("AI Analysis failed, showing metrics only.","error"),h({score:Math.max(0,P),metrics:H,aiRecommendations:{strategy:["Ensure keywords are in H1 and Title.","Register on Google Search Console."],directories:["Ketab Avval","Google Maps","LinkedIn Company Page"],keywords:["Steel Price Iran","Buy Rebar Online","Iron Market"]}})}finally{c(!1)}},v=async()=>{w(!0),a(!0);try{const p=await ix();m(p)}catch{n("Failed to fetch history. Check Diagnostics.","error")}finally{w(!1)}},g={pass:t("seoChecker.pass"),fail:t("seoChecker.fail"),warn:t("seoChecker.warn")};return u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`fixed bottom-24 ${r==="rtl"?"left-6":"right-6"} z-40`,children:u.jsxs("button",{onClick:()=>{i(!0),!d&&!o&&E()},className:"w-14 h-14 bg-white border-2 border-slate-200 rounded-full flex items-center justify-center text-slate-600 shadow-lg hover:border-corp-teal hover:text-corp-teal transition-all group",title:t("seoChecker.buttonLabel"),children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),u.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[u.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-corp-teal opacity-75"}),u.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-corp-teal"})]})]})}),s&&u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 animate-fade-in",onClick:()=>i(!1),children:u.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",onClick:p=>p.stopPropagation(),children:[u.jsxs("div",{className:"bg-slate-50 p-4 border-b border-slate-200 flex justify-between items-center",children:[u.jsxs("h2",{className:"text-xl font-bold text-slate-800 flex items-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-corp-teal",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),t("seoChecker.title")]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>{a(!1),d||E()},className:`px-3 py-1 text-xs font-bold rounded ${o?"text-slate-600 hover:bg-slate-200":"bg-corp-teal text-white"}`,children:"Current"}),u.jsx("button",{onClick:v,className:`px-3 py-1 text-xs font-bold rounded ${o?"bg-corp-teal text-white":"text-slate-600 hover:bg-slate-200"}`,children:"History (DB)"}),u.jsx("button",{onClick:()=>i(!1),className:"p-1 rounded-full hover:bg-slate-200 text-slate-500",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]}),u.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:o?u.jsx("div",{className:"space-y-4",children:y?u.jsx("div",{className:"flex justify-center p-4",children:u.jsx("div",{className:"w-6 h-6 border-2 border-dashed rounded-full animate-spin border-corp-teal"})}):f.length>0?u.jsx("div",{className:"space-y-3",children:f.map((p,_)=>u.jsxs("div",{className:"border p-3 rounded-lg flex justify-between items-center hover:bg-slate-50",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-sm text-slate-800",children:p.url}),u.jsx("div",{className:"text-xs text-slate-500",children:new Date(p.created_at).toLocaleString()})]}),u.jsx("div",{className:"text-xl font-bold text-corp-teal",children:p.score})]},_))}):u.jsx("p",{className:"text-center text-slate-500 py-4",children:"No history found in database."})}):u.jsx(u.Fragment,{children:l?u.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[u.jsx("div",{className:"w-12 h-12 border-4 border-dashed rounded-full animate-spin border-corp-teal mb-4"}),u.jsx("p",{className:"text-slate-600 animate-pulse",children:t("seoChecker.analyzing")})]}):d?u.jsxs("div",{className:"space-y-8",children:[u.jsx("div",{className:"flex items-center justify-center",children:u.jsxs("div",{className:"relative w-32 h-32 flex items-center justify-center rounded-full border-8 border-slate-100",children:[u.jsx("div",{className:"absolute inset-0 rounded-full border-8 border-corp-teal border-t-transparent animate-spin",style:{animationDuration:"3s"}}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("span",{className:"text-4xl font-bold text-slate-800",children:d.score}),u.jsx("span",{className:"text-xs text-slate-500 uppercase font-bold",children:t("seoChecker.score")})]})]})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-3 border-b border-slate-100 pb-1",children:t("seoChecker.metricsTitle")}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Object.entries(d.metrics).map(([p,_])=>{const x=_;return u.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-100 flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold text-slate-700 capitalize",children:p.replace(/([A-Z])/g," $1").trim()}),x.message&&u.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:x.message})]}),u.jsx(cx,{status:x.status,labels:g})]},p)})})]}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-sm font-bold text-corp-teal uppercase tracking-wider mb-3 border-b border-slate-100 pb-1 flex items-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"})}),t("seoChecker.recommendationsTitle")]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-md",children:[u.jsx("h4",{className:"font-bold text-blue-800 text-sm mb-2",children:t("seoChecker.registerSites")}),u.jsx("ul",{className:"list-disc list-inside text-sm text-blue-700 space-y-1",children:d.aiRecommendations.directories.map((p,_)=>u.jsx("li",{children:p},_))})]}),u.jsxs("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded-r-md",children:[u.jsx("h4",{className:"font-bold text-green-800 text-sm mb-2",children:t("seoChecker.strategies")}),u.jsx("ul",{className:"list-disc list-inside text-sm text-green-700 space-y-1",children:d.aiRecommendations.strategy.map((p,_)=>u.jsx("li",{children:p},_))})]}),u.jsxs("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-4 rounded-r-md",children:[u.jsx("h4",{className:"font-bold text-purple-800 text-sm mb-2",children:t("seoChecker.keywords")}),u.jsx("div",{className:"flex flex-wrap gap-2",children:d.aiRecommendations.keywords.map((p,_)=>u.jsx("span",{className:"bg-purple-100 text-purple-700 px-2 py-1 rounded text-xs font-semibold",children:p},_))})]})]})]})]}):null})}),u.jsx("div",{className:"p-4 bg-slate-50 border-t border-slate-200 text-center",children:u.jsxs("button",{onClick:E,className:"px-6 py-2 bg-slate-800 text-white rounded-lg hover:bg-slate-700 transition-colors text-sm font-bold shadow-md",children:[t("distributorFinder.searchButton")," / Refresh"]})})]})})]})},hx=N.lazy(()=>We(()=>import("./PartnershipsPage-Qsws3std.js"),[])),fx=N.lazy(()=>We(()=>import("./AIChatPage-BgXtrbA4.js"),[])),px=N.lazy(()=>We(()=>import("./TeamPage-D1Wqchof.js"),[])),mx=N.lazy(()=>We(()=>import("./DistributorFinderPage-MEJgSe2J.js"),[])),gx=N.lazy(()=>We(()=>import("./RecommendationEnginePage-BoHABMrk.js"),[])),vx=N.lazy(()=>We(()=>import("./ContentHubPage-Dp-xkUEz.js"),[])),Dh=N.lazy(()=>We(()=>import("./BlogPage-B3x8dklI.js"),[])),yx=N.lazy(()=>We(()=>import("./ArticlePage-fbv0Cokg.js"),[])),wx=N.lazy(()=>We(()=>import("./ToolsPage-rnBoL5QH.js"),[])),_x=N.lazy(()=>We(()=>import("./IronSnappPage-DXr9labc.js"),__vite__mapDeps([0,1]))),Ex=N.lazy(()=>We(()=>import("./DashboardPage-BKhVWtIO.js"),[])),xx=N.lazy(()=>We(()=>import("./UserDashboardPage-BRIbURRt.js"),[])),bx=N.lazy(()=>We(()=>import("./PricesPage-BmVkg86j.js"),__vite__mapDeps([2,3]))),Sx=N.lazy(()=>We(()=>import("./MapFinderPage-DkoPJCwg.js"),__vite__mapDeps([4,3]))),Uh=null,kx=`You are a professional, helpful, and knowledgeable AI assistant for "Steel Online 20", a leading online marketplace for steel and iron products in Iran. Your purpose is to assist users (builders, contractors, traders) by providing accurate information about steel prices, product specifications, and purchasing processes.

**Your capabilities:**
*   Answer questions about steel products: Rebar (Milgard), Beams (Tir-Ahan IPE/IPB), Sheets (Varagh Black/Oil/Galvanized), Profiles (Ghotie), Pipes (Looleh), etc.
*   Provide technical information about standards (DIN, ASTM, Gost), grades (ST37, ST52), and weight calculations.
*   Explain our services: Credit purchase (Check/LC), Shipping, and Price Guarantees.
*   Help users find information on the website.

**Search Usage:**
*   You have access to Google Search. ALWAYS use it to provide the most up-to-date prices, news, and technical data. Do not rely on stale internal knowledge for pricing.

**App Features & Navigation:**
You can also guide users to the right tools on our website. When a user's query matches one of the features below, you should recommend they use it and provide a special link.
*   **Smart Steel Advisor**: Use this for users asking for product recommendations for a specific project. Suggest it with the link format: [Smart Steel Advisor](page:test_recommender)
*   **IronSnapp Marketplace**: Use this for users wanting to buy steel directly from sellers, compare prices, or find the nearest warehouse. Especially useful for CHECK payments. Suggest it with the link format: [IronSnapp Marketplace](page:iron_snapp)
*   **Find Suppliers**: Use this for users asking where to buy or find warehouses. Suggest it with the link format: [Find Suppliers](page:sample_dropoff)
*   **Tools (Weight/Shipping)**: Use this for weight calculation or shipping cost queries. Suggest it with the link format: [Steel Tools](page:tools)
*   **Credit Purchase**: Use this for payment inquiries. Suggest it with the link format: [Credit Purchase](page:partnerships)
*   **Sales Team**: Use this when users ask about sales managers. Suggest it with the link format: [Sales Team](page:our_experts)
*   **Market Insights**: Use this for price trends. Suggest it with the link format: [Market Insights](page:content_hub)

Example response: "For a detailed estimate of the shipping cost to Mashhad, please use our [Shipping Calculator](page:tools)."

**Tone and Style:**
*   Maintain a professional, industrial, and helpful tone.
*   Use relevant emojis (like , , , , ).

**Crucial Safety Instructions:**
*   **DO NOT PROVIDE STRUCTURAL ENGINEERING PLANS.** You are an AI assistant providing product information. Always advise users to consult with a certified structural engineer for safety calculations.
`,Tx=()=>u.jsx("div",{className:"min-h-[50vh] flex items-center justify-center",children:u.jsx("div",{className:"w-12 h-12 border-4 border-slate-200 border-t-corp-red rounded-full animate-spin"})}),Nx=()=>{const[t,e]=N.useState("home"),[r,n]=N.useState(null),[s,i]=N.useState(!1),[o,a]=N.useState(!1),[l,c]=N.useState(!1),[d,h]=N.useState([{role:"model",parts:[{text:"!       .          "}]}]),[f,m]=N.useState(!1),[y,w]=N.useState(null),[E,v]=N.useState(!1),[g,p]=N.useState(!1),[_,x]=N.useState(null),[b,S]=N.useState(null),[A,$]=N.useState(null),[P,H]=N.useState(!1),[tt,Ie]=N.useState(null),[_t,Oe]=N.useState(!1),[M,L]=N.useState(null),[T,j]=N.useState(!1),[F,ee]=N.useState(null),[ue,Et]=N.useState(null),[Rt,Hr]=N.useState(!1),[jt,Pt]=N.useState(null),[Ug,zu]=N.useState(!1),[Hu,Gu]=N.useState(null),{addToast:vr}=Lg(),{language:lt,t:Ce}=Ct();N.useEffect(()=>{le.auth.getSession().then(({data:{session:U}})=>{var V;U!=null&&U.user&&n({name:U.user.user_metadata.full_name||((V=U.user.email)==null?void 0:V.split("@")[0])||"User",email:U.user.email||"",picture:U.user.user_metadata.avatar_url})});const{data:{subscription:B}}=le.auth.onAuthStateChange((U,V)=>{var be;V!=null&&V.user?n({name:V.user.user_metadata.full_name||((be=V.user.email)==null?void 0:be.split("@")[0])||"User",email:V.user.email||"",picture:V.user.user_metadata.avatar_url}):n(null)});return()=>B.unsubscribe()},[]);const Mg=(Kt||[]).map(B=>`Article: ${B.title[lt]} ('article', id: ${B.id}). Content: ${B.excerpt[lt]}. Category: ${B.category[lt]}. Tags: ${(B.tags||[]).map(U=>U[lt]).join(", ")}`).join(`
    `),$g=`
    Product Categories: 
    - ${Ce("products.food_feed.title")}: ${Ce("products.food_feed.description")} Keywords: rebar, mesh, construction steel.
    - ${Ce("products.microbiology.title")}: ${Ce("products.microbiology.description")} Keywords: IPE beam, IPB beam, honeycomb beam.
    - ${Ce("products.environmental.title")}: ${Ce("products.environmental.description")} Keywords: black sheet, galvanized sheet, oiled sheet.

    Sales Team:
    - ${Ce("ourTeam.doctors.0.name")}: ${Ce("ourTeam.doctors.0.specialty")} - ${Ce("ourTeam.doctors.0.bio")}
    - ${Ce("ourTeam.doctors.1.name")}: ${Ce("ourTeam.doctors.1.specialty")} - ${Ce("ourTeam.doctors.1.bio")}
    - ${Ce("ourTeam.doctors.2.name")}: ${Ce("ourTeam.doctors.2.specialty")} - ${Ce("ourTeam.doctors.2.bio")}

    Website Pages & Tools:
    - Page: Home ('home'). Content: Main page with daily steel prices and product categories.
    - Tool: IronSnapp Marketplace ('iron_snapp'). Content: A marketplace to buy steel directly from sellers, find the nearest warehouse, and pay via check or cash.
    - Tool: Smart Steel Advisor ('test_recommender'). Content: AI tool to recommend steel products for construction projects based on type and location.
    - Page: Find Suppliers ('sample_dropoff'). Content: Map and search tool to find steel warehouses and iron depots.
    - Tool: AI Consultant ('ai_consultant'). Content: Chat interface to ask about steel prices and standards.
    - Page: Market Insights ('content_hub'). Content: Tool to track steel market trends and generate content.
    - Page: Blog ('blog'). Content: Articles about steel industry news.
    ${Mg}
    - Page: Sales Team ('our_experts'). Content: Meet our sales experts.
    - Page: Credit Purchase ('partnerships'). Content: B2B services, check/LC payment options.
    - Page: Tools ('tools'). Content: Weight calculator, shipping cost estimator, credit info.
  `,Wt=B=>{let U="An unexpected error occurred.";return B instanceof Error?U=B.message:typeof B=="string"&&(U=B),(U.includes("429")||U.includes("quota"))&&(a(!0),U="API quota exceeded. Please check your billing or try again later."),vr(U,"error"),U},Vu=async()=>{await le.auth.signOut(),n(null),vr("You have been logged out.","info")},Bg=B=>{n(B),i(!1),vr(`Welcome, ${B.name}!`,"success"),B.role==="admin"?e("admin_dashboard"):e("user_dashboard")},Wu=async B=>{var be,Mn;const U={role:"user",parts:[{text:B}]},V=[...d,U];h(ce=>[...ce,U,{role:"model",parts:[{text:""}]}]),m(!0);try{if(!Uh)throw new Error("API key not configured. Please add your Gemini API key in secrets.");const ce=await Uh.models.generateContentStream({model:"gemini-2.5-flash",contents:V,config:{systemInstruction:kx,tools:[{googleSearch:{}}]}});let Me="",xt=null;for await(const Vr of ce)Me+=Vr.text,(Mn=(be=Vr.candidates)==null?void 0:be[0])!=null&&Mn.groundingMetadata&&(xt=Vr.candidates[0].groundingMetadata),h($n=>{const ut=[...$n];return ut[ut.length-1]={role:"model",parts:[{text:Me}]},ut});if(xt!=null&&xt.groundingChunks){const Vr=new Set,$n=[];if(xt.groundingChunks.forEach(ut=>{var Wr,qr;if((Wr=ut.web)!=null&&Wr.uri&&((qr=ut.web)!=null&&qr.title)){const Ku=ut.web.uri;Vr.has(Ku)||(Vr.add(Ku),$n.push(`[${ut.web.title}](${ut.web.uri})`))}}),$n.length>0){const ut=`

**Sources:**
${$n.map(Wr=>`- ${Wr}`).join(`
`)}`;Me+=ut,h(Wr=>{const qr=[...Wr];return qr[qr.length-1]={role:"model",parts:[{text:Me}]},qr})}}}catch(ce){Wt(ce),h(Me=>Me.slice(0,-1))}finally{m(!1)}},qu=async(B,U,V="distributor")=>{v(!0),w(null);try{let be=null;if(B==="geo")try{be=await new Promise((ce,Me)=>{if(!navigator.geolocation){Me(new Error("Geolocation not supported"));return}navigator.geolocation.getCurrentPosition(xt=>ce({lat:xt.coords.latitude,lon:xt.coords.longitude}),xt=>{Me(xt)},{timeout:1e4})})}catch(ce){console.error("Geolocation error:",ce);let Me="Could not get your location.";(ce==null?void 0:ce.code)===1&&(Me="Location permission denied."),(ce==null?void 0:ce.code)===2&&(Me="Location unavailable. Please check GPS/Network."),(ce==null?void 0:ce.code)===3&&(Me="Location request timed out."),vr(Me,"error"),v(!1);return}const Mn=await YE(U,be,lt,V);w(Mn)}catch(be){Wt(be)}finally{v(!1)}},Fg=async(B,U)=>{H(!0),$(null),Ie(null);try{const V=U?{inlineData:{data:U.base64,mimeType:U.mimeType}}:null,be=await qE(B,V,lt);$(be)}catch(V){Wt(V)}finally{H(!1)}},zg=async B=>{Oe(!0),Ie(null);try{const U=await KE(B,lt);Ie(U)}catch(U){Wt(U)}finally{Oe(!1)}},Hg=async B=>{await qu("geo",B,"distributor"),e("sample_dropoff")},Gg=async B=>{p(!0),x(null),S(null);try{const U=await JE(B,$g,lt);x(U)}catch(U){const V=Wt(U);S(V)}finally{p(!1)}},Vg=async()=>{j(!0),ee(null),L(null);try{const B=await QE(lt);L(B)}catch(B){const U=Wt(B);ee(U)}finally{j(!1)}},Wg=async(B,U)=>{Hr(!0),Et({platform:U,text:"...",imageUrl:null}),Pt(null);try{const{postText:V,imagePrompt:be}=await ZE(B,U,lt);Et({platform:U,text:V,imageUrl:null}),vr("Generating visual...","info");const ce=`data:image/jpeg;base64,${await XE(be)}`;Et({platform:U,text:V,imageUrl:ce}),vr("Content generated!","success")}catch(V){Wt(V),Et(null)}finally{Hr(!1)}},qg=async(B,U)=>{zu(!0),Pt(null);try{const V=await ex(B,U,lt);Pt(V),vr("Content adapted!","success")}catch(V){Wt(V)}finally{zu(!1)}},Kg=(B,U)=>{if(B==="article"&&U){const V=Kt.find(be=>be.id===U);V&&Gu(V)}e(B),c(!1)},Gr=B=>{Gu(B),e("article")},Yg=()=>u.jsx(N.Suspense,{fallback:u.jsx(Tx,{}),children:(()=>{switch(t){case"home":return u.jsx(pi,{setPage:e,articles:Kt,onSelectArticle:Gr});case"prices":return u.jsx(bx,{setPage:e});case"map_finder":return u.jsx(Sx,{setPage:e});case"iron_snapp":return u.jsx(_x,{});case"test_recommender":return u.jsx(gx,{onGetRecommendation:Fg,isLoading:P,result:A,onClearResult:()=>{$(null),Ie(null)},onGetTestDetails:zg,isFetchingTestDetails:_t,testDetails:tt,onFindDropoffLocation:Hg});case"sample_dropoff":return u.jsx(mx,{onSearch:qu,isLoading:E,results:y,isQuotaExhausted:o});case"ai_consultant":return u.jsx(fx,{chatHistory:d,isStreaming:f,onSendMessage:Wu,setPage:e});case"blog":return u.jsx(Dh,{articles:Kt,onSelectArticle:Gr});case"article":return Hu?u.jsx(yx,{article:Hu,setPage:e}):u.jsx(Dh,{articles:Kt,onSelectArticle:Gr});case"content_hub":return u.jsx(vx,{onFetchTrends:Vg,isFetchingTrends:T,trends:M,trendsError:F,onGeneratePost:Wg,isGeneratingPost:Rt,generatedPost:ue,onClearPost:()=>{Et(null),Pt(null)},onAdaptPost:qg,isAdapting:Ug,adaptedPost:jt});case"our_experts":return u.jsx(px,{});case"partnerships":return u.jsx(hx,{setPage:e});case"tools":return u.jsx(wx,{});case"dashboard":case"admin_dashboard":return!r||r.role!=="admin"?(i(!0),e("home"),u.jsx(pi,{setPage:e,articles:Kt,onSelectArticle:Gr})):u.jsx(Ex,{setPage:e});case"user_dashboard":return r?u.jsx(xx,{setPage:e,user:r,onLogout:Vu}):(i(!0),e("home"),u.jsx(pi,{setPage:e,articles:Kt,onSelectArticle:Gr}));default:return u.jsx(pi,{setPage:e,articles:Kt,onSelectArticle:Gr})}})()}),Jg=!!r;return u.jsxs("div",{className:"bg-slate-50 text-slate-800 font-sans relative",children:[t!=="dashboard"&&t!=="admin_dashboard"&&t!=="user_dashboard"&&u.jsx(J_,{currentPage:t,setPage:e,isAuthenticated:Jg,user:r,onLoginClick:()=>i(!0),onLogoutClick:Vu,onSearchClick:()=>c(!0)}),u.jsx("main",{children:Yg()}),t!=="dashboard"&&t!=="admin_dashboard"&&t!=="user_dashboard"&&u.jsx(ME,{setPage:e}),u.jsx(X_,{isOpen:o,onClose:()=>a(!1)}),u.jsx(eE,{isOpen:s,onClose:()=>i(!1),onLogin:Bg}),u.jsx(tE,{isOpen:l,onClose:()=>c(!1),onSearch:Gg,isLoading:g,results:_,error:b,onNavigate:Kg}),t!=="dashboard"&&t!=="admin_dashboard"&&t!=="user_dashboard"&&u.jsx(UE,{chatHistory:d,isStreaming:f,onSendMessage:Wu,setPage:e}),t!=="dashboard"&&t!=="admin_dashboard"&&t!=="user_dashboard"&&u.jsx(dx,{})]})},Dg=document.getElementById("root");if(!Dg)throw new Error("Could not find root element to mount to");const Ax=wa.createRoot(Dg);Ax.render(u.jsx(yo.StrictMode,{children:u.jsx(ux,{children:u.jsx(Y_,{children:u.jsx(Nx,{})})})}));export{yo as R,Q_ as S,Lg as a,H1 as b,z1 as c,W1 as d,q1 as e,G1 as f,V1 as g,Ty as h,Mh as i,u as j,Kr as k,K1 as l,W as m,Y1 as n,Q1 as o,Z1 as p,X1 as q,N as r,eb as s,tb as t,Ct as u,ix as v,J1 as w};
